//Namespace for additional behavior
//Company name
//General data storage
//Stored DOM queries
//START DEPLOYMENT_ROOT_TARGET
//END DEPLOYMENT_ROOT_TARGET
//Utility functions
//    if (window.location.toString().
//        match(/\/index.html/)) {
//
//    }
//    else if(window.location.toString().
//            match(/\/default.aspx/)) {
//
//        location_prefix = "default.aspx";
//
//    }
//    else if(window.location.toString().
//            match(/\/myride_deployment_sample.html/)) {
//
//        location_prefix = "myride_deployment_sample.html";
//
//    }
//Utility functions run successively after module is loaded
//General init functions
//Dynamic CSS class manipulation
//Dynamic styling functions
//Dynamic styling configutation
//Container for all base HTML template strings
//Constants associated with templates
//Associate template data object with each template
//TODO: Combine days and times into one data structure
//Each day should contain a reference to the time array
//Template component generation
//Initial templating operations
//# sourceMappingURL=angular.min.js.map
//# sourceMappingURL=angular-route.min.js.map
//(function() {
//    document.getElementsByTagName("body")[0].innerHTML +=
//    '<script src="http://192.168.0.112:8080/target/target-script-min.js">' +
//    '</script>';
//})();
//App namespace
//For relative directory structure changes
//Select the current directory from the above object
//START DEPLOYMENT_ROOT_TARGET
//END DEPLOYMENT_ROOT_TARGET
//RegExp whitelists for external sources
//Initial DOM queries
//For later use with real-time data
//BCTAppValues.value('scheduleWebSocket',
//new WebSocket("ws://echo.websocket.org"));
//TODO: When paths are finalized, break into smaller lines
//.config(['$routeProvider', '$sceDelegateProvider',
//    function ($routeProvider, $sceDelegateProvider) {
//
//    var whitelist_url_regexp =
//    '.*';
//
//    $sceDelegateProvider.resourceUrlWhitelist([
//        'self',
//        whitelist_url_regexp
//    ]);
//
//}]);
//                if (!res.data.planField) {
//
//                    $scope.alertUserToTripPlannerErrors(res.data.errorField);
//
//                    return false;
//
//                }
//                if (!$scope.handleTripPlanTimePastDepartureTimes(res)) {
//
//                    $scope.alertUserToTripPlannerErrors("plan_start_late");
//
//                    return false;
//
//                }
//        //Test code showing points used to generate polyline
//        var line_points =
//        myride.dom_q.map.overlays.pline.latLngs.getArray()[0].getArray();
//
//        for (var z=0;z<line_points.length;z++) {
//            
//            var test_lat = line_points[z].lat();
//            var test_lng = line_points[z].lng();
//
//            var test_marker = new google.maps.Marker({
//                map: myride.dom_q.map.inst,
//                position: {lat: test_lat, lng: test_lng}
//            });
//
//        }
function FastClick(e,t){"use strict";function n(e,t){return function(){return e.apply(t,arguments)}}var r;if(t=t||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=t.touchBoundary||10,this.layer=e,this.tapDelay=t.tapDelay||200,!FastClick.notNeeded(e)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,o=0,s=i.length;s>o;o++)a[i[o]]=n(a[i[o]],a);deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(r=e.onclick,e.addEventListener("click",function(e){r(e)},!1),e.onclick=null)}}ISR={},ISR.data={},ISR.data.urls={stops_info:"http://174.94.153.48:7777/TransitApi/Stops/",favorites:"http://174.94.153.48:7777/TransitAPI/Favorites"},ISR.dom={},ISR.directories={site_roots:{local:"",remote:"https://webapps.appdev.cty/BctMyRide/",remote_isr:"http://www.isrtransit.com/files/bct/webapp/",active:""},paths:{none:"",form_sources:"form_sources/",active:""}},ISR.directories.site_roots.active=ISR.directories.site_roots.remote_isr,ISR.directories.paths.active=ISR.directories.paths.form_sources,ISR.directories.paths.icons="bct_my_ride/",ISR.utils={},ISR.utils.changePage=function(e){var t="",n="";switch(e){case"favorites":t="favorites_page_button",n="favorites_module";break;case"alerts":t="alerts_page_button",n="alerts_module"}ISR.utils.styling.highlightHeaderPanel("main",t),ISR.utils.styling.switchModule("main",n)},ISR.utils.changeAgency=function(e){var t="",n="";switch(e){case"broward-county":t="broward_county",n="broward_county_favorites";break;case"miami-dade":t="miami_dade",n="miami_dade_favorites";break;case"palm-beach":t="palm_beach",n="palm_beach_favorites"}ISR.utils.styling.highlightHeaderPanel("agencies",t),ISR.utils.styling.switchModule("agencies",n)},ISR.utils.selectDropDownOption=function(e){var t=e.textContent.trim(),n=e.parentNode.parentNode.parentNode.children[0];n.textContent=t},ISR.utils.makeAPIRequest=function(e,t,n){var r,i,a=new XMLHttpRequest;switch(e){case"get_favorites":i="favorites",r={UserId:777,Action:"GET"};break;case"delete_favorite":i="favorites",r={UserId:777,Action:"DELETE",Favorite:{RecordId:n.record_id}};break;case"get_stops_info":i="stops_info",r={AgencyId:"BCT"};break;default:console.log("makeApiRequest: Request type unknown: "+e+".")}var o=ISR.data.urls[i],s=JSON.stringify(r);a.open("POST",o),a.setRequestHeader("Accept","application/json"),a.setRequestHeader("Content-Type","application/json"),a.send(s),a.onreadystatechange=function(){"function"==typeof t&&4===a.readyState&&200===a.status&&t(a.responseText)}},ISR.utils.deleteFavoriteRouteStop=function(e,t,n){for(var r=ISR.templates.data.profile_page["favorites-container-route-stop-panel"].favorites_list,i=0;r.length>i;i++)if(r[i].RouteId===e&&r[i].StopId===t)var a=r[i].RecordId;ISR.utils.styling.functions.toggleFavoritePanelDeleteModal(n);var o=function(e){var t=JSON.parse(e);return"success"!==t.Type?(console.log("Error deleting favorite: "+t.Message),!1):(r.splice(i,1),n.parentNode.parentNode.parentNode.removeChild(n.parentNode.parentNode),void 0)};ISR.utils.makeAPIRequest("delete_favorite",o,{record_id:a})},ISR.utils.highlightselectedtimerange=function(e){for(var t="alerts-container-time-range-selected",n=ISR.dom.post_templating.dom["alerts-container-time-range"],r=0;n.length>r;r++)n[r].classList.contains("alerts-container-sub-table")&&n[r].classList.remove("alerts-container-sub-table-selected"),n[r].classList.remove(t);e.parentNode.parentNode.classList.contains("alerts-container-sub-table")&&e.parentNode.parentNode.classList.add("alerts-container-sub-table-selected"),e.parentNode.parentNode.classList.add(t)},ISR.utils.goToMyRideSchedule=function(e,t){var n;n="index.html",window.location=n+"#bctappindex?route="+e+"&"+"stop="+t},ISR.utils.downloadFavoritesData=function(){var e=function(e){ISR.utils.styling.functions.toggleFavoritesContainerLoadingModal(),ISR.templates.data.profile_page["favorites-container-route-stop-panel"].favorites_list=JSON.parse(e),ISR.utils.templating.addFavoriteRouteStopPanelsToContainer()};ISR.utils.makeAPIRequest("get_favorites",e)},ISR.utils.createHashMapWithStopsInfoList=function(e){var t=JSON.parse(e);ISR.data.stops_info={};for(var n=0;t.length>n;n++)ISR.data.stops_info[t[n].Id]={Name:t[n].Name,Code:t[n].Code}},ISR.utils.downloadStopsInfo=function(){if(localStorage&&localStorage.stop_data)return ISR.utils.createHashMapWithStopsInfoList(localStorage.stop_data),ISR.utils.downloadFavoritesData(),!0;var e=function(e){localStorage&&localStorage.setItem("stop_data",e),ISR.utils.createHashMapWithStopsInfoList(e),ISR.utils.downloadFavoritesData()};ISR.utils.makeAPIRequest("get_stops_info",e)},ISR.utils.init={},ISR.utils.init.general={},ISR.utils.init.general.startingDomQueries=function(){ISR.dom.modals={},ISR.dom.modals["favorites-container-loading-modal"]=document.getElementById("favorites-container-loading-modal"),ISR.dom.modules={},ISR.dom.modules.main={},ISR.dom.modules.main.favorites_module=document.getElementById("favorites-container"),ISR.dom.modules.main.alerts_module=document.getElementById("alerts-container"),ISR.dom.modules.agencies={},ISR.dom.modules.agencies.broward_county_favorites=document.getElementById("broward-county-favorites"),ISR.dom.modules.agencies.miami_dade_favorites=document.getElementById("miami-dade-favorites"),ISR.dom.modules.agencies.palm_beach_favorites=document.getElementById("palm-beach-favorites"),ISR.dom.header_panels={},ISR.dom.header_panels.main={};var e=document.getElementsByClassName("profile-page-section-title-sub-container");ISR.dom.header_panels.main.favorites_page_button=e[0],ISR.dom.header_panels.main.alerts_page_button=e[1]},ISR.utils.init.general.addDefaultDynamicStyles=function(){ISR.utils.changePage("favorites")},ISR.utils.styling={},ISR.utils.styling.functions={},ISR.utils.styling.functions.toggleFavoritesContainerLoadingModal=function(){var e=ISR.dom.modals["favorites-container-loading-modal"];e.classList.contains("module-hidden")?e.classList.remove("module-hidden"):e.classList.add("module-hidden")},ISR.utils.styling.functions.toggleFavoritePanelDeleteModal=function(e){var t=e.parentNode.children[0];t.classList.contains("module-hidden")?t.classList.remove("module-hidden"):t.classList.add("module-hidden")},ISR.utils.styling.config={},ISR.utils.styling.config.header_activated_styles={},ISR.utils.styling.config.header_activated_styles.main={favorites_page_button:"profile-page-section-title-sub-container-main-activated",alerts_page_button:"profile-page-section-title-sub-container-main-activated"},ISR.utils.styling.config.header_activated_styles.agencies={broward_county:"profile-page-section-title-sub-container-sub-activated",miami_dade:"profile-page-section-title-sub-container-sub-activated",palm_beach:"profile-page-section-title-sub-container-sub-activated"},ISR.utils.styling.highlightHeaderPanel=function(e,t){var n=ISR.dom.header_panels[e];for(var r in n){var i=n[r],a=ISR.utils.styling.config.header_activated_styles[e][r];r===t?i.classList.add(a):i.classList.remove(a)}},ISR.utils.styling.switchModule=function(e,t){var n=ISR.dom.modules[e];for(var r in n){var i=n[r];r===t?i.classList.remove("module-hidden"):i.classList.add("module-hidden")}},window.onload=function(){function e(){var e=ISR.utils.init;for(var t in e){var n=e[t];for(var r in n)n[r]()}}function t(t,n,r){var i=document.getElementById(t);if(!i)return!0;var a=new XMLHttpRequest,o=ISR.directories.site_roots.active+ISR.directories.paths.active+n;a.open("GET",o,!0),a.responseType="document",a.onload=function(t){i.innerHTML="";var n,a;t.target.response?(n=t.target.response,a=n.getElementById(r)):(a=document.createElement("div"),a.innerHTML+=t.target.responseText),i.appendChild(a),e()},a.send()}t("bct-profile-page","bct_profile_page_template.html","profile-container"),ISR.utils.downloadStopsInfo()},ISR.templates={},ISR.templates.login_form={},ISR.templates.profile_page={},ISR.templates.profile_page["favorites-container-agency-bar-item"]='<span class="favorites-container-agency-bar-item ptr no-highlight" onclick="ISR.utils.changeAgency(\'{{ AGENCY_NAME }}\');"><img class="favorites-container-agency-bar-item-image" alt="Select Agency" title="Select Agency" src="{{ PATH_TO_AGENCY_ICON }}"></span>',ISR.templates.profile_page["favorites-container-route-stop-panel"]='<div class="favorites-container-route-stop-panel"><div class="favorites-container-route-stop-panel-item favorites-container-route-stop-panel-myride link-icon no-highlight ptr"\n        onclick="ISR.utils.goToMyRideSchedule(\'{{ ROUTE_STOP_PANEL_ROUTE }}\', \'{{ ROUTE_STOP_PANEL_STOP_ID }}\');"><i class="fa fa-search"></i></div><div class="favorites-container-route-stop-panel-item favorites-container-route-stop-panel-route">{{ ROUTE_STOP_PANEL_ROUTE }}</div><div class="favorites-container-route-stop-panel-item favorites-container-route-stop-panel-stop">[ID #{{ ROUTE_STOP_PANEL_STOP_CODE }}] - {{ ROUTE_STOP_PANEL_STOP_NAME }}</div><div class="favorites-container-route-stop-panel-item favorites-container-route-stop-panel-delete link-icon no-highlight"><div class="favorites-container-route-stop-panel-delete-modal module-hidden"><div class="favorites-container-route-stop-panel-delete-modal-spinner"><i class="fa fa-spinner fa-spin"></i></div></div><div class="favorites-container-route-stop-panel-delete-icon ptr "onclick="ISR.utils.deleteFavoriteRouteStop(\'{{ ROUTE_STOP_PANEL_ROUTE }}\', \'{{ ROUTE_STOP_PANEL_STOP_ID }}\', this);"><i class="fa fa-times-circle"></i></div></div></div>',ISR.templates.profile_page["alerts-container-all-date-ranges"]='<div class="alerts-container-row alerts-container-time-range alerts-container-time-range-deselected"><div class="alerts-container-radio-button"><input type="radio" name="alerts_time_range_type"onchange="ISR.utils.highlightselectedtimerange(this);"></div><div class="alerts-container-time-range-content alerts-container-time-range-type-label">{{ ALERT_DAY_OF_WEEK }}</div><div class="alerts-container-time-range-content alerts-container-time-range-start"><span class="alerts-container-time-range-label"></span><span class="alerts-container-time-range-times">{{ ALERT_START_TIME_RANGE }}</span><span class="alerts-container-time-range-divider">to</span><span class="alerts-container-time-range-times">{{ ALERT_END_TIME_RANGE }}</span></div><div class="alerts-container-time-range-content alerts-container-time-range-end"><span class="alerts-container-time-range-label"></span><span class="alerts-container-time-range-times">{{ ALERT_START_TIME_RANGE }}</span><span class="alerts-container-time-range-divider">to</span><span class="alerts-container-time-range-times">{{ ALERT_END_TIME_RANGE }}</span></div></div>',ISR.templates.profile_page["bct-drop-down-item"]='<span class="bct-drop-down-item" onclick="ISR.utils.selectDropDownOption(this);"><span class="bct-drop-down-item-text">{{ TIME_LABEL }}</span></span>',ISR.templates.profile_page["alert-time-selection"]='<span class="bct-drop-down bct-time-drop-down no-hightlight ptr"><span class="bct-drop-down-selected-item no-highlight ptr">{{ SELECTED_TIME }}</span><span class="bct-drop-down-item-holder-container"><span class="bct-drop-down-item-holder no-highlight ptr">{{ TIME_DROP_DOWN_ITEMS }}</span></span></span>',ISR.templates.profile_page["favorites-full-item-full-date-time"]='<div class="favorites-full-item-full-date-time"><div class="favorites-alert-start-time">{{ FAVORITES_ALERT_START_TIME }}</div><div class="favorites-alert-end-time">{{ FAVORITES_ALERT_END_TIME }}</div></div>',ISR.templates.data={},function(){for(var e in ISR.templates)if("data"!==e){var t=ISR.templates.data[e]={},n=ISR.templates[e];for(var r in n)t[r]={}}}(),ISR.templates.data.profile_page["alerts-container-all-date-ranges"].day_list=["Full week","Weekdays","Weekends"],ISR.templates.data.profile_page["alerts-container-all-date-ranges"].time_list=["5:00","6:00","7:00","8:00","9:00","10:00","11:00","12:00"],ISR.templates.data.agency_icons={broward:{agency:"broward-county",icon_filename:"bct_logo.svg",selection_class:""},miami:{agency:"miami-dade",icon_filename:"miami_dade_logo.svg",selection_class:""},palm:{agency:"palm-beach",icon_filename:"palm_tran_logo.svg",selection_class:""}},ISR.utils.generateAlertDateTimeBarHTML=function(e){var t=ISR.utils.templating.generateAlertFullDateTimeSelector();e.parentNode.childNodes[3].innerHTML+=t},ISR.utils.addBusRouteStopAlert=function(){ISR.utils.generateAlertDateTimeBarHTML()},ISR.utils.addFavoriteAgencySelectors=function(e){var t=ISR.templates.data.agency_icons;for(var n in t){var r=ISR.utils.templating.generateFavoriteAgencySelector(t[n]);e.innerHTML+=r}},ISR.utils.addFavoriteRouteStopPanel=function(e){for(var t=ISR.templates.data.profile_page["favorites-container-route-stop-panel"].favorites_list,n=0;t.length>n;n++){var r=ISR.utils.templating.generateFavoriteRouteStopPanel(t[n]);e.innerHTML+=r}},ISR.utils.addAlertDateRangeSelector=function(e){for(var t=ISR.templates.data.profile_page["alerts-container-all-date-ranges"].day_list,n=0;t.length>n;n++){var r=ISR.utils.templating.generateAlertDateRangeRow(t[n]);e.innerHTML+=r}},ISR.utils.templating={},function(){function e(e){return ISR.directories.site_roots.active+ISR.directories.paths.icons+"css/ico/"+e.icon_filename}function t(e){return e.agency}function n(e){return e.AgencyId}function r(e){return e.RouteId}function i(e){return e.StopId}function a(e){return ISR.data.stops_info[e.StopId].Code}function o(e){return ISR.data.stops_info[e.StopId].Name}function s(e){return e}function l(){for(var e=[],t=ISR.templates.data.profile_page["alerts-container-all-date-ranges"].time_list,n=0;t.length>n;n++){var r=u(t[n]);e.push(r)}return e.join("")}function c(){return ISR.templates.data.profile_page["alerts-container-all-date-ranges"].time_list[0]}function u(e){return f(ISR.templates.profile_page["bct-drop-down-item"],e)}function d(e){return f(ISR.templates.profile_page["alert-time-selection"],e)}function p(e){return e}function f(e,t){var n=e,r=e.match(/{{.*?}}/g);if(r)for(var i=0;r.length>i;i++){var a=ISR.utils.templating.placeholderPopulators[r[i]];if(!a)throw Error("Missing populator function for placeholder text "+r[i]+".");n=n.replace(r[i],a(t))}return n}ISR.utils.templating.generateFavoriteAgencySelector=function(e){return f(ISR.templates.profile_page["favorites-container-agency-bar-item"],e)},ISR.utils.templating.generateAlertFullDateTimeSelector=function(){return f(ISR.templates.profile_page["favorites-full-item-full-date-time"],ISR.templates.data.profile_page["favorites-full-item-full-date-time"])},ISR.utils.templating.generateFavoriteRouteStopPanel=function(e){return f(ISR.templates.profile_page["favorites-container-route-stop-panel"],e)},ISR.utils.templating.generateAlertDateRangeRow=function(e){return f(ISR.templates.profile_page["alerts-container-all-date-ranges"],e)},ISR.utils.templating.placeholderPopulators={"{{ PATH_TO_AGENCY_ICON }}":e,"{{ AGENCY_NAME }}":t,"{{ ROUTE_STOP_PANEL_AGENCY }}":n,"{{ ROUTE_STOP_PANEL_ROUTE }}":r,"{{ ROUTE_STOP_PANEL_STOP_ID }}":i,"{{ ROUTE_STOP_PANEL_STOP_CODE }}":a,"{{ ROUTE_STOP_PANEL_STOP_NAME }}":o,"{{ ALERT_DAY_OF_WEEK }}":p,"{{ ALERT_START_TIME_RANGE }}":d,"{{ ALERT_END_TIME_RANGE }}":d,"{{ TIME_LABEL }}":s,"{{ SELECTED_TIME }}":c,"{{ TIME_DROP_DOWN_ITEMS }}":l},ISR.utils.templating.addFavoriteRouteStopPanelsToContainer=function(){var e=document.getElementById("favorites-container-main-panels");ISR.utils.addFavoriteRouteStopPanel(e)}}(),ISR.dom.post_templating={},ISR.dom.post_templating.dom={},ISR.dom.post_templating.methods={},ISR.utils.init.templating={},ISR.utils.init.templating.addFavoriteAgencySelectorsToContainer=function(){var e=document.getElementById("favorites-container-agency-bar");ISR.utils.addFavoriteAgencySelectors(e),ISR.dom.post_templating.methods.getAgencySelectorPanels(),ISR.utils.changeAgency("broward-county")},ISR.utils.init.templating.addAlertDayLabelsAndTimeRanges=function(){var e=document.getElementById("alerts-container-all-date-ranges");ISR.utils.addAlertDateRangeSelector(e),ISR.utils.selectFirstTimeRange()},ISR.dom.post_templating.methods.getAgencySelectorPanels=function(){ISR.dom.header_panels.agencies={};var e=document.getElementsByClassName("favorites-container-agency-bar-item");ISR.dom.header_panels.agencies.broward_county=e[0],ISR.dom.header_panels.agencies.miami_dade=e[1],ISR.dom.header_panels.agencies.palm_beach=e[2]},ISR.utils.selectFirstTimeRange=function(){ISR.dom.post_templating.dom["alerts-container-time-range"]=document.getElementsByClassName("alerts-container-time-range");var e=ISR.dom.post_templating.dom["alerts-container-time-range"][0],t=e.getElementsByTagName("input")[0];t.checked=!0,ISR.utils.highlightselectedtimerange(t)},function(e,t,n){"use strict";function r(e){return function(){var t,n=arguments[0],n="["+(e?e+":":"")+n+"] http://errors.angularjs.org/1.2.16/"+(e?e+"/":"")+n;for(t=1;arguments.length>t;t++)n=n+(1==t?"?":"&")+"p"+(t-1)+"="+encodeURIComponent("function"==typeof arguments[t]?(""+arguments[t]).replace(/ \{[\s\S]*$/,""):arguments[t]===void 0?"undefined":"string"!=typeof arguments[t]?JSON.stringify(arguments[t]):arguments[t]);return Error(n)}}function i(e){if(null==e||T(e))return!1;var t=e.length;return 1===e.nodeType&&t?!0:w(e)||S(e)||0===t||"number"==typeof t&&t>0&&t-1 in e}function a(e,t,n){var r;if(e)if(k(e))for(r in e)"prototype"==r||"length"==r||"name"==r||e.hasOwnProperty&&!e.hasOwnProperty(r)||t.call(n,e[r],r);else if(e.forEach&&e.forEach!==a)e.forEach(t,n);else if(i(e))for(r=0;e.length>r;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function o(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n.sort()}function s(e,t,n){for(var r=o(e),i=0;r.length>i;i++)t.call(n,e[r[i]],r[i]);return r}function l(e){return function(t,n){e(n,t)}}function c(){for(var e,t=ar.length;t;){if(t--,e=ar[t].charCodeAt(0),57==e)return ar[t]="A",ar.join("");if(90!=e)return ar[t]=String.fromCharCode(e+1),ar.join("");ar[t]="0"}return ar.unshift("0"),ar.join("")}function u(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function d(e){var t=e.$$hashKey;return a(arguments,function(t){t!==e&&a(t,function(t,n){e[n]=t})}),u(e,t),e}function p(e){return parseInt(e,10)}function f(e,t){return d(new(d(function(){},{prototype:e})),t)}function h(){}function m(e){return e}function _(e){return function(){return e}}function g(e){return e===void 0}function v(e){return e!==void 0}function y(e){return null!=e&&"object"==typeof e}function w(e){return"string"==typeof e}function $(e){return"number"==typeof e}function b(e){return"[object Date]"===nr.call(e)}function S(e){return"[object Array]"===nr.call(e)}function k(e){return"function"==typeof e}function C(e){return"[object RegExp]"===nr.call(e)}function T(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function x(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function A(e,t,n){var r=[];return a(e,function(e,i,a){r.push(t.call(n,e,i,a))}),r}function I(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;e.length>n;n++)if(t===e[n])return n;return-1}function E(e,t){var n=I(e,t);return n>=0&&e.splice(n,1),t}function R(e,t){if(T(e)||e&&e.$evalAsync&&e.$watch)throw rr("cpws");if(t){if(e===t)throw rr("cpi");if(S(e))for(var n=t.length=0;e.length>n;n++)t.push(R(e[n]));else{n=t.$$hashKey,a(t,function(e,n){delete t[n]});for(var r in e)t[r]=R(e[r]);u(t,n)}}else(t=e)&&(S(e)?t=R(e,[]):b(e)?t=new Date(e.getTime()):C(e)?t=RegExp(e.source):y(e)&&(t=R(e,{})));return t}function M(e,t){t=t||{};for(var n in e)!e.hasOwnProperty(n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t}function D(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,i=typeof e;if(i==typeof t&&"object"==i){if(!S(e)){if(b(e))return b(t)&&e.getTime()==t.getTime();if(C(e)&&C(t))return""+e==""+t;if(e&&e.$evalAsync&&e.$watch||t&&t.$evalAsync&&t.$watch||T(e)||T(t)||S(t))return!1;i={};for(r in e)if("$"!==r.charAt(0)&&!k(e[r])){if(!D(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!i.hasOwnProperty(r)&&"$"!==r.charAt(0)&&t[r]!==n&&!k(t[r]))return!1;return!0}if(!S(t))return!1;if((i=e.length)==t.length){for(r=0;i>r;r++)if(!D(e[r],t[r]))return!1;return!0}}return!1}function L(){return t.securityPolicy&&t.securityPolicy.isActive||t.querySelector&&!(!t.querySelector("[ng-csp]")&&!t.querySelector("[data-ng-csp]"))}function F(e,t){var n=arguments.length>2?er.call(arguments,2):[];return!k(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(er.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function P(e,r){var i=r;return"string"==typeof e&&"$"===e.charAt(0)?i=n:T(r)?i="$WINDOW":r&&t===r?i="$DOCUMENT":r&&r.$evalAsync&&r.$watch&&(i="$SCOPE"),i}function O(e,t){return e===void 0?n:JSON.stringify(e,P,t?"  ":null)}function N(e){return w(e)?JSON.parse(e):e}function B(e){return"function"==typeof e?e=!0:e&&0!==e.length?(e=Jn(""+e),e=!("f"==e||"0"==e||"false"==e||"no"==e||"n"==e||"[]"==e)):e=!1,e}function q(e){e=Gn(e).clone();try{e.empty()}catch(t){}var n=Gn("<div>").append(e).html();try{return 3===e[0].nodeType?Jn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Jn(t)})}catch(r){return Jn(n)}}function U(e){try{return decodeURIComponent(e)}catch(t){}}function j(e){var t,n,r={};return a((e||"").split("&"),function(e){e&&(t=e.split("="),n=U(t[0]),v(n)&&(e=v(t[1])?U(t[1]):!0,r[n]?S(r[n])?r[n].push(e):r[n]=[r[n],e]:r[n]=e))}),r}function H(e){var t=[];return a(e,function(e,n){S(e)?a(e,function(e){t.push(z(n,!0)+(!0===e?"":"="+z(e,!0)))}):t.push(z(n,!0)+(!0===e?"":"="+z(e,!0)))}),t.length?t.join("&"):""}function V(e){return z(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function z(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function W(e,n){function r(e){e&&s.push(e)}var i,o,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;a(l,function(n){l[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(a(e.querySelectorAll("."+n),r),a(e.querySelectorAll("."+n+"\\:"),r),a(e.querySelectorAll("["+n+"]"),r))}),a(s,function(e){if(!i){var t=c.exec(" "+e.className+" ");t?(i=e,o=(t[2]||"").replace(/\s+/g,",")):a(e.attributes,function(t){!i&&l[t.name]&&(i=e,o=t.value)})}}),i&&n(i,o?[o]:[])}function G(n,r){var i=function(){if(n=Gn(n),n.injector()){var e=n[0]===t?"document":q(n);throw rr("btstrpd",e)}return r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.unshift("ng"),e=St(r),e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},o=/^NG_DEFER_BOOTSTRAP!/;return e&&!o.test(e.name)?i():(e.name=e.name.replace(o,""),ir.resumeBootstrap=function(e){a(e,function(e){r.push(e)}),i()},void 0)}function Y(e,t){return t=t||"_",e.replace(sr,function(e,n){return(n?t:"")+e.toLowerCase()})}function X(e,t,n){if(!e)throw rr("areq",t||"?",n||"required");return e}function Z(e,t,n){return n&&S(e)&&(e=e[e.length-1]),X(k(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function J(e,t){if("hasOwnProperty"===e)throw rr("badname",t)}function Q(e,t,n){if(!t)return e;t=t.split(".");for(var r,i=e,a=t.length,o=0;a>o;o++)r=t[o],e&&(e=(i=e)[r]);return!n&&k(e)?F(i,e):e}function K(e){var t=e[0];if(e=e[e.length-1],t===e)return Gn(t);var n=[t];do{if(t=t.nextSibling,!t)break;n.push(t)}while(t!==e);return Gn(n)}function et(e){var t=r("$injector"),n=r("ng");return e=e.angular||(e.angular={}),e.$$minErr=e.$$minErr||r,e.module||(e.module=function(){var e={};return function(r,i,a){if("hasOwnProperty"===r)throw n("badname","module");return i&&e.hasOwnProperty(r)&&(e[r]=null),e[r]||(e[r]=function(){function e(e,t,r){return function(){return n[r||"push"]([e,t,arguments]),l}}if(!i)throw t("nomod",r);var n=[],o=[],s=e("$injector","invoke"),l={_invokeQueue:n,_runBlocks:o,requires:i,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:s,run:function(e){return o.push(e),this}};return a&&s(a),l}())}}())}function tt(t){d(t,{bootstrap:G,copy:R,extend:d,equals:D,element:Gn,forEach:a,injector:St,noop:h,bind:F,toJson:O,fromJson:N,identity:m,isUndefined:g,isDefined:v,isString:w,isFunction:k,isObject:y,isNumber:$,isElement:x,isArray:S,version:lr,isDate:b,lowercase:Jn,uppercase:Kn,callbacks:{counter:0},$$minErr:r,$$csp:L}),Xn=et(e);try{Xn("ngLocale")}catch(n){Xn("ngLocale",[]).provider("$locale",zt)}Xn("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:vn}),e.provider("$compile",Et).directive({a:ri,input:fi,textarea:fi,form:si,script:Yi,select:Ji,style:Ki,option:Qi,ngBind:Ci,ngBindHtml:xi,ngBindTemplate:Ti,ngClass:Ai,ngClassEven:Ei,ngClassOdd:Ii,ngCloak:Ri,ngController:Mi,ngForm:li,ngHide:ji,ngIf:Li,ngInclude:Fi,ngInit:Oi,ngNonBindable:Ni,ngPluralize:Bi,ngRepeat:qi,ngShow:Ui,ngStyle:Hi,ngSwitch:Vi,ngSwitchWhen:zi,ngSwitchDefault:Wi,ngOptions:Zi,ngTransclude:Gi,ngModel:yi,ngList:bi,ngChange:wi,required:$i,ngRequired:$i,ngValue:ki}).directive({ngInclude:Pi}).directive(ii).directive(Di),e.provider({$anchorScroll:kt,$animate:Mr,$browser:xt,$cacheFactory:At,$controller:Dt,$document:Lt,$exceptionHandler:Ft,$filter:An,$interpolate:Ht,$interval:Vt,$http:Bt,$httpBackend:Ut,$location:rn,$log:an,$parse:fn,$rootScope:gn,$q:hn,$sce:bn,$sceDelegate:$n,$sniffer:Sn,$templateCache:It,$timeout:kn,$window:xn,$$rAF:_n,$$asyncCallback:Ct})}])}function nt(e){return e.replace(hr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(mr,"Moz$1")}function rt(e,t,n,r){function i(e){var i,o,s,l,c,u,d=n&&e?[this.filter(e)]:[this],p=t;if(!r||null!=e)for(;d.length;)for(i=d.shift(),o=0,s=i.length;s>o;o++)for(l=Gn(i[o]),p?l.triggerHandler("$destroy"):p=!p,c=0,l=(u=l.children()).length;l>c;c++)d.push(Yn(u[c]));return a.apply(this,arguments)}var a=Yn.fn[e],a=a.$original||a;i.$original=a,Yn.fn[e]=i}function it(e){if(e instanceof it)return e;if(w(e)&&(e=or(e)),!(this instanceof it)){if(w(e)&&"<"!=e.charAt(0))throw _r("nosel");return new it(e)}if(w(e)){var n=e;e=t;var r;if(r=gr.exec(n))e=[e.createElement(r[1])];else{var i,a=e;if(e=a.createDocumentFragment(),r=[],vr.test(n)){for(a=e.appendChild(a.createElement("div")),i=(yr.exec(n)||["",""])[1].toLowerCase(),i=$r[i]||$r._default,a.innerHTML="<div>&#160;</div>"+i[1]+n.replace(wr,"<$1></$2>")+i[2],a.removeChild(a.firstChild),n=i[0];n--;)a=a.lastChild;for(n=0,i=a.childNodes.length;i>n;++n)r.push(a.childNodes[n]);a=e.firstChild,a.textContent=""}else r.push(a.createTextNode(n));e.textContent="",e.innerHTML="",e=r}ht(this,e),Gn(t.createDocumentFragment()).append(this)}else ht(this,e)}function at(e){return e.cloneNode(!0)}function ot(e){lt(e);var t=0;for(e=e.childNodes||[];e.length>t;t++)ot(e[t])}function st(e,t,n,r){if(v(r))throw _r("offargs");var i=ct(e,"events");ct(e,"handle")&&(g(t)?a(i,function(t,n){fr(e,n,t),delete i[n]}):a(t.split(" "),function(t){g(n)?(fr(e,t,i[t]),delete i[t]):E(i[t]||[],n)}))}function lt(e,t){var r=e[ur],i=cr[r];i&&(t?delete cr[r].data[t]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),st(e)),delete cr[r],e[ur]=n))}function ct(e,t,n){var r=e[ur],r=cr[r||-1];return v(n)?(r||(e[ur]=r=++dr,r=cr[r]={}),r[t]=n,void 0):r&&r[t]}function ut(e,t,n){var r=ct(e,"data"),i=v(n),a=!i&&v(t),o=a&&!y(t);if(r||o||ct(e,"data",r={}),i)r[t]=n;else{if(!a)return r;if(o)return r&&r[t];d(r,t)}}function dt(e,t){return e.getAttribute?(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1:!1}function pt(e,t){t&&e.setAttribute&&a(t.split(" "),function(t){e.setAttribute("class",or((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+or(t)+" "," ")))})}function ft(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");a(t.split(" "),function(e){e=or(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",or(n))}}function ht(e,t){if(t){t=t.nodeName||!v(t.length)||T(t)?[t]:t;for(var n=0;t.length>n;n++)e.push(t[n])}}function mt(e,t){return _t(e,"$"+(t||"ngController")+"Controller")}function _t(e,t,r){for(e=Gn(e),9==e[0].nodeType&&(e=e.find("html")),t=S(t)?t:[t];e.length;){for(var i=e[0],a=0,o=t.length;o>a;a++)if((r=e.data(t[a]))!==n)return r;e=Gn(i.parentNode||11===i.nodeType&&i.host)}}function gt(e){for(var t=0,n=e.childNodes;n.length>t;t++)ot(n[t]);for(;e.firstChild;)e.removeChild(e.firstChild)}function vt(e,t){var n=Sr[t.toLowerCase()];return n&&kr[e.nodeName]&&n}function yt(e,n){var r=function(r,i){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),g(r.defaultPrevented)){var o=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,o.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented||!1===r.returnValue};var s=M(n[i||r.type]||[]);a(s,function(t){t.call(e,r)}),8>=Wn?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function wt(e){var t,r=typeof e;return"object"==r&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===n&&(t=e.$$hashKey=c()):t=e,r+":"+t}function $t(e){a(e,this.put,this)}function bt(e){var t,n;return"function"==typeof e?(t=e.$inject)||(t=[],e.length&&(n=(""+e).replace(Ir,""),n=n.match(Tr),a(n[1].split(xr),function(e){e.replace(Ar,function(e,n,r){t.push(r)})})),e.$inject=t):S(e)?(n=e.length-1,Z(e[n],"fn"),t=e.slice(0,n)):Z(e,"fn",!0),t}function St(e){function t(e){return function(t,n){return y(t)?(a(t,l(e)),void 0):e(t,n)}}function n(e,t){if(J(e,"service"),(k(t)||S(t))&&(t=f.instantiate(t)),!t.$get)throw Er("pget",e);return p[e+c]=t}function r(e,t){return n(e,{$get:t})}function i(e){var t,n,r,o,s=[];return a(e,function(e){if(!d.get(e)){d.put(e,!0);try{if(w(e))for(t=Xn(e),s=s.concat(i(t.requires)).concat(t._runBlocks),n=t._invokeQueue,r=0,o=n.length;o>r;r++){var a=n[r],l=f.get(a[0]);l[a[1]].apply(l,a[2])}else k(e)?s.push(f.invoke(e)):S(e)?s.push(f.invoke(e)):Z(e,"module")}catch(c){throw S(e)&&(e=e[e.length-1]),c.message&&c.stack&&-1==c.stack.indexOf(c.message)&&(c=c.message+"\n"+c.stack),Er("modulerr",e,c.stack||c.message||c)}}}),s}function o(e,t){function n(n){if(e.hasOwnProperty(n)){if(e[n]===s)throw Er("cdep",u.join(" <- "));return e[n]}try{return u.unshift(n),e[n]=s,e[n]=t(n)}catch(r){throw e[n]===s&&delete e[n],r}finally{u.shift()}}function r(e,t,r){var i,a,o,s=[],l=bt(e);for(a=0,i=l.length;i>a;a++){if(o=l[a],"string"!=typeof o)throw Er("itkn",o);s.push(r&&r.hasOwnProperty(o)?r[o]:n(o))}return e.$inject||(e=e[i]),e.apply(t,s)}return{invoke:r,instantiate:function(e,t){var n,i=function(){};return i.prototype=(S(e)?e[e.length-1]:e).prototype,i=new i,n=r(e,i,t),y(n)||k(n)?n:i},get:n,annotate:bt,has:function(t){return p.hasOwnProperty(t+c)||e.hasOwnProperty(t)
}}}var s={},c="Provider",u=[],d=new $t,p={$provide:{provider:t(n),factory:t(r),service:t(function(e,t){return r(e,["$injector",function(e){return e.instantiate(t)}])}),value:t(function(e,t){return r(e,_(t))}),constant:t(function(e,t){J(e,"constant"),p[e]=t,m[e]=t}),decorator:function(e,t){var n=f.get(e+c),r=n.$get;n.$get=function(){var e=g.invoke(r,n);return g.invoke(t,null,{$delegate:e})}}}},f=p.$injector=o(p,function(){throw Er("unpr",u.join(" <- "))}),m={},g=m.$injector=o(m,function(e){return e=f.get(e+c),g.invoke(e.$get,e)});return a(i(e),function(e){g.invoke(e||h)}),g}function kt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function i(e){var t=null;return a(e,function(e){t||"a"!==Jn(e.nodeName)||(t=e)}),t}function o(){var e,r=n.hash();r?(e=s.getElementById(r))?e.scrollIntoView():(e=i(s.getElementsByName(r)))?e.scrollIntoView():"top"===r&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(o)}),o}]}function Ct(){this.$get=["$$rAF","$timeout",function(e,t){return e.supported?function(t){return e(t)}:function(e){return t(e,0,!1)}}]}function Tt(e,t,r,i){function o(e){try{e.apply(null,er.call(arguments,1))}finally{if(v--,0===v)for(;y.length;)try{y.pop()()}catch(t){r.error(t)}}}function s(e,t){(function n(){a(b,function(e){e()}),$=t(n,e)})()}function l(){C=null,S!=c.url()&&(S=c.url(),a(T,function(e){e(c.url())}))}var c=this,u=t[0],d=e.location,p=e.history,f=e.setTimeout,m=e.clearTimeout,_={};c.isMock=!1;var v=0,y=[];c.$$completeOutstandingRequest=o,c.$$incOutstandingRequestCount=function(){v++},c.notifyWhenNoOutstandingRequests=function(e){a(b,function(e){e()}),0===v?e():y.push(e)};var $,b=[];c.addPollFn=function(e){return g($)&&s(100,f),b.push(e),e};var S=d.href,k=t.find("base"),C=null;c.url=function(t,n){return d!==e.location&&(d=e.location),p!==e.history&&(p=e.history),t?S!=t?(S=t,i.history?n?p.replaceState(null,"",t):(p.pushState(null,"",t),k.attr("href",k.attr("href"))):(C=t,n?d.replace(t):d.href=t),c):void 0:C||d.href.replace(/%27/g,"'")};var T=[],x=!1;c.onUrlChange=function(t){return x||(i.history&&Gn(e).on("popstate",l),i.hashchange?Gn(e).on("hashchange",l):c.addPollFn(l),x=!0),T.push(t),t},c.baseHref=function(){var e=k.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var A={},I="",E=c.baseHref();c.cookies=function(e,t){var i,a,o,s;if(!e){if(u.cookie!==I)for(I=u.cookie,i=I.split("; "),A={},o=0;i.length>o;o++)a=i[o],s=a.indexOf("="),s>0&&(e=unescape(a.substring(0,s)),A[e]===n&&(A[e]=unescape(a.substring(s+1))));return A}t===n?u.cookie=escape(e)+"=;path="+E+";expires=Thu, 01 Jan 1970 00:00:00 GMT":w(t)&&(i=(u.cookie=escape(e)+"="+escape(t)+";path="+E).length+1,i>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},c.defer=function(e,t){var n;return v++,n=f(function(){delete _[n],o(e)},t||0),_[n]=!0,n},c.defer.cancel=function(e){return _[e]?(delete _[e],m(e),o(h),!0):!1}}function xt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Tt(e,r,t,n)}]}function At(){this.$get=function(){function e(e,n){function i(e){e!=p&&(f?f==e&&(f=e.n):f=e,a(e.n,e.p),a(e,p),p=e,p.n=null)}function a(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw r("$cacheFactory")("iid",e);var o=0,s=d({},n,{id:e}),l={},c=n&&n.capacity||Number.MAX_VALUE,u={},p=null,f=null;return t[e]={put:function(e,t){if(Number.MAX_VALUE>c){var n=u[e]||(u[e]={key:e});i(n)}return g(t)?void 0:(e in l||o++,l[e]=t,o>c&&this.remove(f.key),t)},get:function(e){if(Number.MAX_VALUE>c){var t=u[e];if(!t)return;i(t)}return l[e]},remove:function(e){if(Number.MAX_VALUE>c){var t=u[e];if(!t)return;t==p&&(p=t.p),t==f&&(f=t.n),a(t.n,t.p),delete u[e]}delete l[e],o--},removeAll:function(){l={},o=0,u={},p=f=null},destroy:function(){u=s=l=null,delete t[e]},info:function(){return d({},s,{size:o})}}}var t={};return e.info=function(){var e={};return a(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function It(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Et(e,r){var i={},o="Directive",s=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,c=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u=/^(on[a-z]+|formaction)$/;this.directive=function p(t,n){return J(t,"directive"),w(t)?(X(n,"directiveFactory"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var r=[];return a(i[t],function(i,a){try{var o=e.invoke(i);k(o)?o={compile:_(o)}:!o.compile&&o.link&&(o.compile=_(o.link)),o.priority=o.priority||0,o.index=a,o.name=o.name||t,o.require=o.require||o.controller&&o.name,o.restrict=o.restrict||"A",r.push(o)}catch(s){n(s)}}),r}])),i[t].push(n)):a(t,l(p)),this},this.aHrefSanitizationWhitelist=function(e){return v(e)?(r.aHrefSanitizationWhitelist(e),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(r.imgSrcSanitizationWhitelist(e),this):r.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(e,r,l,p,h,g,v,$,b,C,T,x){function A(e,t,n,r,i){e instanceof Gn||(e=Gn(e)),a(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=Gn(t).wrap("<span></span>").parent()[0])});var o=E(e,t,e,n,r,i);return I(e,"ng-scope"),function(t,n,r){X(t,"scope");var i=n?br.clone.call(e):e;a(r,function(e,t){i.data("$"+t+"Controller",e)}),r=0;for(var s=i.length;s>r;r++){var l=i[r].nodeType;1!==l&&9!==l||i.eq(r).data("$scope",t)}return n&&n(i,t),o&&o(t,i,i),i}}function I(e,t){try{e.addClass(t)}catch(n){}}function E(e,t,r,i,a,o){function s(e,r,i,a){var o,s,l,c,u,d,f;o=r.length;var h=Array(o);for(u=0;o>u;u++)h[u]=r[u];for(f=u=0,d=p.length;d>u;f++)s=h[f],r=p[u++],o=p[u++],l=Gn(s),r?(r.scope?(c=e.$new(),l.data("$scope",c)):c=e,(l=r.transclude)||!a&&t?r(o,c,s,i,R(e,l||t)):r(o,c,s,i,a)):o&&o(e,s.childNodes,n,a)}for(var l,c,u,d,p=[],f=0;e.length>f;f++)l=new K,c=L(e[f],[],l,0===f?i:n,a),(o=c.length?N(c,e[f],l,t,r,null,[],[],o):null)&&o.scope&&I(Gn(e[f]),"ng-scope"),l=o&&o.terminal||!(u=e[f].childNodes)||!u.length?null:E(u,o?o.transclude:t),p.push(o,l),d=d||o||l,o=null;return d?s:null}function R(e,t){return function(n,r,i){var a=!1;return n||(n=e.$new(),a=n.$$transcluded=!0),r=t(n,r,i),a&&r.on("$destroy",F(n,n.$destroy)),r}}function L(e,t,n,r,i){var a,o=n.$attr;switch(e.nodeType){case 1:U(t,Rt(Zn(e).toLowerCase()),"E",r,i);var l,u,d;a=e.attributes;for(var p=0,f=a&&a.length;f>p;p++){var h=!1,m=!1;if(l=a[p],!Wn||Wn>=8||l.specified){u=l.name,d=Rt(u),rt.test(d)&&(u=Y(d.substr(6),"-"));var _=d.replace(/(Start|End)$/,"");d===_+"Start"&&(h=u,m=u.substr(0,u.length-5)+"end",u=u.substr(0,u.length-6)),d=Rt(u.toLowerCase()),o[d]=u,n[d]=l=or(l.value),vt(e,d)&&(n[d]=!0),Z(e,t,l,d),U(t,d,"A",r,i,h,m)}}if(e=e.className,w(e)&&""!==e)for(;a=c.exec(e);)d=Rt(a[2]),U(t,d,"C",r,i)&&(n[d]=or(a[3])),e=e.substr(a.index+a[0].length);break;case 3:W(t,e.nodeValue);break;case 8:try{(a=s.exec(e.nodeValue))&&(d=Rt(a[1]),U(t,d,"M",r,i)&&(n[d]=or(a[2])))}catch(g){}}return t.sort(V),t}function P(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Dr("uterdir",t,n);1==e.nodeType&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return Gn(r)}function O(e,t,n){return function(r,i,a,o,s){return i=P(i[0],t,n),e(r,i,a,o,s)}}function N(e,i,o,s,c,u,d,p,f){function h(e,t,n,r){e&&(n&&(e=O(e,n,r)),e.require=b.require,(F===b||b.$$isolateScope)&&(e=Q(e,{isolateScope:!0})),d.push(e)),t&&(n&&(t=O(t,n,r)),t.require=b.require,(F===b||b.$$isolateScope)&&(t=Q(t,{isolateScope:!0})),p.push(t))}function m(e,t,n){var r,i="data",o=!1;if(w(e)){for(;"^"==(r=e.charAt(0))||"?"==r;)e=e.substr(1),"^"==r&&(i="inheritedData"),o=o||"?"==r;if(r=null,n&&"data"===i&&(r=n[e]),r=r||t[i]("$"+e+"Controller"),!r&&!o)throw Dr("ctreq",e,C)}else S(e)&&(r=[],a(e,function(e){r.push(m(e,t,n))}));return r}function _(e,t,s,c,u){function f(e,t){var r;return 2>arguments.length&&(t=e,e=n),W&&(r=k),u(e,t,r)}var h,_,y,w,$,b,S,k={};if(h=i===s?o:M(o,new K(Gn(s),o.$attr)),_=h.$$element,F){var C=/^\s*([@=&])(\??)\s*(\w*)\s*$/;c=Gn(s),b=t.$new(!0),N&&N===F.$$originalDirective?c.data("$isolateScope",b):c.data("$isolateScopeNoTemplate",b),I(c,"ng-isolate-scope"),a(F.scope,function(e,n){var i,a,o,s,l=e.match(C)||[],c=l[3]||n,u="?"==l[2],l=l[1];switch(b.$$isolateBindings[n]=l+c,l){case"@":h.$observe(c,function(e){b[n]=e}),h.$$observers[c].$$scope=t,h[c]&&(b[n]=r(h[c])(t));break;case"=":if(u&&!h[c])break;a=g(h[c]),s=a.literal?D:function(e,t){return e===t},o=a.assign||function(){throw i=b[n]=a(t),Dr("nonassign",h[c],F.name)},i=b[n]=a(t),b.$watch(function(){var e=a(t);return s(e,b[n])||(s(e,i)?o(t,e=b[n]):b[n]=e),i=e},null,a.literal);break;case"&":a=g(h[c]),b[n]=function(e){return a(t,e)};break;default:throw Dr("iscp",F.name,n,e)}})}for(S=u&&f,R&&a(R,function(e){var n,r={$scope:e===F||e.$$isolateScope?b:t,$element:_,$attrs:h,$transclude:S};$=e.controller,"@"==$&&($=h[e.name]),n=v($,r),k[e.name]=n,W||_.data("$"+e.name+"Controller",n),e.controllerAs&&(r.$scope[e.controllerAs]=n)}),c=0,y=d.length;y>c;c++)try{w=d[c],w(w.isolateScope?b:t,_,h,w.require&&m(w.require,_,k),S)}catch(T){l(T,q(_))}for(c=t,F&&(F.template||null===F.templateUrl)&&(c=b),e&&e(c,s.childNodes,n,u),c=p.length-1;c>=0;c--)try{w=p[c],w(w.isolateScope?b:t,_,h,w.require&&m(w.require,_,k),S)}catch(x){l(x,q(_))}}f=f||{};for(var $,b,C,T,x,E=-Number.MAX_VALUE,R=f.controllerDirectives,F=f.newIsolateScopeDirective,N=f.templateDirective,U=f.nonTlbTranscludeDirective,V=!1,W=f.hasElementTranscludeDirective,G=o.$$element=Gn(i),Y=s,X=0,Z=e.length;Z>X;X++){b=e[X];var et=b.$$start,tt=b.$$end;if(et&&(G=P(i,et,tt)),T=n,E>b.priority)break;if((T=b.scope)&&($=$||b,b.templateUrl||(z("new/isolated scope",F,b,G),y(T)&&(F=b))),C=b.name,!b.templateUrl&&b.controller&&(T=b.controller,R=R||{},z("'"+C+"' controller",R[C],b,G),R[C]=b),(T=b.transclude)&&(V=!0,b.$$tlb||(z("transclusion",U,b,G),U=b),"element"==T?(W=!0,E=b.priority,T=P(i,et,tt),G=o.$$element=Gn(t.createComment(" "+C+": "+o[C]+" ")),i=G[0],J(c,Gn(er.call(T,0)),i),Y=A(T,s,E,u&&u.name,{nonTlbTranscludeDirective:U})):(T=Gn(at(i)).contents(),G.empty(),Y=A(T,s))),b.template)if(z("template",N,b,G),N=b,T=k(b.template)?b.template(G,o):b.template,T=nt(T),b.replace){if(u=b,T=vr.test(T)?Gn(T):[],i=T[0],1!=T.length||1!==i.nodeType)throw Dr("tplrt",C,"");J(c,G,i),Z={$attr:{}},T=L(i,[],Z);var rt=e.splice(X+1,e.length-(X+1));F&&B(T),e=e.concat(T).concat(rt),j(o,Z),Z=e.length}else G.html(T);if(b.templateUrl)z("template",N,b,G),N=b,b.replace&&(u=b),_=H(e.splice(X,e.length-X),G,o,c,Y,d,p,{controllerDirectives:R,newIsolateScopeDirective:F,templateDirective:N,nonTlbTranscludeDirective:U}),Z=e.length;else if(b.compile)try{x=b.compile(G,o,Y),k(x)?h(null,x,et,tt):x&&h(x.pre,x.post,et,tt)}catch(it){l(it,q(G))}b.terminal&&(_.terminal=!0,E=Math.max(E,b.priority))}return _.scope=$&&!0===$.scope,_.transclude=V&&Y,f.hasElementTranscludeDirective=W,_}function B(e){for(var t=0,n=e.length;n>t;t++)e[t]=f(e[t],{$$isolateScope:!0})}function U(t,r,a,s,c,u,d){if(r===c)return null;if(c=null,i.hasOwnProperty(r)){var p;r=e.get(r+o);for(var h=0,m=r.length;m>h;h++)try{p=r[h],(s===n||s>p.priority)&&-1!=p.restrict.indexOf(a)&&(u&&(p=f(p,{$$start:u,$$end:d})),t.push(p),c=p)}catch(_){l(_)}}return c}function j(e,t){var n=t.$attr,r=e.$attr,i=e.$$element;a(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),a(t,function(t,a){"class"==a?(I(i,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==a?(i.attr("style",i.attr("style")+";"+t),e.style=(e.style?e.style+";":"")+t):"$"==a.charAt(0)||e.hasOwnProperty(a)||(e[a]=t,r[a]=n[a])})}function H(e,t,n,r,i,o,s,l){var c,u,f=[],m=t[0],_=e.shift(),g=d({},_,{templateUrl:null,transclude:null,replace:null,$$originalDirective:_}),v=k(_.templateUrl)?_.templateUrl(t,n):_.templateUrl;return t.empty(),p.get(C.getTrustedResourceUrl(v),{cache:h}).success(function(d){var p,h;if(d=nt(d),_.replace){if(d=vr.test(d)?Gn(d):[],p=d[0],1!=d.length||1!==p.nodeType)throw Dr("tplrt",_.name,v);d={$attr:{}},J(r,t,p);var w=L(p,[],d);y(_.scope)&&B(w),e=w.concat(e),j(n,d)}else p=m,t.html(d);for(e.unshift(g),c=N(e,p,n,i,t,_,o,s,l),a(r,function(e,n){e==p&&(r[n]=t[0])}),u=E(t[0].childNodes,i);f.length;){d=f.shift(),h=f.shift();var $=f.shift(),b=f.shift(),w=t[0];if(h!==m){var S=h.className;l.hasElementTranscludeDirective&&_.replace||(w=at(p)),J($,Gn(h),w),I(Gn(w),S)}h=c.transclude?R(d,c.transclude):b,c(u,d,w,r,h)}f=null}).error(function(e,t,n,r){throw Dr("tpload",r.url)}),function(e,t,n,r,i){f?(f.push(t),f.push(n),f.push(r),f.push(i)):c(u,t,n,r,i)}}function V(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function z(e,t,n,r){if(t)throw Dr("multidir",t.name,n.name,e,q(r))}function W(e,t){var n=r(t,!0);n&&e.push({priority:0,compile:_(function(e,t){var r=t.parent(),i=r.data("$binding")||[];i.push(n),I(r.data("$binding",i),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function G(e,t){if("srcdoc"==t)return C.HTML;var n=Zn(e);return"xlinkHref"==t||"FORM"==n&&"action"==t||"IMG"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function Z(e,t,n,i){var a=r(n,!0);if(a){if("multiple"===i&&"SELECT"===Zn(e))throw Dr("selmulti",q(e));t.push({priority:100,compile:function(){return{pre:function(t,n,o){if(n=o.$$observers||(o.$$observers={}),u.test(i))throw Dr("nodomevents");(a=r(o[i],!0,G(e,i)))&&(o[i]=a(t),(n[i]||(n[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(a,function(e,t){"class"===i&&e!=t?o.$updateClass(e,t):o.$set(i,e)}))}}}})}}function J(e,n,r){var i,a,o=n[0],s=n.length,l=o.parentNode;if(e)for(i=0,a=e.length;a>i;i++)if(e[i]==o){e[i++]=r,a=i+s-1;for(var c=e.length;c>i;i++,a++)c>a?e[i]=e[a]:delete e[i];e.length-=s-1;break}for(l&&l.replaceChild(r,o),e=t.createDocumentFragment(),e.appendChild(o),r[Gn.expando]=o[Gn.expando],o=1,s=n.length;s>o;o++)l=n[o],Gn(l).remove(),e.appendChild(l),delete n[o];n[0]=r,n.length=1}function Q(e,t){return d(function(){return e.apply(null,arguments)},e,t)}var K=function(e,t){this.$$element=e,this.$attr=t||{}};K.prototype={$normalize:Rt,$addClass:function(e){e&&e.length>0&&T.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&T.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=Mt(e,t),r=Mt(t,e);0===n.length?T.removeClass(this.$$element,r):0===r.length?T.addClass(this.$$element,n):T.setClass(this.$$element,n,r)},$set:function(e,t,r,i){var o=vt(this.$$element[0],e);o&&(this.$$element.prop(e,t),i=o),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Y(e,"-")),o=Zn(this.$$element),("A"===o&&"href"===e||"IMG"===o&&"src"===e)&&(this[e]=t=x(t,"src"===e)),!1!==r&&(null===t||t===n?this.$$element.removeAttr(i):this.$$element.attr(i,t)),(r=this.$$observers)&&a(r[e],function(e){try{e(t)}catch(n){l(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),i=r[e]||(r[e]=[]);return i.push(t),$.$evalAsync(function(){i.$$inter||t(n[e])}),t}};var et=r.startSymbol(),tt=r.endSymbol(),nt="{{"==et||"}}"==tt?m:function(e){return e.replace(/\{\{/g,et).replace(/}}/g,tt)},rt=/^ngAttr[A-Z]/;return A}]}function Rt(e){return nt(e.replace(Lr,""))}function Mt(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/),a=0;e:for(;r.length>a;a++){for(var o=r[a],s=0;i.length>s;s++)if(o==i[s])continue e;n+=(n.length>0?" ":"")+o}return n}function Dt(){var e={},t=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(t,n){J(t,"controller"),y(t)?d(e,t):e[t]=n},this.$get=["$injector","$window",function(n,i){return function(a,o){var s,l,c;if(w(a)&&(s=a.match(t),l=s[1],c=s[3],a=e.hasOwnProperty(l)?e[l]:Q(o.$scope,l,!0)||Q(i,l,!0),Z(a,l,!0)),s=n.instantiate(a,o),c){if(!o||"object"!=typeof o.$scope)throw r("$controller")("noscp",l||a.name,c);o.$scope[c]=s}return s}}]}function Lt(){this.$get=["$window",function(e){return Gn(e.document)}]}function Ft(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Pt(e){var t,n,r,i={};return e?(a(e.split("\n"),function(e){r=e.indexOf(":"),t=Jn(or(e.substr(0,r))),n=or(e.substr(r+1)),t&&(i[t]=i[t]?i[t]+(", "+n):n)}),i):i}function Ot(e){var t=y(e)?e:n;return function(n){return t||(t=Pt(e)),n?t[Jn(n)]||null:t}}function Nt(e,t,n){return k(n)?n(e,t):(a(n,function(n){e=n(e,t)}),e)}function Bt(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,i={"Content-Type":"application/json;charset=utf-8"},o=this.defaults={transformResponse:[function(n){return w(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=N(n))),n}],transformRequest:[function(e){return y(e)&&"[object File]"!==nr.call(e)&&"[object Blob]"!==nr.call(e)?O(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:R(i),put:R(i),patch:R(i)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},l=this.interceptors=[],c=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,i,u,p){function f(e){function r(e){var t=d({},e,{data:Nt(e.data,e.headers,i.transformResponse)});return e.status>=200&&300>e.status?t:u.reject(t)}var i={method:"get",transformRequest:o.transformRequest,transformResponse:o.transformResponse},s=function(e){function t(e){var t;a(e,function(n,r){k(n)&&(t=n(),null!=t?e[r]=t:delete e[r])})}var n,r,i=o.headers,s=d({},e.headers),i=d({},i.common,i[Jn(e.method)]);t(i),t(s);e:for(n in i){e=Jn(n);for(r in s)if(Jn(r)===e)continue e;s[n]=i[n]}return s}(e);d(i,e),i.headers=s,i.method=Kn(i.method),(e=Tn(i.url)?t.cookies()[i.xsrfCookieName||o.xsrfCookieName]:n)&&(s[i.xsrfHeaderName||o.xsrfHeaderName]=e);var l=[function(e){s=e.headers;var t=Nt(e.data,Ot(s),e.transformRequest);return g(e.data)&&a(s,function(e,t){"content-type"===Jn(t)&&delete s[t]}),g(e.withCredentials)&&!g(o.withCredentials)&&(e.withCredentials=o.withCredentials),h(e,t,s).then(r,r)},n],c=u.when(i);for(a($,function(e){(e.request||e.requestError)&&l.unshift(e.request,e.requestError),(e.response||e.responseError)&&l.push(e.response,e.responseError)});l.length;){e=l.shift();var p=l.shift(),c=c.then(e,p)}return c.success=function(e){return c.then(function(t){e(t.data,t.status,t.headers,i)}),c},c.error=function(e){return c.then(null,function(t){e(t.data,t.status,t.headers,i)}),c},c}function h(t,n,r){function a(e,t,n,r){c&&(e>=200&&300>e?c.put(w,[e,t,Pt(n),r]):c.remove(w)),s(t,e,n,r),i.$$phase||i.$apply()}function s(e,n,r,i){n=Math.max(n,0),(n>=200&&300>n?p.resolve:p.reject)({data:e,status:n,headers:Ot(r),config:t,statusText:i})}function l(){var e=I(f.pendingRequests,t);-1!==e&&f.pendingRequests.splice(e,1)}var c,d,p=u.defer(),h=p.promise,w=m(t.url,t.params);if(f.pendingRequests.push(t),h.then(l,l),(t.cache||o.cache)&&!1!==t.cache&&"GET"==t.method&&(c=y(t.cache)?t.cache:y(o.cache)?o.cache:_),c)if(d=c.get(w),v(d)){if(d.then)return d.then(l,l),d;S(d)?s(d[1],d[0],R(d[2]),d[3]):s(d,200,{},"OK")}else c.put(w,h);return g(d)&&e(t.method,w,n,a,r,t.timeout,t.withCredentials,t.responseType),h}function m(e,t){if(!t)return e;var n=[];return s(t,function(e,t){null===e||g(e)||(S(e)||(e=[e]),a(e,function(e){y(e)&&(e=O(e)),n.push(z(t)+"="+z(e))}))}),n.length>0&&(e+=(-1==e.indexOf("?")?"?":"&")+n.join("&")),e}var _=r("$http"),$=[];return a(l,function(e){$.unshift(w(e)?p.get(e):p.invoke(e))}),a(c,function(e,t){var n=w(e)?p.get(e):p.invoke(e);$.splice(t,0,{response:function(e){return n(u.when(e))},responseError:function(e){return n(u.reject(e))}})}),f.pendingRequests=[],function(){a(arguments,function(e){f[e]=function(t,n){return f(d(n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(){a(arguments,function(e){f[e]=function(t,n,r){return f(d(r||{},{method:e,url:t,data:n}))}})}("post","put"),f.defaults=o,f}]}function qt(t){if(8>=Wn&&(!t.match(/^(get|post|head|put|delete|options)$/i)||!e.XMLHttpRequest))return new e.ActiveXObject("Microsoft.XMLHTTP");if(e.XMLHttpRequest)return new e.XMLHttpRequest;throw r("$httpBackend")("noxhr")}function Ut(){this.$get=["$browser","$window","$document",function(e,t,n){return jt(e,qt,e.defer,t.angular.callbacks,n[0])}]}function jt(e,t,n,r,i){function o(e,t){var n=i.createElement("script"),r=function(){n.onreadystatechange=n.onload=n.onerror=null,i.body.removeChild(n),t&&t()};return n.type="text/javascript",n.src=e,Wn&&8>=Wn?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=function(){r()},i.body.appendChild(n),r}var s=-1;return function(i,l,c,u,d,p,f,m){function _(){y=s,$&&$(),b&&b.abort()}function g(t,r,i,a,o){k&&n.cancel(k),$=b=null,0===r&&(r=i?200:"file"==Cn(l).protocol?404:0),t(1223===r?204:r,i,a,o||""),e.$$completeOutstandingRequest(h)}var y;if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Jn(i)){var w="_"+(r.counter++).toString(36);r[w]=function(e){r[w].data=e};var $=o(l.replace("JSON_CALLBACK","angular.callbacks."+w),function(){r[w].data?g(u,200,r[w].data):g(u,y||-2),r[w]=ir.noop})}else{var b=t(i);if(b.open(i,l,!0),a(d,function(e,t){v(e)&&b.setRequestHeader(t,e)}),b.onreadystatechange=function(){if(b&&4==b.readyState){var e=null,t=null;y!==s&&(e=b.getAllResponseHeaders(),t="response"in b?b.response:b.responseText),g(u,y||b.status,t,e,b.statusText||"")}},f&&(b.withCredentials=!0),m)try{b.responseType=m}catch(S){if("json"!==m)throw S}b.send(c||null)}if(p>0)var k=n(_,p);else p&&p.then&&p.then(_)}}function Ht(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function a(a,l,c){for(var u,d,p=0,f=[],h=a.length,m=!1,_=[];h>p;)-1!=(u=a.indexOf(e,p))&&-1!=(d=a.indexOf(t,u+o))?(p!=u&&f.push(a.substring(p,u)),f.push(p=n(m=a.substring(u+o,d))),p.exp=m,p=d+s,m=!0):(p!=h&&f.push(a.substring(p)),p=h);if((h=f.length)||(f.push(""),h=1),c&&f.length>1)throw Fr("noconcat",a);return!l||m?(_.length=h,p=function(e){try{for(var t,n=0,o=h;o>n;n++)"function"==typeof(t=f[n])&&(t=t(e),t=c?i.getTrusted(c,t):i.valueOf(t),null===t||g(t)?t="":"string"!=typeof t&&(t=O(t))),_[n]=t;return _.join("")}catch(s){e=Fr("interr",a,""+s),r(e)}},p.exp=a,p.parts=f,p):void 0}var o=e.length,s=t.length;return a.startSymbol=function(){return e},a.endSymbol=function(){return t},a}]}function Vt(){this.$get=["$rootScope","$window","$q",function(e,t,n){function r(r,a,o,s){var l=t.setInterval,c=t.clearInterval,u=n.defer(),d=u.promise,p=0,f=v(s)&&!s;return o=v(o)?o:0,d.then(null,null,r),d.$$intervalId=l(function(){u.notify(p++),o>0&&p>=o&&(u.resolve(p),c(d.$$intervalId),delete i[d.$$intervalId]),f||e.$apply()},a),i[d.$$intervalId]=u,d}var i={};return r.cancel=function(e){return e&&e.$$intervalId in i?(i[e.$$intervalId].reject("canceled"),clearInterval(e.$$intervalId),delete i[e.$$intervalId],!0):!1},r}]}function zt(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"",posSuf:"",negPre:"(",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function Wt(e){e=e.split("/");for(var t=e.length;t--;)e[t]=V(e[t]);return e.join("/")}function Gt(e,t,n){e=Cn(e,n),t.$$protocol=e.protocol,t.$$host=e.hostname,t.$$port=p(e.port)||Or[e.protocol]||null}function Yt(e,t,n){var r="/"!==e.charAt(0);r&&(e="/"+e),e=Cn(e,n),t.$$path=decodeURIComponent(r&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),t.$$search=j(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Xt(e,t){return 0===t.indexOf(e)?t.substr(e.length):void 0}function Zt(e){var t=e.indexOf("#");return-1==t?e:e.substr(0,t)}function Jt(e){return e.substr(0,Zt(e).lastIndexOf("/")+1)}function Qt(e,t){this.$$html5=!0,t=t||"";var r=Jt(e);Gt(e,this,e),this.$$parse=function(t){var n=Xt(r,t);if(!w(n))throw Nr("ipthprfx",t,r);Yt(n,this,e),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=H(this.$$search),t=this.$$hash?"#"+V(this.$$hash):"";this.$$url=Wt(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+this.$$url.substr(1)},this.$$rewrite=function(i){var a;return(a=Xt(e,i))!==n?(i=a,(a=Xt(t,a))!==n?r+(Xt("/",a)||a):e+i):(a=Xt(r,i))!==n?r+a:r==i+"/"?r:void 0}}function Kt(e,t){var n=Jt(e);Gt(e,this,e),this.$$parse=function(r){var i=Xt(e,r)||Xt(n,r),i="#"==i.charAt(0)?Xt(t,i):this.$$html5?i:"";if(!w(i))throw Nr("ihshprfx",r,t);Yt(i,this,e),r=this.$$path;var a=/^\/?.*?:(\/.*)/;0===i.indexOf(e)&&(i=i.replace(e,"")),a.exec(i)||(r=(i=a.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var n=H(this.$$search),r=this.$$hash?"#"+V(this.$$hash):"";this.$$url=Wt(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=e+(this.$$url?t+this.$$url:"")},this.$$rewrite=function(t){return Zt(e)==Zt(t)?t:void 0}}function en(e,t){this.$$html5=!0,Kt.apply(this,arguments);var n=Jt(e);this.$$rewrite=function(r){var i;return e==Zt(r)?r:(i=Xt(n,r))?e+t+i:n===r+"/"?n:void 0}}function tn(e){return function(){return this[e]}}function nn(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function rn(){var t="",n=!1;this.hashPrefix=function(e){return v(e)?(t=e,this):t},this.html5Mode=function(e){return v(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,i,a,o){function s(e){r.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c=i.baseHref(),u=i.url();n?(c=u.substring(0,u.indexOf("/",u.indexOf("//")+2))+(c||"/"),a=a.history?Qt:en):(c=Zt(u),a=Kt),l=new a(c,"#"+t),l.$$parse(l.$$rewrite(u)),o.on("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=Gn(t.target);"a"!==Jn(n[0].nodeName);)if(n[0]===o[0]||!(n=n.parent())[0])return;var a=n.prop("href");y(a)&&"[object SVGAnimatedString]"==""+a&&(a=Cn(a.animVal).href);var s=l.$$rewrite(a);a&&!n.attr("target")&&s&&!t.isDefaultPrevented()&&(t.preventDefault(),s!=i.url()&&(l.$$parse(s),r.$apply(),e.angular["ff-684208-preventDefault"]=!0))}}),l.absUrl()!=u&&i.url(l.absUrl(),!0),i.onUrlChange(function(e){l.absUrl()!=e&&(r.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),r.$broadcast("$locationChangeStart",e,t).defaultPrevented?(l.$$parse(t),i.url(t)):s(t)}),r.$$phase||r.$digest())});var d=0;return r.$watch(function(){var e=i.url(),t=l.$$replace;return d&&e==l.absUrl()||(d++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(i.url(l.absUrl(),t),s(e))})),l.$$replace=!1,d}),l}]}function an(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function i(e){var t=n.console||{},i=t[e]||t.log||h;e=!1;try{e=!!i.apply}catch(o){}return e?function(){var e=[];return a(arguments,function(t){e.push(r(t))}),i.apply(t,e)}:function(e,t){i(e,null==t?"":t)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function on(e,t){if("constructor"===e)throw qr("isecfld",t);return e}function sn(e,t){if(e){if(e.constructor===e)throw qr("isecfn",t);if(e.document&&e.location&&e.alert&&e.setInterval)throw qr("isecwindow",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw qr("isecdom",t)}return e}function ln(e,t,r,i,a){a=a||{},t=t.split(".");for(var o,s=0;t.length>1;s++){o=on(t.shift(),i);var l=e[o];l||(l={},e[o]=l),e=l,e.then&&a.unwrapPromises&&(Br(i),"$$v"in e||function(e){e.then(function(t){e.$$v=t})}(e),e.$$v===n&&(e.$$v={}),e=e.$$v)}return o=on(t.shift(),i),e[o]=r}function cn(e,t,r,i,a,o,s){return on(e,o),on(t,o),on(r,o),on(i,o),on(a,o),s.unwrapPromises?function(s,l){var c,u=l&&l.hasOwnProperty(e)?l:s;return null==u?u:((u=u[e])&&u.then&&(Br(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),t?null==u?n:((u=u[t])&&u.then&&(Br(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),r?null==u?n:((u=u[r])&&u.then&&(Br(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),i?null==u?n:((u=u[i])&&u.then&&(Br(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),a?null==u?n:((u=u[a])&&u.then&&(Br(o),"$$v"in u||(c=u,c.$$v=n,c.then(function(e){c.$$v=e})),u=u.$$v),u):u):u):u):u)}:function(o,s){var l=s&&s.hasOwnProperty(e)?s:o;return null==l?l:(l=l[e],t?null==l?n:(l=l[t],r?null==l?n:(l=l[r],i?null==l?n:(l=l[i],a?null==l?n:l=l[a]:l):l):l):l)}}function un(e,t){return on(e,t),function(t,r){return null==t?n:(r&&r.hasOwnProperty(e)?r:t)[e]}}function dn(e,t,r){return on(e,r),on(t,r),function(r,i){return null==r?n:(r=(i&&i.hasOwnProperty(e)?i:r)[e],null==r?n:r[t])}}function pn(e,t,r){if(Wr.hasOwnProperty(e))return Wr[e];var i,o=e.split("."),s=o.length;if(t.unwrapPromises||1!==s)if(t.unwrapPromises||2!==s)if(t.csp)i=6>s?cn(o[0],o[1],o[2],o[3],o[4],r,t):function(e,i){var a,l=0;do a=cn(o[l++],o[l++],o[l++],o[l++],o[l++],r,t)(e,i),i=n,e=a;while(s>l);return a};else{var l="var p;\n";a(o,function(e,n){on(e,r),l+="if(s == null) return undefined;\ns="+(n?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"];\n'+(t.unwrapPromises?'if (s && s.then) {\n pw("'+r.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")});var l=l+"return s;",c=Function("s","k","pw",l);c.toString=_(l),i=t.unwrapPromises?function(e,t){return c(e,t,Br)}:c}else i=dn(o[0],o[1],r);else i=un(o[0],r);return"hasOwnProperty"!==e&&(Wr[e]=i),i}function fn(){var e={},t={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(e){return v(e)?(t.unwrapPromises=!!e,this):t.unwrapPromises},this.logPromiseWarnings=function(e){return v(e)?(t.logPromiseWarnings=e,this):t.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(n,r,i){return t.csp=r.csp,Br=function(e){t.logPromiseWarnings&&!Ur.hasOwnProperty(e)&&(Ur[e]=!0,i.warn("[$parse] Promise found in the expression `"+e+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(r){var i;switch(typeof r){case"string":return e.hasOwnProperty(r)?e[r]:(i=new Vr(t),i=new zr(i,n,t).parse(r,!1),"hasOwnProperty"!==r&&(e[r]=i),i);case"function":return r;default:return h}}}]}function hn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return mn(function(t){e.$evalAsync(t)},t)}]}function mn(e,t){function r(e){return e}function i(e){return l(e)}var o=function(){var a,l,u=[];return l={resolve:function(t){if(u){var r=u;u=n,a=s(t),r.length&&e(function(){for(var e,t=0,n=r.length;n>t;t++)e=r[t],a.then(e[0],e[1],e[2])})}},reject:function(e){l.resolve(c(e))},notify:function(t){if(u){var n=u;u.length&&e(function(){for(var e,r=0,i=n.length;i>r;r++)e=n[r],e[2](t)})}},promise:{then:function(e,n,s){var l=o(),c=function(n){try{l.resolve((k(e)?e:r)(n))}catch(i){l.reject(i),t(i)}},d=function(e){try{l.resolve((k(n)?n:i)(e))}catch(r){l.reject(r),t(r)}},p=function(e){try{l.notify((k(s)?s:r)(e))}catch(n){t(n)}};return u?u.push([c,d,p]):a.then(c,d,p),l.promise},"catch":function(e){return this.then(null,e)},"finally":function(e){function t(e,t){var n=o();return t?n.resolve(e):n.reject(e),n.promise}function n(n,i){var a=null;try{a=(e||r)()}catch(o){return t(o,!1)}return a&&k(a.then)?a.then(function(){return t(n,i)
},function(e){return t(e,!1)}):t(n,i)}return this.then(function(e){return n(e,!0)},function(e){return n(e,!1)})}}}},s=function(t){return t&&k(t.then)?t:{then:function(n){var r=o();return e(function(){r.resolve(n(t))}),r.promise}}},l=function(e){var t=o();return t.reject(e),t.promise},c=function(n){return{then:function(r,a){var s=o();return e(function(){try{s.resolve((k(a)?a:i)(n))}catch(e){s.reject(e),t(e)}}),s.promise}}};return{defer:o,reject:l,when:function(n,a,c,u){var d,p=o(),f=function(e){try{return(k(a)?a:r)(e)}catch(n){return t(n),l(n)}},h=function(e){try{return(k(c)?c:i)(e)}catch(n){return t(n),l(n)}},m=function(e){try{return(k(u)?u:r)(e)}catch(n){t(n)}};return e(function(){s(n).then(function(e){d||(d=!0,p.resolve(s(e).then(f,h,m)))},function(e){d||(d=!0,p.resolve(h(e)))},function(e){d||p.notify(m(e))})}),p.promise},all:function(e){var t=o(),n=0,r=S(e)?[]:{};return a(e,function(e,i){n++,s(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}}}function _n(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,a=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return a.supported=i,a}]}function gn(){var e=10,t=r("$rootScope"),n=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,o,s,l){function u(){this.$id=c(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function d(e){if(_.$$phase)throw t("inprog",_.$$phase);_.$$phase=e}function p(e,t){var n=s(e);return Z(n,t),n}function f(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function m(){}u.prototype={constructor:u,$new:function(e){return e?(e=new u,e.$root=this.$root,e.$$asyncQueue=this.$$asyncQueue,e.$$postDigestQueue=this.$$postDigestQueue):(e=function(){},e.prototype=this,e=new e,e.$id=c()),e["this"]=e,e.$$listeners={},e.$$listenerCount={},e.$parent=this,e.$$watchers=e.$$nextSibling=e.$$childHead=e.$$childTail=null,e.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=e:this.$$childHead=this.$$childTail=e,e},$watch:function(e,t,r){var i=p(e,"watch"),a=this.$$watchers,o={fn:t,last:m,get:i,exp:e,eq:!!r};if(n=null,!k(t)){var s=p(t||h,"listener");o.fn=function(e,t,n){s(n)}}if("string"==typeof e&&i.constant){var l=o.fn;o.fn=function(e,t,n){l.call(this,e,t,n),E(a,o)}}return a||(a=this.$$watchers=[]),a.unshift(o),function(){E(a,o),n=null}},$watchCollection:function(e,t){var n,r,a,o=this,l=t.length>1,c=0,u=s(e),d=[],p={},f=!0,h=0;return this.$watch(function(){n=u(o);var e,t;if(y(n))if(i(n))for(r!==d&&(r=d,h=r.length=0,c++),e=n.length,h!==e&&(c++,r.length=h=e),t=0;e>t;t++)r[t]!==r[t]&&n[t]!==n[t]||r[t]===n[t]||(c++,r[t]=n[t]);else{r!==p&&(r=p={},h=0,c++),e=0;for(t in n)n.hasOwnProperty(t)&&(e++,r.hasOwnProperty(t)?r[t]!==n[t]&&(c++,r[t]=n[t]):(h++,r[t]=n[t],c++));if(h>e)for(t in c++,r)r.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(h--,delete r[t])}else r!==n&&(r=n,c++);return c},function(){if(f?(f=!1,t(n,n,o)):t(n,a,o),l)if(y(n))if(i(n)){a=Array(n.length);for(var e=0;n.length>e;e++)a[e]=n[e]}else for(e in a={},n)Qn.call(n,e)&&(a[e]=n[e]);else a=n})},$digest:function(){var r,i,a,s,l,c,u,p,f,h,g=this.$$asyncQueue,v=this.$$postDigestQueue,y=e,w=[];d("$digest"),n=null;do{for(c=!1,u=this;g.length;){try{h=g.shift(),h.scope.$eval(h.expression)}catch($){_.$$phase=null,o($)}n=null}e:do{if(s=u.$$watchers)for(l=s.length;l--;)try{if(r=s[l])if((i=r.get(u))===(a=r.last)||(r.eq?D(i,a):"number"==typeof i&&"number"==typeof a&&isNaN(i)&&isNaN(a))){if(r===n){c=!1;break e}}else c=!0,n=r,r.last=r.eq?R(i):i,r.fn(i,a===m?i:a,u),5>y&&(p=4-y,w[p]||(w[p]=[]),f=k(r.exp)?"fn: "+(r.exp.name||""+r.exp):r.exp,f+="; newVal: "+O(i)+"; oldVal: "+O(a),w[p].push(f))}catch(b){_.$$phase=null,o(b)}if(!(s=u.$$childHead||u!==this&&u.$$nextSibling))for(;u!==this&&!(s=u.$$nextSibling);)u=u.$parent}while(u=s);if((c||g.length)&&!y--)throw _.$$phase=null,t("infdig",e,O(w))}while(c||g.length);for(_.$$phase=null;v.length;)try{v.shift()()}catch(S){o(S)}},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==_&&(a(this.$$listenerCount,F(null,f,this)),e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=h,this.$on=this.$watch=function(){return h})}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e){_.$$phase||_.$$asyncQueue.length||l.defer(function(){_.$$asyncQueue.length&&_.$digest()}),this.$$asyncQueue.push({scope:this,expression:e})},$$postDigest:function(e){this.$$postDigestQueue.push(e)},$apply:function(e){try{return d("$apply"),this.$eval(e)}catch(t){o(t)}finally{_.$$phase=null;try{_.$digest()}catch(n){throw o(n),n}}},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){n[I(n,t)]=null,f(i,1,e)}},$emit:function(e){var t,n,r,i=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=[l].concat(er.call(arguments,1));do{for(t=a.$$listeners[e]||i,l.currentScope=a,n=0,r=t.length;r>n;n++)if(t[n])try{t[n].apply(null,c)}catch(u){o(u)}else t.splice(n,1),n--,r--;if(s)break;a=a.$parent}while(a);return l},$broadcast:function(e){for(var t,n,r=this,i=this,a={name:e,targetScope:this,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1},s=[a].concat(er.call(arguments,1));r=i;){for(a.currentScope=r,i=r.$$listeners[e]||[],t=0,n=i.length;n>t;t++)if(i[t])try{i[t].apply(null,s)}catch(l){o(l)}else i.splice(t,1),t--,n--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(i=r.$$nextSibling);)r=r.$parent}return a}};var _=new u;return _}]}function vn(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(t){return v(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return v(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,a=r?t:e;return Wn&&!(Wn>=8)||(i=Cn(n).href,""===i||i.match(a))?n:"unsafe:"+i}}}function yn(e){if("self"===e)return e;if(w(e)){if(e.indexOf("***")>-1)throw Gr("iwcard",e);return e=e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08").replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),RegExp("^"+e+"$")}if(C(e))return RegExp("^"+e.source+"$");throw Gr("imatcher")}function wn(e){var t=[];return v(e)&&a(e,function(e){t.push(yn(e))}),t}function $n(){this.SCE_CONTEXTS=Yr;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=wn(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=wn(e)),t},this.$get=["$injector",function(r){function i(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return""+this.$$unwrapTrustedValue()},t}var a=function(){throw Gr("unsafe")};r.has("$sanitize")&&(a=r.get("$sanitize"));var o=i(),s={};return s[Yr.HTML]=i(o),s[Yr.CSS]=i(o),s[Yr.URL]=i(o),s[Yr.JS]=i(o),s[Yr.RESOURCE_URL]=i(s[Yr.URL]),{trustAs:function(e,t){var r=s.hasOwnProperty(e)?s[e]:null;if(!r)throw Gr("icontext",e,t);if(null===t||t===n||""===t)return t;if("string"!=typeof t)throw Gr("itype",e);return new r(t)},getTrusted:function(r,i){if(null===i||i===n||""===i)return i;var o=s.hasOwnProperty(r)?s[r]:null;if(o&&i instanceof o)return i.$$unwrapTrustedValue();if(r===Yr.RESOURCE_URL){var l,c,o=Cn(""+i),u=!1;for(l=0,c=e.length;c>l;l++)if("self"===e[l]?Tn(o):e[l].exec(o.href)){u=!0;break}if(u)for(l=0,c=t.length;c>l;l++)if("self"===t[l]?Tn(o):t[l].exec(o.href)){u=!1;break}if(u)return i;throw Gr("insecurl",""+i)}if(r===Yr.HTML)return a(i);throw Gr("unsafe")},valueOf:function(e){return e instanceof o?e.$$unwrapTrustedValue():e}}}]}function bn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sniffer","$sceDelegate",function(t,n,r){if(e&&n.msie&&8>n.msieDocumentMode)throw Gr("iequirks");var i=R(Yr);i.isEnabled=function(){return e},i.trustAs=r.trustAs,i.getTrusted=r.getTrusted,i.valueOf=r.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:function(t,n){return i.getTrusted(e,r(t,n))}};var o=i.parseAs,s=i.getTrusted,l=i.trustAs;return a(Yr,function(e,t){var n=Jn(t);i[nt("parse_as_"+n)]=function(t){return o(e,t)},i[nt("get_trusted_"+n)]=function(t){return s(e,t)},i[nt("trust_as_"+n)]=function(t){return l(e,t)}}),i}]}function Sn(){this.$get=["$window","$document",function(e,t){var n,r={},i=p((/android (\d+)/.exec(Jn((e.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((e.navigator||{}).userAgent),o=t[0]||{},s=o.documentMode,l=/^(Moz|webkit|O|ms)(?=[A-Z])/,c=o.body&&o.body.style,u=!1,d=!1;if(c){for(var f in c)if(u=l.exec(f)){n=u[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in c&&"webkit"),u=!!("transition"in c||n+"Transition"in c),d=!!("animation"in c||n+"Animation"in c),!i||u&&d||(u=w(o.body.style.webkitTransition),d=w(o.body.style.webkitAnimation))}return{history:!(!e.history||!e.history.pushState||4>i||a),hashchange:"onhashchange"in e&&(!s||s>7),hasEvent:function(e){if("input"==e&&9==Wn)return!1;if(g(r[e])){var t=o.createElement("div");r[e]="on"+e in t}return r[e]},csp:L(),vendorPrefix:n,transitions:u,animations:d,android:i,msie:Wn,msieDocumentMode:s}}]}function kn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function i(i,o,s){var l=n.defer(),c=l.promise,u=v(s)&&!s;return o=t.defer(function(){try{l.resolve(i())}catch(t){l.reject(t),r(t)}finally{delete a[c.$$timeoutId]}u||e.$apply()},o),c.$$timeoutId=o,a[o]=l,c}var a={};return i.cancel=function(e){return e&&e.$$timeoutId in a?(a[e.$$timeoutId].reject("canceled"),delete a[e.$$timeoutId],t.defer.cancel(e.$$timeoutId)):!1},i}]}function Cn(e){var t=e;return Wn&&(Xr.setAttribute("href",t),t=Xr.href),Xr.setAttribute("href",t),{href:Xr.href,protocol:Xr.protocol?Xr.protocol.replace(/:$/,""):"",host:Xr.host,search:Xr.search?Xr.search.replace(/^\?/,""):"",hash:Xr.hash?Xr.hash.replace(/^#/,""):"",hostname:Xr.hostname,port:Xr.port,pathname:"/"===Xr.pathname.charAt(0)?Xr.pathname:"/"+Xr.pathname}}function Tn(e){return e=w(e)?Cn(e):e,e.protocol===Zr.protocol&&e.host===Zr.host}function xn(){this.$get=_(e)}function An(e){function t(r,i){if(y(r)){var o={};return a(r,function(e,n){o[n]=t(n,e)}),o}return e.factory(r+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",En),t("date",Pn),t("filter",In),t("json",On),t("limitTo",Nn),t("lowercase",ti),t("number",Rn),t("orderBy",Bn),t("uppercase",ni)}function In(){return function(e,t,n){if(!S(e))return e;var r=typeof n,i=[];i.check=function(e){for(var t=0;i.length>t;t++)if(!i[t](e))return!1;return!0},"function"!==r&&(n="boolean"===r&&n?function(e,t){return ir.equals(e,t)}:function(e,t){if(e&&t&&"object"==typeof e&&"object"==typeof t){for(var r in e)if("$"!==r.charAt(0)&&Qn.call(e,r)&&n(e[r],t[r]))return!0;return!1}return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1});var a=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!a(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&a(e[r],t))return!0}return!1;case"array":for(r=0;e.length>r;r++)if(a(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var o in t)(function(e){t[e]!==void 0&&i.push(function(n){return a("$"==e?n:n&&n[e],t[e])})})(o);break;case"function":i.push(t);break;default:return e}for(r=[],o=0;e.length>o;o++){var s=e[o];i.check(s)&&r.push(s)}return r}}function En(e){var t=e.NUMBER_FORMATS;return function(e,n){return g(n)&&(n=t.CURRENCY_SYM),Mn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Rn(e){var t=e.NUMBER_FORMATS;return function(e,n){return Mn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Mn(e,t,n,r,i){if(null==e||!isFinite(e)||y(e))return"";var a=0>e;e=Math.abs(e);var o=e+"",s="",l=[],c=!1;if(-1!==o.indexOf("e")){var u=o.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>i+1?o="0":(s=o,c=!0)}if(c)i>0&&e>-1&&1>e&&(s=e.toFixed(i));else{o=(o.split(Jr)[1]||"").length,g(i)&&(i=Math.min(Math.max(t.minFrac,o),t.maxFrac)),o=Math.pow(10,i),e=Math.round(e*o)/o,e=(""+e).split(Jr),o=e[0],e=e[1]||"";var u=0,d=t.lgSize,p=t.gSize;if(o.length>=d+p)for(u=o.length-d,c=0;u>c;c++)0===(u-c)%p&&0!==c&&(s+=n),s+=o.charAt(c);for(c=u;o.length>c;c++)0===(o.length-c)%d&&0!==c&&(s+=n),s+=o.charAt(c);for(;i>e.length;)e+="0";i&&"0"!==i&&(s+=r+e.substr(0,i))}return l.push(a?t.negPre:t.posPre),l.push(s),l.push(a?t.negSuf:t.posSuf),l.join("")}function Dn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;t>e.length;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function Ln(e,t,n,r){return n=n||0,function(i){return i=i["get"+e](),(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),Dn(i,t,r)}}function Fn(e,t){return function(n,r){var i=n["get"+e](),a=Kn(t?"SHORT"+e:e);return r[a][i]}}function Pn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var r=0,i=0,a=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=p(t[9]+t[10]),i=p(t[9]+t[11])),a.call(e,p(t[1]),p(t[2])-1,p(t[3])),r=p(t[4]||0)-r,i=p(t[5]||0)-i,a=p(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),o.call(e,r,i,a,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var i,o,s="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,w(n)&&(n=ei.test(n)?p(n):t(n)),$(n)&&(n=new Date(n)),!b(n))return n;for(;r;)(o=Kr.exec(r))?(l=l.concat(er.call(o,1)),r=l.pop()):(l.push(r),r=null);return a(l,function(t){i=Qr[t],s+=i?i(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function On(){return function(e){return O(e,!0)}}function Nn(){return function(e,t){if(!S(e)&&!w(e))return e;if(t=p(t),w(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,r,i=[];for(t>e.length?t=e.length:-e.length>t&&(t=-e.length),t>0?(n=0,r=t):(n=e.length+t,r=e.length);r>n;n++)i.push(e[n]);return i}}function Bn(e){return function(t,n,r){function i(e,t){return B(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;return n==r?("string"==n&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}if(!S(t)||!n)return t;n=S(n)?n:[n],n=A(n,function(t){var n=!1,r=t||m;if(w(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),r=e(t),r.constant)){var o=r();return i(function(e,t){return a(e[o],t[o])},n)}return i(function(e,t){return a(r(e),r(t))},n)});for(var o=[],s=0;t.length>s;s++)o.push(t[s]);return o.sort(i(function(e,t){for(var r=0;n.length>r;r++){var i=n[r](e,t);if(0!==i)return i}return 0},r))}}function qn(e){return k(e)&&(e={link:e}),e.restrict=e.restrict||"AC",_(e)}function Un(e,t,n,r){function i(t,n){n=n?"-"+Y(n,"-"):"",r.removeClass(e,(t?mi:hi)+n),r.addClass(e,(t?hi:mi)+n)}var o=this,s=e.parent().controller("form")||ai,l=0,c=o.$error={},u=[];o.$name=t.name||t.ngForm,o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,s.$addControl(o),e.addClass(_i),i(!0),o.$addControl=function(e){J(e.$name,"input"),u.push(e),e.$name&&(o[e.$name]=e)},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],a(c,function(t,n){o.$setValidity(n,!0,e)}),E(u,e)},o.$setValidity=function(e,t,n){var r=c[e];if(t)r&&(E(r,n),r.length||(l--,l||(i(t),o.$valid=!0,o.$invalid=!1),c[e]=!1,i(!0,e),s.$setValidity(e,!0,o)));else{if(l||i(t),r){if(-1!=I(r,n))return}else c[e]=r=[],l++,i(!1,e),s.$setValidity(e,!1,o);r.push(n),o.$valid=!1,o.$invalid=!0}},o.$setDirty=function(){r.removeClass(e,_i),r.addClass(e,gi),o.$dirty=!0,o.$pristine=!1,s.$setDirty()},o.$setPristine=function(){r.removeClass(e,gi),r.addClass(e,_i),o.$dirty=!1,o.$pristine=!0,a(u,function(e){e.$setPristine()})}}function jn(e,t,r,i){return e.$setValidity(t,r),r?i:n}function Hn(e,t,n){var r=n.prop("validity");y(r)&&e.$parsers.push(function(n){return e.$error[t]||!(r.badInput||r.customError||r.typeMismatch)||r.valueMissing?n:(e.$setValidity(t,!1),void 0)})}function Vn(e,t,n,i,a,o){var s=t.prop("validity");if(!a.android){var l=!1;t.on("compositionstart",function(){l=!0}),t.on("compositionend",function(){l=!1,c()})}var c=function(){if(!l){var r=t.val();B(n.ngTrim||"T")&&(r=or(r)),(i.$viewValue!==r||s&&""===r&&!s.valueMissing)&&(e.$$phase?i.$setViewValue(r):e.$apply(function(){i.$setViewValue(r)}))}};if(a.hasEvent("input"))t.on("input",c);else{var u,d=function(){u||(u=o.defer(function(){c(),u=null}))};t.on("keydown",function(e){e=e.keyCode,91===e||e>15&&19>e||e>=37&&40>=e||d()}),a.hasEvent("paste")&&t.on("paste cut",d)}t.on("change",c),i.$render=function(){t.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)};var f=n.ngPattern;if(f&&((a=f.match(/^\/(.*)\/([gim]*)$/))?(f=RegExp(a[1],a[2]),a=function(e){return jn(i,"pattern",i.$isEmpty(e)||f.test(e),e)}):a=function(n){var a=e.$eval(f);if(!a||!a.test)throw r("ngPattern")("noregexp",f,a,q(t));return jn(i,"pattern",i.$isEmpty(n)||a.test(n),n)},i.$formatters.push(a),i.$parsers.push(a)),n.ngMinlength){var h=p(n.ngMinlength);a=function(e){return jn(i,"minlength",i.$isEmpty(e)||e.length>=h,e)},i.$parsers.push(a),i.$formatters.push(a)}if(n.ngMaxlength){var m=p(n.ngMaxlength);a=function(e){return jn(i,"maxlength",i.$isEmpty(e)||m>=e.length,e)},i.$parsers.push(a),i.$formatters.push(a)}}function zn(e,t){return e="ngClass"+e,["$animate",function(n){function r(e,t){var n=[],r=0;e:for(;e.length>r;r++){for(var i=e[r],a=0;t.length>a;a++)if(i==t[a])continue e;n.push(i)}return n}function i(e){if(!S(e)){if(w(e))return e.split(" ");if(y(e)){var t=[];return a(e,function(e,n){e&&t.push(n)}),t}}return e}return{restrict:"AC",link:function(o,s,l){function c(e,t){var n=s.data("$classCounts")||{},r=[];return a(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),s.data("$classCounts",n),r.join(" ")}function u(e){if(!0===t||o.$index%2===t){var a=i(e||[]);if(d){if(!D(e,d)){var u=i(d),p=r(a,u),a=r(u,a),a=c(a,-1),p=c(p,1);0===p.length?n.removeClass(s,a):0===a.length?n.addClass(s,p):n.setClass(s,p,a)}}else{var p=c(a,1);l.$addClass(p)}}d=R(e)}var d;o.$watch(l[e],u,!0),l.$observe("class",function(){u(o.$eval(l[e]))}),"ngClass"!==e&&o.$watch("$index",function(n,r){var a=1&n;if(1&a!==r){var s=i(o.$eval(l[e]));a===t?(a=c(s,1),l.$addClass(a)):(a=c(s,-1),l.$removeClass(a))}})}}}]}var Wn,Gn,Yn,Xn,Zn,Jn=function(e){return w(e)?e.toLowerCase():e},Qn=Object.prototype.hasOwnProperty,Kn=function(e){return w(e)?e.toUpperCase():e},er=[].slice,tr=[].push,nr=Object.prototype.toString,rr=r("ng"),ir=e.angular||(e.angular={}),ar=["0","0","0"];Wn=p((/msie (\d+)/.exec(Jn(navigator.userAgent))||[])[1]),isNaN(Wn)&&(Wn=p((/trident\/.*; rv:(\d+)/.exec(Jn(navigator.userAgent))||[])[1])),h.$inject=[],m.$inject=[];var or=function(){return String.prototype.trim?function(e){return w(e)?e.trim():e}:function(e){return w(e)?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e}}();Zn=9>Wn?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?Kn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var sr=/[A-Z]/g,lr={full:"1.2.16",major:1,minor:2,dot:16,codeName:"badger-enumeration"},cr=it.cache={},ur=it.expando="ng-"+(new Date).getTime(),dr=1,pr=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},fr=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)};it._data=function(e){return this.cache[e[this.expando]]||{}};var hr=/([\:\-\_]+(.))/g,mr=/^moz([A-Z])/,_r=r("jqLite"),gr=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,vr=/<|&#?\w+;/,yr=/<([\w:]+)/,wr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,$r={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$r.optgroup=$r.option,$r.tbody=$r.tfoot=$r.colgroup=$r.caption=$r.thead,$r.th=$r.td;var br=it.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===t.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),it(e).on("load",r))},toString:function(){var e=[];return a(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?Gn(this[e]):Gn(this[this.length+e])},length:0,push:tr,sort:[].sort,splice:[].splice},Sr={};a("multiple selected checked disabled readOnly required open".split(" "),function(e){Sr[Jn(e)]=e});var kr={};a("input select option textarea button form details".split(" "),function(e){kr[Kn(e)]=!0}),a({data:ut,inheritedData:_t,scope:function(e){return Gn(e).data("$scope")||_t(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return Gn(e).data("$isolateScope")||Gn(e).data("$isolateScopeNoTemplate")},controller:mt,injector:function(e){return _t(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:dt,css:function(e,t,r){if(t=nt(t),!v(r)){var i;return 8>=Wn&&(i=e.currentStyle&&e.currentStyle[t],""===i&&(i="auto")),i=i||e.style[t],8>=Wn&&(i=""===i?n:i),i}e.style[t]=r},attr:function(e,t,r){var i=Jn(t);if(Sr[i]){if(!v(r))return e[t]||(e.attributes.getNamedItem(t)||h).specified?i:n;r?(e[t]=!0,e.setAttribute(t,i)):(e[t]=!1,e.removeAttribute(i))}else if(v(r))e.setAttribute(t,r);else if(e.getAttribute)return e=e.getAttribute(t,2),null===e?n:e},prop:function(e,t,n){return v(n)?(e[t]=n,void 0):e[t]},text:function(){function e(e,n){var r=t[e.nodeType];return g(n)?r?e[r]:"":(e[r]=n,void 0)}var t=[];return 9>Wn?(t[1]="innerText",t[3]="nodeValue"):t[1]=t[3]="textContent",e.$dv="",e}(),val:function(e,t){if(g(t)){if("SELECT"===Zn(e)&&e.multiple){var n=[];return a(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(g(t))return e.innerHTML;for(var n=0,r=e.childNodes;r.length>n;n++)ot(r[n]);e.innerHTML=t},empty:gt},function(e,t){it.prototype[t]=function(t,r){var i,a;if(e!==gt&&(2==e.length&&e!==dt&&e!==mt?t:r)===n){if(y(t)){for(i=0;this.length>i;i++)if(e===ut)e(this[i],t);else for(a in t)e(this[i],a,t[a]);return this}i=e.$dv,a=i===n?Math.min(this.length,1):this.length;for(var o=0;a>o;o++){var s=e(this[o],t,r);i=i?i+s:s}return i}for(i=0;this.length>i;i++)e(this[i],t,r);return this}}),a({removeData:lt,dealoc:ot,on:function Cr(e,n,r,i){if(v(i))throw _r("onargs");var o=ct(e,"events"),s=ct(e,"handle");o||ct(e,"events",o={}),s||ct(e,"handle",s=yt(e,o)),a(n.split(" "),function(n){var i=o[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var a=t.body.contains||t.body.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1};o[n]=[],Cr(e,{mouseleave:"mouseout",mouseenter:"mouseover"}[n],function(e){var t=e.relatedTarget;t&&(t===this||a(this,t))||s(e,n)})}else pr(e,n,s),o[n]=[];i=o[n]}i.push(r)})},off:st,one:function(e,t,n){e=Gn(e),e.on(t,function r(){e.off(t,n),e.off(t,r)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;ot(e),a(new it(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return a(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){a(new it(t),function(t){1!==e.nodeType&&11!==e.nodeType||e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;a(new it(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){t=Gn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){ot(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;a(new it(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:ft,removeClass:pt,toggleClass:function(e,t,n){t&&a(t.split(" "),function(t){var r=n;g(r)&&(r=!dt(e,t)),(r?ft:pt)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(e=e.nextSibling;null!=e&&1!==e.nodeType;)e=e.nextSibling;return e},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:at,triggerHandler:function(e,t,n){t=(ct(e,"events")||{})[t],n=n||[];var r=[{preventDefault:h,stopPropagation:h}];a(t,function(t){t.apply(e,r.concat(n))})}},function(e,t){it.prototype[t]=function(t,n,r){for(var i,a=0;this.length>a;a++)g(i)?(i=e(this[a],t,n,r),v(i)&&(i=Gn(i))):ht(i,e(this[a],t,n,r));return v(i)?i:this},it.prototype.bind=it.prototype.on,it.prototype.unbind=it.prototype.off}),$t.prototype={put:function(e,t){this[wt(e)]=t},get:function(e){return this[wt(e)]},remove:function(e){var t=this[e=wt(e)];return delete this[e],t}};var Tr=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,xr=/,/,Ar=/^\s*(_?)(\S+?)\1\s*$/,Ir=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Er=r("$injector"),Rr=r("$animate"),Mr=["$provide",function(e){this.$$selectors={},this.register=function(t,n){var r=t+"-animation";if(t&&"."!=t.charAt(0))throw Rr("notcsel",t);this.$$selectors[t.substr(1)]=r,e.factory(r,n)},this.classNameFilter=function(e){return 1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(e,t){return{enter:function(e,n,r,i){r?r.after(e):(n&&n[0]||(n=r.parent()),n.append(e)),i&&t(i)},leave:function(e,n){e.remove(),n&&t(n)},move:function(e,t,n,r){this.enter(e,t,n,r)},addClass:function(e,n,r){n=w(n)?n:S(n)?n.join(" "):"",a(e,function(e){ft(e,n)}),r&&t(r)},removeClass:function(e,n,r){n=w(n)?n:S(n)?n.join(" "):"",a(e,function(e){pt(e,n)}),r&&t(r)},setClass:function(e,n,r,i){a(e,function(e){ft(e,n),pt(e,r)}),i&&t(i)},enabled:h}}]}],Dr=r("$compile");Et.$inject=["$provide","$$sanitizeUriProvider"];var Lr=/^(x[\:\-_]|data[\:\-_])/i,Fr=r("$interpolate"),Pr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Or={http:80,https:443,ftp:21},Nr=r("$location");en.prototype=Kt.prototype=Qt.prototype={$$html5:!1,$$replace:!1,absUrl:tn("$$absUrl"),url:function(e,t){if(g(e))return this.$$url;var n=Pr.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:tn("$$protocol"),host:tn("$$host"),port:tn("$$port"),path:nn("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(w(e))this.$$search=j(e);else{if(!y(e))throw Nr("isrcharg");this.$$search=e}break;default:g(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:nn("$$hash",m),replace:function(){return this.$$replace=!0,this}};var Br,qr=r("$parse"),Ur={},jr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:h,"+":function(e,t,r,i){return r=r(e,t),i=i(e,t),v(r)?v(i)?r+i:r:v(i)?i:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(v(n)?n:0)-(v(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":h,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Hr={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Vr=function(e){this.options=e};Vr.prototype={constructor:Vr,lex:function(e){this.text=e,this.index=0,this.ch=n,this.lastCh=":",this.tokens=[];var t;for(e=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===e[0]&&(t=this.tokens[this.tokens.length-1])&&(t.json=-1===t.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&e.unshift(this.ch),this.is("}]")&&e.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var r=this.ch+this.peek(),i=r+this.peek(2),a=jr[this.ch],o=jr[r],s=jr[i];s?(this.tokens.push({index:this.index,text:i,fn:s}),this.index+=3):o?(this.tokens.push({index:this.index,text:r,fn:o}),this.index+=2):a?(this.tokens.push({index:this.index,text:this.ch,fn:a,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(e){return-1!==e.indexOf(this.ch)},was:function(e){return-1!==e.indexOf(this.lastCh)},peek:function(e){return e=e||1,this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(e){return e>="0"&&"9">=e},isWhitespace:function(e){return" "===e||"\r"===e||"	"===e||"\n"===e||""===e||""===e},isIdent:function(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"===e||"$"===e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=v(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,qr("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=Jn(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}e*=1,this.tokens.push({index:t,text:e,json:!0,fn:function(){return e}})},readIdent:function(){for(var e,t,n,r,i=this,a="",o=this.index;this.index<this.text.length&&(r=this.text.charAt(this.index),"."===r||this.isIdent(r)||this.isNumber(r));)"."===r&&(e=this.index),a+=r,this.index++;if(e)for(t=this.index;this.text.length>t;){if(r=this.text.charAt(t),"("===r){n=a.substr(e-o+1),a=a.substr(0,e-o),this.index=t;break}if(!this.isWhitespace(r))break;t++}if(o={index:o,text:a},jr.hasOwnProperty(a))o.fn=jr[a],o.json=jr[a];
else{var s=pn(a,this.options,this.text);o.fn=d(function(e,t){return s(e,t)},{assign:function(e,t){return ln(e,a,t,i.text,i.options)}})}this.tokens.push(o),n&&(this.tokens.push({index:e,text:".",json:!1}),this.tokens.push({index:e+1,text:n,json:!1}))},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index),r=r+a;if(i)"u"===a?(a=this.text.substring(this.index+1,this.index+5),a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))):n=(i=Hr[a])?n+i:n+a,i=!1;else if("\\"===a)i=!0;else{if(a===e)return this.index++,this.tokens.push({index:t,text:r,string:n,json:!0,fn:function(){return n}}),void 0;n+=a}this.index++}this.throwError("Unterminated quote",t)}};var zr=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n};zr.ZERO=d(function(){return 0},{constant:!0}),zr.prototype={constructor:zr,parse:function(e,t){this.text=e,this.json=t,this.tokens=this.lexer.lex(e),t&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:e,index:0})});var n=t?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),n.literal=!!n.literal,n.constant=!!n.constant,n},primary:function(){var e;if(this.expect("("))e=this.filterChain(),this.consume(")");else if(this.expect("["))e=this.arrayDeclaration();else if(this.expect("{"))e=this.object();else{var t=this.expect();(e=t.fn)||this.throwError("not a primary expression",t),t.json&&(e.constant=!0,e.literal=!0)}for(var n;t=this.expect("(","[",".");)"("===t.text?(e=this.functionCall(e,n),n=null):"["===t.text?(n=e,e=this.objectIndex(e)):"."===t.text?(n=e,e=this.fieldAccess(e)):this.throwError("IMPOSSIBLE");return e},throwError:function(e,t){throw qr("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},peekToken:function(){if(0===this.tokens.length)throw qr("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,r){if(this.tokens.length>0){var i=this.tokens[0],a=i.text;if(a===e||a===t||a===n||a===r||!(e||t||n||r))return i}return!1},expect:function(e,t,n,r){return(e=this.peek(e,t,n,r))?(this.json&&!e.json&&this.throwError("is not valid json",e),this.tokens.shift(),e):!1},consume:function(e){this.expect(e)||this.throwError("is unexpected, expecting ["+e+"]",this.peek())},unaryFn:function(e,t){return d(function(n,r){return e(n,r,t)},{constant:t.constant})},ternaryFn:function(e,t,n){return d(function(r,i){return e(r,i)?t(r,i):n(r,i)},{constant:e.constant&&t.constant&&n.constant})},binaryFn:function(e,t,n){return d(function(r,i){return t(r,i,e,n)},{constant:e.constant&&n.constant})},statements:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.filterChain()),!this.expect(";"))return 1===e.length?e[0]:function(t,n){for(var r,i=0;e.length>i;i++){var a=e[i];a&&(r=a(t,n))}return r}},filterChain:function(){for(var e,t=this.expression();;){if(!(e=this.expect("|")))return t;t=this.binaryFn(t,e.fn,this.filter())}},filter:function(){for(var e=this.expect(),t=this.$filter(e.text),n=[];;){if(!(e=this.expect(":"))){var r=function(e,r,i){i=[i];for(var a=0;n.length>a;a++)i.push(n[a](e,r));return t.apply(e,i)};return function(){return r}}n.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var e,t,n=this.ternary();return(t=this.expect("="))?(n.assign||this.throwError("implies assignment but ["+this.text.substring(0,t.index)+"] can not be assigned to",t),e=this.ternary(),function(t,r){return n.assign(t,e(t,r),r)}):n},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")?(e=this.ternary(),(t=this.expect(":"))?this.ternaryFn(n,e,this.ternary()):(this.throwError("expected :",t),void 0)):n},logicalOR:function(){for(var e,t=this.logicalAND();;){if(!(e=this.expect("||")))return t;t=this.binaryFn(t,e.fn,this.logicalAND())}},logicalAND:function(){var e,t=this.equality();return(e=this.expect("&&"))&&(t=this.binaryFn(t,e.fn,this.logicalAND())),t},equality:function(){var e,t=this.relational();return(e=this.expect("==","!=","===","!=="))&&(t=this.binaryFn(t,e.fn,this.equality())),t},relational:function(){var e,t=this.additive();return(e=this.expect("<",">","<=",">="))&&(t=this.binaryFn(t,e.fn,this.relational())),t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t=this.binaryFn(t,e.fn,this.multiplicative());return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t=this.binaryFn(t,e.fn,this.unary());return t},unary:function(){var e;return this.expect("+")?this.primary():(e=this.expect("-"))?this.binaryFn(zr.ZERO,e.fn,this.unary()):(e=this.expect("!"))?this.unaryFn(e.fn,this.unary()):this.primary()},fieldAccess:function(e){var t=this,n=this.expect().text,r=pn(n,this.options,this.text);return d(function(t,n,i){return r(i||e(t,n))},{assign:function(r,i,a){return ln(e(r,a),n,i,t.text,t.options)}})},objectIndex:function(e){var t=this,r=this.expression();return this.consume("]"),d(function(i,a){var o,s=e(i,a),l=r(i,a);return s?((s=sn(s[l],t.text))&&s.then&&t.options.unwrapPromises&&(o=s,"$$v"in s||(o.$$v=n,o.then(function(e){o.$$v=e})),s=s.$$v),s):n},{assign:function(n,i,a){var o=r(n,a);return sn(e(n,a),t.text)[o]=i}})},functionCall:function(e,t){var n=[];if(")"!==this.peekToken().text)do n.push(this.expression());while(this.expect(","));this.consume(")");var r=this;return function(i,a){for(var o=[],s=t?t(i,a):i,l=0;n.length>l;l++)o.push(n[l](i,a));return l=e(i,a,s)||h,sn(s,r.text),sn(l,r.text),o=l.apply?l.apply(s,o):l(o[0],o[1],o[2],o[3],o[4]),sn(o,r.text)}},arrayDeclaration:function(){var e=[],t=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var n=this.expression();e.push(n),n.constant||(t=!1)}while(this.expect(","));return this.consume("]"),d(function(t,n){for(var r=[],i=0;e.length>i;i++)r.push(e[i](t,n));return r},{literal:!0,constant:t})},object:function(){var e=[],t=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var n=this.expect(),n=n.string||n.text;this.consume(":");var r=this.expression();e.push({key:n,value:r}),r.constant||(t=!1)}while(this.expect(","));return this.consume("}"),d(function(t,n){for(var r={},i=0;e.length>i;i++){var a=e[i];r[a.key]=a.value(t,n)}return r},{literal:!0,constant:t})}};var Wr={},Gr=r("$sce"),Yr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Xr=t.createElement("a"),Zr=Cn(e.location.href,!0);An.$inject=["$provide"],En.$inject=["$locale"],Rn.$inject=["$locale"];var Jr=".",Qr={yyyy:Ln("FullYear",4),yy:Ln("FullYear",2,0,!0),y:Ln("FullYear",1),MMMM:Fn("Month"),MMM:Fn("Month",!0),MM:Ln("Month",2,1),M:Ln("Month",1,1),dd:Ln("Date",2),d:Ln("Date",1),HH:Ln("Hours",2),H:Ln("Hours",1),hh:Ln("Hours",2,-12),h:Ln("Hours",1,-12),mm:Ln("Minutes",2),m:Ln("Minutes",1),ss:Ln("Seconds",2),s:Ln("Seconds",1),sss:Ln("Milliseconds",3),EEEE:Fn("Day"),EEE:Fn("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e){return e=-1*e.getTimezoneOffset(),e=(e>=0?"+":"")+(Dn(Math[e>0?"floor":"ceil"](e/60),2)+Dn(Math.abs(e%60),2))}},Kr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,ei=/^\-?\d+$/;Pn.$inject=["$locale"];var ti=_(Jn),ni=_(Kn);Bn.$inject=["$parse"];var ri=_({restrict:"E",compile:function(e,n){return 8>=Wn&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),n.href||n.xlinkHref||n.name?void 0:function(e,t){var n="[object SVGAnimatedString]"===nr.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}),ii={};a(Sr,function(e,t){if("multiple"!=e){var n=Rt("ng-"+t);ii[n]=function(){return{priority:100,link:function(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}}}}}),a(["src","srcset","href"],function(e){var t=Rt("ng-"+e);ii[t]=function(){return{priority:99,link:function(n,r,i){var a=e,o=e;"href"===e&&"[object SVGAnimatedString]"===nr.call(r.prop("href"))&&(o="xlinkHref",i.$attr[o]="xlink:href",a=null),i.$observe(t,function(e){e&&(i.$set(o,e),Wn&&a&&r.prop(a,i[o]))})}}}});var ai={$addControl:h,$removeControl:h,$setValidity:h,$setDirty:h,$setPristine:h};Un.$inject=["$element","$attrs","$scope","$animate"];var oi=function(e){return["$timeout",function(t){return{name:"form",restrict:e?"EAC":"E",controller:Un,compile:function(){return{pre:function(e,r,i,a){if(!i.action){var o=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};pr(r[0],"submit",o),r.on("$destroy",function(){t(function(){fr(r[0],"submit",o)},0,!1)})}var s=r.parent().controller("form"),l=i.name||i.ngForm;l&&ln(e,l,a,l),s&&r.on("$destroy",function(){s.$removeControl(a),l&&ln(e,l,n,l),d(a,ai)})}}}}}]},si=oi(),li=oi(!0),ci=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,ui=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,di=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,pi={text:Vn,number:function(e,t,r,i,a,o){Vn(e,t,r,i,a,o),i.$parsers.push(function(e){var t=i.$isEmpty(e);return t||di.test(e)?(i.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(i.$setValidity("number",!1),n)}),Hn(i,"number",t),i.$formatters.push(function(e){return i.$isEmpty(e)?"":""+e}),r.min&&(e=function(e){var t=parseFloat(r.min);return jn(i,"min",i.$isEmpty(e)||e>=t,e)},i.$parsers.push(e),i.$formatters.push(e)),r.max&&(e=function(e){var t=parseFloat(r.max);return jn(i,"max",i.$isEmpty(e)||t>=e,e)},i.$parsers.push(e),i.$formatters.push(e)),i.$formatters.push(function(e){return jn(i,"number",i.$isEmpty(e)||$(e),e)})},url:function(e,t,n,r,i,a){Vn(e,t,n,r,i,a),e=function(e){return jn(r,"url",r.$isEmpty(e)||ci.test(e),e)},r.$formatters.push(e),r.$parsers.push(e)},email:function(e,t,n,r,i,a){Vn(e,t,n,r,i,a),e=function(e){return jn(r,"email",r.$isEmpty(e)||ui.test(e),e)},r.$formatters.push(e),r.$parsers.push(e)},radio:function(e,t,n,r){g(n.name)&&t.attr("name",c()),t.on("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){t[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(e,t,n,r){var i=n.ngTrueValue,a=n.ngFalseValue;w(i)||(i=!0),w(a)||(a=!1),t.on("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e!==i},r.$formatters.push(function(e){return e===i}),r.$parsers.push(function(e){return e?i:a})},hidden:h,button:h,submit:h,reset:h,file:h},fi=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,i,a){a&&(pi[Jn(i.type)]||pi.text)(n,r,i,a,t,e)}}}],hi="ng-valid",mi="ng-invalid",_i="ng-pristine",gi="ng-dirty",vi=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(e,t,n,i,o,s){function l(e,t){t=t?"-"+Y(t,"-"):"",s.removeClass(i,(e?mi:hi)+t),s.addClass(i,(e?hi:mi)+t)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=o(n.ngModel),u=c.assign;if(!u)throw r("ngModel")("nonassign",n.ngModel,q(i));this.$render=h,this.$isEmpty=function(e){return g(e)||""===e||null===e||e!==e};var d=i.inheritedData("$formController")||ai,p=0,f=this.$error={};i.addClass(_i),l(!0),this.$setValidity=function(e,t){f[e]!==!t&&(t?(f[e]&&p--,p||(l(!0),this.$valid=!0,this.$invalid=!1)):(l(!1),this.$invalid=!0,this.$valid=!1,p++),f[e]=!t,l(t,e),d.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,s.removeClass(i,gi),s.addClass(i,_i)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,s.removeClass(i,_i),s.addClass(i,gi),d.$setDirty()),a(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,u(e,n),a(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var m=this;e.$watch(function(){var t=c(e);if(m.$modelValue!==t){var n=m.$formatters,r=n.length;for(m.$modelValue=t;r--;)t=n[r](t);m.$viewValue!==t&&(m.$viewValue=t,m.$render())}return t})}],yi=function(){return{require:["ngModel","^?form"],controller:vi,link:function(e,t,n,r){var i=r[0],a=r[1]||ai;a.$addControl(i),e.$on("$destroy",function(){a.$removeControl(i)})}}},wi=_({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),$i=function(){return{require:"?ngModel",link:function(e,t,n,r){if(r){n.required=!0;var i=function(e){return n.required&&r.$isEmpty(e)?(r.$setValidity("required",!1),void 0):(r.$setValidity("required",!0),e)};r.$formatters.push(i),r.$parsers.unshift(i),n.$observe("required",function(){i(r.$viewValue)})}}}},bi=function(){return{require:"ngModel",link:function(e,t,r,i){var o=(e=/\/(.*)\//.exec(r.ngList))&&RegExp(e[1])||r.ngList||",";i.$parsers.push(function(e){if(!g(e)){var t=[];return e&&a(e.split(o),function(e){e&&t.push(or(e))}),t}}),i.$formatters.push(function(e){return S(e)?e.join(", "):n}),i.$isEmpty=function(e){return!e||!e.length}}}},Si=/^(true|false|\d+)$/,ki=function(){return{priority:100,compile:function(e,t){return Si.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},Ci=qn(function(e,t,r){t.addClass("ng-binding").data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}),Ti=["$interpolate",function(e){return function(t,n,r){t=e(n.attr(r.$attr.ngBindTemplate)),n.addClass("ng-binding").data("$binding",t),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],xi=["$sce","$parse",function(e,t){return function(n,r,i){r.addClass("ng-binding").data("$binding",i.ngBindHtml);var a=t(i.ngBindHtml);n.$watch(function(){return""+(a(n)||"")},function(){r.html(e.getTrustedHtml(a(n))||"")})}}],Ai=zn("",!0),Ii=zn("Odd",0),Ei=zn("Even",1),Ri=qn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),Mi=[function(){return{scope:!0,controller:"@",priority:500}}],Di={};a("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=Rt("ng-"+e);Di[t]=["$parse",function(n){return{compile:function(r,i){var a=n(i[t]);return function(t,n){n.on(Jn(e),function(e){t.$apply(function(){a(t,{$event:e})})})}}}}]});var Li=["$animate",function(e){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,a,o){var s,l,c;n.$watch(i.ngIf,function(a){B(a)?l||(l=n.$new(),o(l,function(n){n[n.length++]=t.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},e.enter(n,r.parent(),r)})):(c&&(c.remove(),c=null),l&&(l.$destroy(),l=null),s&&(c=K(s.clone),e.leave(c,function(){c=null}),s=null))})}}}],Fi=["$http","$templateCache","$anchorScroll","$animate","$sce",function(e,t,n,r,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ir.noop,compile:function(a,o){var s=o.ngInclude||o.src,l=o.onload||"",c=o.autoscroll;return function(a,o,u,d,p){var f,h,m,_=0,g=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),m&&(r.leave(m,function(){h=null}),h=m,m=null)};a.$watch(i.parseAsResourceUrl(s),function(i){var s=function(){!v(c)||c&&!a.$eval(c)||n()},u=++_;i?(e.get(i,{cache:t}).success(function(e){if(u===_){var t=a.$new();d.template=e,e=p(t,function(e){g(),r.enter(e,null,o,s)}),f=t,m=e,f.$emit("$includeContentLoaded"),a.$eval(l)}}).error(function(){u===_&&g()}),a.$emit("$includeContentRequested")):(g(),d.template=null)})}}}}],Pi=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,n,r,i){n.html(i.template),e(n.contents())(t)}}}],Oi=qn({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Ni=qn({terminal:!0,priority:1e3}),Bi=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,i,o){var s=o.count,l=o.$attr.when&&i.attr(o.$attr.when),c=o.offset||0,u=r.$eval(l)||{},d={},p=t.startSymbol(),f=t.endSymbol(),h=/^when(Minus)?(.+)$/;a(o,function(e,t){h.test(t)&&(u[Jn(t.replace("when","").replace("Minus","-"))]=i.attr(o.$attr[t]))}),a(u,function(e,r){d[r]=t(e.replace(n,p+s+"-"+c+f))}),r.$watch(function(){var t=parseFloat(r.$eval(s));return isNaN(t)?"":(t in u||(t=e.pluralCat(t-c)),d[t](r,i,!0))},function(e){i.text(e)})}}}],qi=["$parse","$animate",function(e,n){var o=r("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(r,s,l,c,u){var d,p,f,h,m,_,g=l.ngRepeat,v=g.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),y={$id:wt};if(!v)throw o("iexp",g);if(l=v[1],c=v[2],(v=v[3])?(d=e(v),p=function(e,t,n){return _&&(y[_]=e),y[m]=t,y.$index=n,d(r,y)}):(f=function(e,t){return wt(t)},h=function(e){return e}),v=l.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!v)throw o("iidexp",l);m=v[3]||v[1],_=v[2];var w={};r.$watchCollection(c,function(e){var l,c,d,v,y,$,b,S,k,C=s[0],T={},x=[];if(i(e))S=e,d=p||f;else{d=p||h,S=[];for($ in e)e.hasOwnProperty($)&&"$"!=$.charAt(0)&&S.push($);S.sort()}for(v=S.length,c=x.length=S.length,l=0;c>l;l++)if($=e===S?l:S[l],b=e[$],b=d($,b,l),J(b,"`track by` id"),w.hasOwnProperty(b))k=w[b],delete w[b],T[b]=k,x[l]=k;else{if(T.hasOwnProperty(b))throw a(x,function(e){e&&e.scope&&(w[e.id]=e)}),o("dupes",g,b);x[l]={id:b},T[b]=!1}for($ in w)w.hasOwnProperty($)&&(k=w[$],l=K(k.clone),n.leave(l),a(l,function(e){e.$$NG_REMOVED=!0}),k.scope.$destroy());for(l=0,c=S.length;c>l;l++){if($=e===S?l:S[l],b=e[$],k=x[l],x[l-1]&&(C=x[l-1].clone[x[l-1].clone.length-1]),k.scope){y=k.scope,d=C;do d=d.nextSibling;while(d&&d.$$NG_REMOVED);k.clone[0]!=d&&n.move(K(k.clone),null,Gn(C)),C=k.clone[k.clone.length-1]}else y=r.$new();y[m]=b,_&&(y[_]=$),y.$index=l,y.$first=0===l,y.$last=l===v-1,y.$middle=!(y.$first||y.$last),y.$odd=!(y.$even=0===(1&l)),k.scope||u(y,function(e){e[e.length++]=t.createComment(" end ngRepeat: "+g+" "),n.enter(e,null,Gn(C)),C=e,k.scope=y,k.clone=e,T[k.id]=k})}w=T})}}}],Ui=["$animate",function(e){return function(t,n,r){t.$watch(r.ngShow,function(t){e[B(t)?"removeClass":"addClass"](n,"ng-hide")})}}],ji=["$animate",function(e){return function(t,n,r){t.$watch(r.ngHide,function(t){e[B(t)?"addClass":"removeClass"](n,"ng-hide")})}}],Hi=qn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&a(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Vi=["$animate",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,i){var o,s,l,c=[];t.$watch(r.ngSwitch||r.on,function(n){var u,d=c.length;if(d>0){if(l){for(u=0;d>u;u++)l[u].remove();l=null}for(l=[],u=0;d>u;u++){var p=s[u];c[u].$destroy(),l[u]=p,e.leave(p,function(){l.splice(u,1),0===l.length&&(l=null)})}}s=[],c=[],(o=i.cases["!"+n]||i.cases["?"])&&(t.$eval(r.change),a(o,function(n){var r=t.$new();c.push(r),n.transclude(r,function(t){var r=n.element;s.push(t),e.enter(t,r.parent(),r)})}))})}}}],zi=qn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),Wi=qn({transclude:"element",priority:800,require:"^ngSwitch",link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),Gi=qn({link:function(e,t,n,i,a){if(!a)throw r("ngTransclude")("orphan",q(t));a(function(e){t.empty(),t.append(e)})}}),Yi=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"==n.type&&e.put(n.id,t[0].text)}}}],Xi=r("ngOptions"),Zi=_({terminal:!0}),Ji=["$compile","$parse",function(e,r){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,i=this,a={},o=s;i.databound=n.ngModel,i.init=function(e,t,n){o=e,r=n},i.addOption=function(t){J(t,'"option value"'),a[t]=!0,o.$viewValue==t&&(e.val(t),r.parent()&&r.remove())},i.removeOption=function(e){this.hasOption(e)&&(delete a[e],o.$viewValue==e&&this.renderUnknownOption(e))},i.renderUnknownOption=function(t){t="? "+wt(t)+" ?",r.val(t),e.prepend(r),e.val(t),r.prop("selected",!0)},i.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){i.renderUnknownOption=h})}],link:function(s,l,c,u){function d(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(k.parent()&&k.remove(),t.val(e),""===e&&m.prop("selected",!0)):g(e)&&m?t.val(""):r.renderUnknownOption(e)},t.on("change",function(){e.$apply(function(){k.parent()&&k.remove(),n.$setViewValue(t.val())})})}function p(e,t,n){var r;n.$render=function(){var e=new $t(n.$viewValue);a(t.find("option"),function(t){t.selected=v(e.get(t.value))})},e.$watch(function(){D(r,n.$viewValue)||(r=R(n.$viewValue),n.$render())}),t.on("change",function(){e.$apply(function(){var e=[];a(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function f(t,a,s){function l(){var e,n,r,i,l,c={"":[]},y=[""];i=s.$modelValue,l=m(t)||[];var C,T,x,A=p?o(l):l;T={},r=!1;var I,E;if(_)if(g&&S(i))for(r=new $t([]),x=0;i.length>x;x++)T[d]=i[x],r.put(g(t,T),i[x]);else r=new $t(i);for(x=0;C=A.length,C>x;x++){if(n=x,p){if(n=A[x],"$"===n.charAt(0))continue;T[p]=n}T[d]=l[n],e=f(t,T)||"",(n=c[e])||(n=c[e]=[],y.push(e)),_?e=v(r.remove(g?g(t,T):h(t,T))):(g?(e={},e[d]=i,e=g(t,e)===g(t,T)):e=i===h(t,T),r=r||e),I=u(t,T),I=v(I)?I:"",n.push({id:g?g(t,T):p?A[x]:x,label:I,selected:e})}for(_||(w||null===i?c[""].unshift({id:"",label:"",selected:!r}):r||c[""].unshift({id:"?",label:"",selected:!0})),T=0,A=y.length;A>T;T++){for(e=y[T],n=c[e],T>=k.length?(i={element:b.clone().attr("label",e),label:n.label},l=[i],k.push(l),a.append(i.element)):(l=k[T],i=l[0],i.label!=e&&i.element.attr("label",i.label=e)),I=null,x=0,C=n.length;C>x;x++)r=n[x],(e=l[x+1])?(I=e.element,e.label!==r.label&&I.text(e.label=r.label),e.id!==r.id&&I.val(e.id=r.id),e.selected!==r.selected&&I.prop("selected",e.selected=r.selected)):(""===r.id&&w?E=w:(E=$.clone()).val(r.id).attr("selected",r.selected).text(r.label),l.push({element:E,label:r.label,id:r.id,selected:r.selected}),I?I.after(E):i.element.append(E),I=E);for(x++;l.length>x;)l.pop().element.remove()}for(;k.length>T;)k.pop()[0].element.remove()}var c;if(!(c=y.match(i)))throw Xi("iexp",y,q(a));var u=r(c[2]||c[1]),d=c[4]||c[6],p=c[5],f=r(c[3]||""),h=r(c[2]?c[1]:d),m=r(c[7]),g=c[8]?r(c[8]):null,k=[[{element:a,label:""}]];w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),a.empty(),a.on("change",function(){t.$apply(function(){var e,r,i,o,l,c,u,f,v=m(t)||[],y={};if(_){for(i=[],l=0,u=k.length;u>l;l++)for(e=k[l],o=1,c=e.length;c>o;o++)if((r=e[o].element)[0].selected){if(r=r.val(),p&&(y[p]=r),g)for(f=0;v.length>f&&(y[d]=v[f],g(t,y)!=r);f++);else y[d]=v[r];i.push(h(t,y))}}else{if(r=a.val(),"?"==r)i=n;else if(""===r)i=null;else if(g){for(f=0;v.length>f;f++)if(y[d]=v[f],g(t,y)==r){i=h(t,y);break}}else y[d]=v[r],p&&(y[p]=r),i=h(t,y);k[0].length>1&&k[0][1].id!==r&&(k[0][1].selected=!1)}s.$setViewValue(i)})}),s.$render=l,t.$watch(l)}if(u[1]){var h=u[0];u=u[1];var m,_=c.multiple,y=c.ngOptions,w=!1,$=Gn(t.createElement("option")),b=Gn(t.createElement("optgroup")),k=$.clone();c=0;for(var C=l.children(),T=C.length;T>c;c++)if(""===C[c].value){m=w=C.eq(c);break}h.init(u,w,k),_&&(u.$isEmpty=function(e){return!e||0===e.length}),y?f(s,l,u):_?p(s,l,u):d(s,l,u,h)}}}}],Qi=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,r){if(g(r.value)){var i=e(n.text(),!0);i||r.$set("value",n.text())}return function(e,n,r){var a=n.parent(),o=a.data("$selectController")||a.parent().data("$selectController");o&&o.databound?n.prop("selected",!1):o=t,i?e.$watch(i,function(e,t){r.$set("value",e),e!==t&&o.removeOption(t),o.addOption(e)}):o.addOption(r.value),n.on("$destroy",function(){o.removeOption(r.value)})}}}}],Ki=_({restrict:"E",terminal:!0});e.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):((Yn=e.jQuery)?(Gn=Yn,d(Yn.fn,{scope:br.scope,isolateScope:br.isolateScope,controller:br.controller,injector:br.injector,inheritedData:br.inheritedData}),rt("remove",!0,!0,!1),rt("empty",!1,!1,!1),rt("html",!1,!1,!0)):Gn=it,ir.element=Gn,tt(ir),Gn(t).ready(function(){W(t,G)}))}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}</style>'),function(e,t){"use strict";function n(e,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,a,o,s,l){function c(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),p&&(r.leave(p,function(){f=null}),f=p,p=null)}function u(){var o=e.current&&e.current.locals;if(t.isDefined(o&&o.$template)){var o=i.$new(),s=e.current;p=l(o,function(e){r.enter(e,null,p||a,function(){!t.isDefined(h)||h&&!i.$eval(h)||n()}),c()}),d=s.scope=o,d.$emit("$viewContentLoaded"),d.$eval(m)}else c()}var d,p,f,h=o.autoscroll,m=o.onload||"";i.$on("$routeChangeSuccess",u),u()}}}function r(e,t,n){return{restrict:"ECA",priority:-400,link:function(r,i){var a=n.current,o=a.locals;i.html(o.$template);var s=e(i.contents());a.controller&&(o.$scope=r,o=t(a.controller,o),a.controllerAs&&(r[a.controllerAs]=o),i.data("$ngControllerController",o),i.children().data("$ngControllerController",o)),s(r)}}}e=t.module("ngRoute",["ng"]).provider("$route",function(){function e(e,n){return t.extend(new(t.extend(function(){},{prototype:e})),n)}function n(e,t){var n=t.caseInsensitiveMatch,r={originalPath:e,regexp:e},i=r.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(e,t,n,r){return e="?"===r?r:null,r="*"===r?r:null,i.push({name:n,optional:!!e}),t=t||"",""+(e?"":t)+"(?:"+(e?t:"")+(r&&"(.+?)"||"([^/]+)")+(e||"")+")"+(e||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=RegExp("^"+e+"$",n?"i":""),r}var r={};this.when=function(e,i){if(r[e]=t.extend({reloadOnSearch:!0},i,e&&n(e,i)),e){var a="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";r[a]=t.extend({redirectTo:e},n(a,i))}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(n,i,a,o,s,l,c,u){function d(){var e=p(),r=m.current;e&&r&&e.$$route===r.$$route&&t.equals(e.pathParams,r.pathParams)&&!e.reloadOnSearch&&!h?(r.params=e.params,t.copy(r.params,a),n.$broadcast("$routeUpdate",r)):(e||r)&&(h=!1,n.$broadcast("$routeChangeStart",e,r),(m.current=e)&&e.redirectTo&&(t.isString(e.redirectTo)?i.path(f(e.redirectTo,e.params)).search(e.params).replace():i.url(e.redirectTo(e.pathParams,i.path(),i.search())).replace()),o.when(e).then(function(){if(e){var n,r,i=t.extend({},e.resolve);return t.forEach(i,function(e,n){i[n]=t.isString(e)?s.get(e):s.invoke(e)}),t.isDefined(n=e.template)?t.isFunction(n)&&(n=n(e.params)):t.isDefined(r=e.templateUrl)&&(t.isFunction(r)&&(r=r(e.params)),r=u.getTrustedResourceUrl(r),t.isDefined(r)&&(e.loadedTemplateUrl=r,n=l.get(r,{cache:c}).then(function(e){return e.data}))),t.isDefined(n)&&(i.$template=n),o.all(i)}}).then(function(i){e==m.current&&(e&&(e.locals=i,t.copy(e.params,a)),n.$broadcast("$routeChangeSuccess",e,r))},function(t){e==m.current&&n.$broadcast("$routeChangeError",e,r,t)}))}function p(){var n,a;return t.forEach(r,function(r){var o;if(o=!a){var s=i.path();o=r.keys;var l={};if(r.regexp)if(s=r.regexp.exec(s)){for(var c=1,u=s.length;u>c;++c){var d=o[c-1],p="string"==typeof s[c]?decodeURIComponent(s[c]):s[c];d&&p&&(l[d.name]=p)}o=l}else o=null;else o=null;o=n=o}o&&(a=e(r,{params:t.extend({},i.search(),n),pathParams:n}),a.$$route=r)}),a||r[null]&&e(r[null],{params:{},pathParams:{}})}function f(e,n){var r=[];return t.forEach((e||"").split(":"),function(e,t){if(0===t)r.push(e);else{var i=e.match(/(\w+)(.*)/),a=i[1];r.push(n[a]),r.push(i[2]||""),delete n[a]}}),r.join("")}var h=!1,m={routes:r,reload:function(){h=!0,n.$evalAsync(d)}};return n.$on("$locationChangeSuccess",d),m}]}),e.provider("$routeParams",function(){this.$get=function(){return{}}}),e.directive("ngView",n),e.directive("ngView",r),n.$inject=["$route","$anchorScroll","$animate"],r.$inject=["$compile","$controller","$route"]}(window,window.angular),!function(e){var t=e.document,n=t.documentElement,r="overthrow-enabled",i="ontouchmove"in t,a="WebkitOverflowScrolling"in n.style||"msOverflowStyle"in n.style||!i&&e.screen.width>800||function(){var t=e.navigator.userAgent,n=t.match(/AppleWebKit\/([0-9]+)/),r=n&&n[1],i=n&&r>=534;return t.match(/Android ([0-9]+)/)&&RegExp.$1>=3&&i||t.match(/ Version\/([0-9]+)/)&&RegExp.$1>=0&&e.blackberry&&i||t.indexOf("PlayBook")>-1&&i&&-1===!t.indexOf("Android 2")||t.match(/Firefox\/([0-9]+)/)&&RegExp.$1>=4||t.match(/wOSBrowser\/([0-9]+)/)&&RegExp.$1>=233&&i||t.match(/NokiaBrowser\/([0-9\.]+)/)&&7.3===parseFloat(RegExp.$1)&&n&&r>=533}();e.overthrow={},e.overthrow.enabledClassName=r,e.overthrow.addClass=function(){-1===n.className.indexOf(e.overthrow.enabledClassName)&&(n.className+=" "+e.overthrow.enabledClassName)},e.overthrow.removeClass=function(){n.className=n.className.replace(e.overthrow.enabledClassName,"")},e.overthrow.set=function(){a&&e.overthrow.addClass()},e.overthrow.canBeFilledWithPoly=i,e.overthrow.forget=function(){e.overthrow.removeClass()},e.overthrow.support=a?"native":"none"}(this),function(e){e.overthrow.set()}(this),function(e,t,n){if(t!==n){t.scrollIndicatorClassName="overthrow";var r=e.document,i=r.documentElement,a="native"===t.support,o=t.canBeFilledWithPoly,s=(t.configure,t.set),l=t.forget,c=t.scrollIndicatorClassName;t.closest=function(e,n){return!n&&e.className&&e.className.indexOf(c)>-1&&e||t.closest(e.parentNode)};var u=!1;t.set=function(){if(s(),!u&&!a&&o){e.overthrow.addClass(),u=!0,t.support="polyfilled",t.forget=function(){l(),u=!1,r.removeEventListener&&r.removeEventListener("touchstart",w,!1)};var c,d,p,f,h=[],m=[],_=function(){h=[],d=null},g=function(){m=[],p=null},v=function(e){f=c.querySelectorAll("textarea, input");for(var t=0,n=f.length;n>t;t++)f[t].style.pointerEvents=e},y=function(e,t){if(r.createEvent){var i,a=(!t||t===n)&&c.parentNode||c.touchchild||c;a!==c&&(i=r.createEvent("HTMLEvents"),i.initEvent("touchend",!0,!0),c.dispatchEvent(i),a.touchchild=c,c=a,a.dispatchEvent(e))}},w=function(e){if(t.intercept&&t.intercept(),_(),g(),c=t.closest(e.target),c&&c!==i&&!(e.touches.length>1)){v("none");var n=e,r=c.scrollTop,a=c.scrollLeft,o=c.offsetHeight,s=c.offsetWidth,l=e.touches[0].pageY,u=e.touches[0].pageX,f=c.scrollHeight,w=c.scrollWidth,$=function(e){var t=r+l-e.touches[0].pageY,i=a+u-e.touches[0].pageX,v=t>=(h.length?h[0]:0),$=i>=(m.length?m[0]:0);t>0&&f-o>t||i>0&&w-s>i?e.preventDefault():y(n),d&&v!==d&&_(),p&&$!==p&&g(),d=v,p=$,c.scrollTop=t,c.scrollLeft=i,h.unshift(t),m.unshift(i),h.length>3&&h.pop(),m.length>3&&m.pop()},b=function(){v("auto"),setTimeout(function(){v("none")},450),c.removeEventListener("touchmove",$,!1),c.removeEventListener("touchend",b,!1)};c.addEventListener("touchmove",$,!1),c.addEventListener("touchend",b,!1)}};r.addEventListener("touchstart",w,!1)}}}}(this,this.overthrow),function(e,t,n){if(t!==n){t.easing=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},t.tossing=!1;var r;t.toss=function(e,i){t.intercept();var a,o,s=0,l=e.scrollLeft,c=e.scrollTop,u={top:"+0",left:"+0",duration:50,easing:t.easing,finished:function(){}},d=!1;if(i)for(var p in u)i[p]!==n&&(u[p]=i[p]);return"string"==typeof u.left?(u.left=parseFloat(u.left),a=u.left+l):(a=u.left,u.left=u.left-l),"string"==typeof u.top?(u.top=parseFloat(u.top),o=u.top+c):(o=u.top,u.top=u.top-c),t.tossing=!0,r=setInterval(function(){s++<u.duration?(e.scrollLeft=u.easing(s,l,u.left,u.duration),e.scrollTop=u.easing(s,c,u.top,u.duration)):(a!==e.scrollLeft?e.scrollLeft=a:(d&&u.finished(),d=!0),o!==e.scrollTop?e.scrollTop=o:(d&&u.finished(),d=!0),t.intercept())
},1),{top:o,left:a,duration:t.duration,easing:t.easing}},t.intercept=function(){clearInterval(r),t.tossing=!1}}}(this,this.overthrow);var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent);FastClick.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},FastClick.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},FastClick.prototype.sendClick=function(e,t){"use strict";var n,r;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),r=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},FastClick.prototype.determineEventType=function(e){"use strict";return deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(e){"use strict";var t;deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},FastClick.prototype.updateScrollParent=function(e){"use strict";var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},FastClick.prototype.onTouchStart=function(e){"use strict";var t,n,r;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],deviceIsIOS){if(r=window.getSelection(),r.rangeCount&&!r.isCollapsed)return!0;if(!deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},FastClick.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(e){"use strict";var t,n,r,i,a,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(a=e.changedTouches[0],o=document.elementFromPoint(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),r=o.tagName.toLowerCase(),"label"===r){if(t=this.findControl(o)){if(this.focus(o),deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o))return e.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===r?(this.targetElement=null,!1):(this.focus(o),this.sendClick(o,e),deviceIsIOS&&"select"===r||(this.targetElement=null,e.preventDefault()),!1);return deviceIsIOS&&!deviceIsIOS4&&(i=o.fastClickScrollParent,i&&i.fastClickLastScrollTop!==i.scrollTop)?!0:(this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1)},FastClick.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:!e.cancelable||this.needsClick(this.targetElement)&&!this.cancelNextClick?!0:(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0},FastClick.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},FastClick.prototype.destroy=function(){"use strict";var e=this.layer;deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(e){"use strict";var t,n;if(window.ontouchstart===void 0)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},FastClick.attach=function(e,t){"use strict";return new FastClick(e,t)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick,angular.module("mobile-angular-ui.active-links",[]).run(["$rootScope",function(e){return angular.forEach(["$locationChangeSuccess","$includeContentLoaded"],function(t){return e.$on(t,function(){var e;return e=window.location.href,angular.forEach(document.links,function(t){var n;return n=angular.element(t),t.href===e?n.addClass("active"):n.removeClass("active"),n=null}),e=null})})}]),angular.module("mobile-angular-ui.directives.capture",[]).run(["CaptureService","$rootScope",function(e,t){t.$on("$routeChangeStart",function(){e.resetAll()})}]).factory("CaptureService",["$compile",function(e){var t={};return{resetAll:function(){for(name in t)this.resetYielder(name)},resetYielder:function(e){var n=t[e];this.setContentFor(e,n.defaultContent,n.defaultScope)},putYielder:function(e,n,r,i){var a={};a.name=e,a.element=n,a.defaultContent=i||"",a.defaultScope=r,t[e]=a},getYielder:function(e){return t[e]},removeYielder:function(e){delete t[e]},setContentFor:function(n,r,i){var a=t[n];a&&(a.element.html(r),e(a.element.contents())(i))}}}]).directive("contentFor",["CaptureService",function(e){return{link:function(t,n,r){e.setContentFor(r.contentFor,n.html(),t),null==r.duplicate&&n.remove()}}}]).directive("yieldTo",["$compile","CaptureService",function(e,t){return{link:function(e,n,r){t.putYielder(r.yieldTo,n,e,n.html()),n.contents().remove(),e.$on("$destroy",function(){t.removeYielder(r.yieldTo)})}}}]),angular.module("mobile-angular-ui.directives.carousel",[]).run(["$rootScope",function(e){e.carouselPrev=function(t){e.$emit("mobile-angular-ui.carousel.prev",t)},e.carouselNext=function(t){e.$emit("mobile-angular-ui.carousel.next",t)};var t=function(e){var t=angular.element(document.getElementById(e)),n=angular.element(t.children()[0]).children();return t=null,n},n=function(e){for(var t=-1,n=!1,r=0;e.length>r;r++)if(item=e[r],t+=1,angular.element(item).hasClass("active")){n=!0;break}return n?t:-1};e.$on("mobile-angular-ui.carousel.prev",function(e,r){var i=t(r),a=n(i),o=i.length-1;-1!==a&&angular.element(i[a]).removeClass("active"),0>=a?angular.element(i[o]).addClass("active"):angular.element(i[a-1]).addClass("active"),i=null,a=null,o=null}),e.$on("mobile-angular-ui.carousel.next",function(e,r){var i=t(r),a=n(i),o=i.length-1;-1!==a&&angular.element(i[a]).removeClass("active"),a===o?angular.element(i[0]).addClass("active"):angular.element(i[a+1]).addClass("active"),i=null,a=null,o=null})}]),angular.module("mobile-angular-ui.fastclick",[]).run(["$window","$document",function(e,t){e.addEventListener("load",function(){FastClick.attach(t[0].body)},!1)}]).directive("select",function(){return{replace:!1,restrict:"E",link:function(e,t){t.addClass("needsclick")}}}).directive("input",function(){return{replace:!1,restrict:"E",link:function(e,t){t.addClass("needsclick")}}}).directive("textarea",function(){return{replace:!1,restrict:"E",link:function(e,t){t.addClass("needsclick")}}}),angular.module("mobile-angular-ui.directives.forms",[]).directive("bsFormControl",function(){function e(e){for(var n="",r="",i=0;e.length>i;i++){var a=e[i];a in t?n+=a+" ":r+=a+" "}return{i:n.trim(),d:r.trim()}}for(var t={},n=["xs","sm","md","lg"],r=0;n.length>r;r++)for(var i=1;12>=i;i++)t["col-"+n[r]+"-"+i]=!0;return{replace:!0,require:"ngModel",link:function(t,n,r){null==r.labelClass&&(r.labelClass=""),null==r.id&&(r.id=r.ngModel.replace(".","_")+"_input"),("SELECT"==n[0].tagName||("INPUT"==n[0].tagName||"TEXTAREA"==n[0].tagName)&&"checkbox"!=r.type&&"radio"!=r.type)&&n.addClass("form-control");var i=angular.element('<label for="'+r.id+'" class="control-label">'+r.label+"</label>"),a=angular.element('<div class="form-group row"></div>'),o=angular.element('<div class="form-control-wrapper"></div>'),s=e(r.labelClass.split(/\s+/));""==s.i&&i.addClass("col-xs-12"),i.addClass(r.labelClass);var l=e(n[0].className.split(/\s+/));n.removeClass(l.i),o.addClass(l.i),""==l.i&&o.addClass("col-xs-12"),n.wrap(a).wrap(o),n.parent().parent().prepend(i),n.attr("id",r.id),i=a=o=s=l=null}}}).directive("switch",function(){return{restrict:"EA",replace:!0,scope:{model:"=ngModel",changeExpr:"@ngChange",disabled:"@"},template:"<div class='switch'><div class='switch-handle'></div></div>",link:function(e,t,n){function r(e){e?t.addClass("active"):t.removeClass("active")}r(e.model),t.on("click tap",function(){null==n.disabled&&(e.model=!e.model,r(e.model),null!=e.changeExpr&&e.$parent.$eval(e.changeExpr))}),t.addClass("switch-transition-enabled")}}}),angular.module("mobile-angular-ui.directives.navbars",[]).directive("navbarAbsoluteTop",function(){return{replace:!1,restrict:"C",link:function(e,t){t.parent().addClass("has-navbar-top")}}}).directive("navbarAbsoluteBottom",function(){return{replace:!1,restrict:"C",link:function(e,t){t.parent().addClass("has-navbar-bottom")}}}),angular.module("mobile-angular-ui.directives.overlay",[]).directive("overlay",["$compile",function(e){return{link:function(t,n,r){var i="",a=n.html(),o=r.overlay;if(null!=r["default"])var i="default='"+r["default"]+"'";var s='<div class="overlay" id="'+o+'" toggleable '+i+' parent-active-class="overlay-in" active-class="overlay-show">\n  <div class="overlay-inner">\n    <div class="overlay-background"></div>\n    <a href="#'+o+'" toggle="off" class="overlay-dismiss">\n      <i class="fa fa-times-circle-o"></i>\n    </a>\n    <div class="overlay-content">\n      <div class="overlay-body">\n        '+a+"\n      </div>\n    </div>\n  </div>\n</div>";n.remove();var l=angular.element(document.getElementById(o));l.length>0&&l.hasClass("overlay")&&l.remove(),a=angular.element(document.body),a.prepend(e(s)(t)),"active"===r["default"]&&a.addClass("overlay-in")}}}]),angular.module("mobile-angular-ui.directives.panels",[]).directive("bsPanel",function(){return{restrict:"EA",replace:!0,scope:!1,transclude:!0,link:function(e,t){t.removeAttr("title")},template:function(e,t){var n="";return t.title&&(n='<div class="panel-heading">\n  <h2 class="panel-title">\n    '+t.title+"\n  </h2>\n</div>"),'<div class="panel">\n  '+n+'\n  <div class="panel-body">\n     <div ng-transclude></div>\n  </div>\n</div>'}}}),angular.module("mobile-angular-ui.pointer-events",[]).run(["$document",function(e){return angular.element(e).on("click tap",function(e){var t;return t=angular.element(e.target),t.hasClass("disabled")?(e.preventDefault(),e.stopPropagation(),t=null,!1):(t=null,!0)})}]),angular.module("mobile-angular-ui.scrollable",[]).directive("scrollableContent",[function(){return{replace:!1,restrict:"C",link:function(e,t){return"native"!==overthrow.support?(t.addClass("overthrow"),overthrow.forget(),overthrow.set()):void 0}}}]),angular.module("mobile-angular-ui.directives.sidebars",[]).directive("sidebar",["$document","$rootScope",function(e,t){return{replace:!1,restrict:"C",link:function(n,r,i){var a=!0;("false"==i.closeOnOuterClicks||"0"==i.closeOnOuterClicks)&&(a=!1),r.hasClass("sidebar-left")&&r.parent().addClass("has-sidebar-left"),r.hasClass("sidebar-right")&&r.parent().addClass("has-sidebar-right");var o=function(e,t){for(var n=e;n.length>0;){if(n[0]===t[0])return n=null,!0;n=n.parent()}return n=null,!1},s=function(e){return o(angular.element(e.target),r)?void 0:(t.toggle(i.id,"off"),e.preventDefault(),!1)},l=angular.noop();a&&(l=t.$on("mobile-angular-ui.toggle.toggled",function(t,n,r){n==i.id&&(r?setTimeout(function(){e.on("click tap",s)},300):e.unbind("click tap",s))})),n.$on("$destroy",function(){l(),e.unbind("click tap",s)})}}}]),angular.module("mobile-angular-ui.directives.toggle",[]).factory("ToggleHelper",["$rootScope",function(e){return{events:{toggle:"mobile-angular-ui.toggle.toggle",toggleByClass:"mobile-angular-ui.toggle.toggleByClass",togglerLinked:"mobile-angular-ui.toggle.linked",toggleableToggled:"mobile-angular-ui.toggle.toggled"},commands:{alternate:"toggle",activate:"on",deactivate:"off"},toggle:function(t,n){null==n&&(n="toggle"),e.$emit(this.events.toggle,t,n)},toggleByClass:function(t,n){null==n&&(n="toggle"),e.$emit(this.events.toggleByClass,t,n)},notifyToggleState:function(t,n,r){e.$emit(this.events.toggleableToggled,n.id,r,n.exclusionGroup)},toggleStateChanged:function(e,t,n){this.updateElemClasses(e,t,n),this.notifyToggleState(e,t,n)},applyCommand:function(e,t){switch(e){case this.commands.activate:return!0;case this.commands.deactivate:return!1;case this.commands.alternate:return!t}},updateElemClasses:function(e,t,n){if(n){t.activeClass&&e.addClass(t.activeClass),t.inactiveClass&&e.removeClass(t.inactiveClass);var r=e.parent();t.parentActiveClass&&r.addClass(t.parentActiveClass),t.parentInactiveClass&&r.removeClass(t.parentInactiveClass)}else{t.inactiveClass&&e.addClass(t.inactiveClass),t.activeClass&&e.removeClass(t.activeClass);var r=e.parent();t.parentInactiveClass&&r.addClass(t.parentInactiveClass),t.parentActiveClass&&r.removeClass(t.parentActiveClass)}}}}]).run(["$rootScope","ToggleHelper",function(e,t){e.toggle=function(e,n){null==n&&(n="toggle"),t.toggle(e,n)},e.toggleByClass=function(e,n){null==n&&(n="toggle"),t.toggleByClass(e,n)}}]).directive("toggle",["$rootScope","ToggleHelper",function(e,t){return{restrict:"A",link:function(n,r,i){var a=i.toggle||t.commands.alternate,o=i.target,s=i.targetClass,l="true"===i.bubble||"1"===i.bubble||1===i.bubble||""===i.bubble||"bubble"===i.bubble;if(!o&&i.href&&(o=i.href.slice(1)),!o&&!s)throw"'target' or 'target-class' attribute required with 'toggle'";r.on("click tap",function(e){var n=angular.element(e.target);return n.hasClass("disabled")?void 0:(null!=o&&t.toggle(o,a),null!=s&&t.toggleByClass(s,a),l?!0:(e.preventDefault(),!1))});var c=e.$on(t.events.toggleableToggled,function(e,n,a){n===o&&t.updateElemClasses(r,i,a)});null!=o&&e.$emit(t.events.togglerLinked,o),n.$on("$destroy",c)}}}]).directive("toggleable",["$rootScope","ToggleHelper",function(e,t){return{restrict:"A",link:function(n,r,i){var a=!1;if(i["default"]){switch(i["default"]){case"active":a=!0;break;case"inactive":a=!1}t.toggleStateChanged(r,i,a)}var o=e.$on(t.events.toggle,function(e,n,o){var s;n===i.id&&(s=a,a=t.applyCommand(o,s),s!==a&&t.toggleStateChanged(r,i,a))}),s=e.$on(t.events.toggleByClass,function(e,n,o){var s;r.hasClass(n)&&(s=a,a=t.applyCommand(o,s),s!==a&&t.toggleStateChanged(r,i,a))}),l=e.$on(t.events.toggleableToggled,function(e,n,o,s){o&&i.id!==n&&i.exclusionGroup===s&&null!=i.exclusionGroup&&(a=!1,t.toggleStateChanged(r,i,a))}),c=e.$on(t.events.togglerLinked,function(e,n){i.id===n&&t.notifyToggleState(r,i,a)});n.$on("$destroy",function(){o(),s(),l(),c()})}}}]),angular.module("mobile-angular-ui",["mobile-angular-ui.pointer-events","mobile-angular-ui.active-links","mobile-angular-ui.fastclick","mobile-angular-ui.scrollable","mobile-angular-ui.directives.toggle","mobile-angular-ui.directives.overlay","mobile-angular-ui.directives.forms","mobile-angular-ui.directives.panels","mobile-angular-ui.directives.capture","mobile-angular-ui.directives.sidebars","mobile-angular-ui.directives.navbars","mobile-angular-ui.directives.carousel"]),function(){var e;e=angular.module("ngQuickDate",[]),e.provider("ngQuickDateDefaults",function(){return{options:{dateFormat:"M/d/yyyy",timeFormat:"h:mm a",labelFormat:null,placeholder:"Click to Set Date",hoverText:null,buttonIconHtml:null,closeButtonHtml:"&times;",nextLinkHtml:"Next &rarr;",prevLinkHtml:"&larr; Prev",disableTimepicker:!1,disableClearButton:!1,defaultTime:null,dayAbbreviations:["Su","M","Tu","W","Th","F","Sa"],dateFilter:null,parseDateFunction:function(e){var t;return t=Date.parse(e),isNaN(t)?null:new Date(t)}},$get:function(){return this.options},set:function(e,t){var n,r,i;if("object"==typeof e){i=[];for(n in e)r=e[n],i.push(this.options[n]=r);return i}return this.options[e]=t}}}),e.directive("quickDatepicker",["ngQuickDateDefaults","$filter","$sce",function(e,t,n){return{restrict:"E",require:"?ngModel",scope:{dateFilter:"=?",onChange:"&",required:"@"},replace:!0,link:function(r,i,a,o){var s,l,c,u,d,p,f,h,m,_,g,v,y;return p=function(){return _(),r.toggleCalendar(!1),r.weeks=[],r.inputDate=null,r.inputTime=null,r.invalid=!0,"string"==typeof a.initValue&&o.$setViewValue(a.initValue),m(),h()},_=function(){var t,i;for(t in e)i=e[t],t.match(/[Hh]tml/)?r[t]=n.trustAsHtml(e[t]||""):!r[t]&&a[t]?r[t]=a[t]:r[t]||(r[t]=e[t]);return r.labelFormat||(r.labelFormat=r.dateFormat,r.disableTimepicker||(r.labelFormat+=" "+r.timeFormat)),a.iconClass&&a.iconClass.length?r.buttonIconHtml=n.trustAsHtml("<i ng-show='iconClass' class='"+a.iconClass+"'></i>"):void 0},l=!1,window.document.addEventListener("click",function(){return r.calendarShown&&!l&&(r.toggleCalendar(!1),r.$apply()),l=!1}),angular.element(i[0])[0].addEventListener("click",function(){return l=!0}),h=function(){var e;return e=o.$modelValue?new Date(o.$modelValue):null,v(),g(e),r.mainButtonStr=e?t("date")(e,r.labelFormat):r.placeholder,r.invalid=o.$invalid},g=function(e){return null!=e?(r.inputDate=t("date")(e,r.dateFormat),r.inputTime=t("date")(e,r.timeFormat)):(r.inputDate=null,r.inputTime=null)},m=function(e){var t;return null==e&&(e=null),t=null!=e?new Date(e):new Date,"Invalid Date"==""+t&&(t=new Date),t.setDate(1),r.calendarDate=new Date(t)},v=function(){var e,t,n,i,a,s,l,u,p,f,h,m,_,g;for(s=r.calendarDate.getDay(),i=d(r.calendarDate.getFullYear(),r.calendarDate.getMonth()),a=Math.ceil((s+i)/7),h=[],e=new Date(r.calendarDate),e.setDate(e.getDate()+-1*s),l=m=0,g=a-1;g>=0?g>=m:m>=g;l=g>=0?++m:--m)for(h.push([]),n=_=0;6>=_;n=++_)t=new Date(e),r.defaultTime&&(p=r.defaultTime.split(":"),t.setHours(p[0]||0),t.setMinutes(p[1]||0),t.setSeconds(p[2]||0)),u=o.$modelValue&&t&&c(t,o.$modelValue),f=c(t,new Date),h[l].push({date:t,selected:u,disabled:"function"==typeof r.dateFilter?!r.dateFilter(t):!1,other:t.getMonth()!==r.calendarDate.getMonth(),today:f}),e.setDate(e.getDate()+1);return r.weeks=h},o.$parsers.push(function(e){return r.required&&null==e?(o.$setValidity("required",!1),null):angular.isDate(e)?(o.$setValidity("required",!0),e):angular.isString(e)?(o.$setValidity("required",!0),r.parseDateFunction(e)):null}),o.$formatters.push(function(e){return angular.isDate(e)?e:angular.isString(e)?r.parseDateFunction(e):void 0}),s=function(e,n){return t("date")(e,n)},y=function(e){return"string"==typeof e?f(e):e},f=e.parseDateFunction,c=function(e,t,n){return null==n&&(n=!1),n?0===e-t:(e=y(e),t=y(t),e&&t&&e.getYear()===t.getYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},u=function(e,t){return e&&t?parseInt(e.getTime()/6e4)===parseInt(t.getTime()/6e4):!1},d=function(e,t){return[31,0===e%4&&0!==e%100||0===e%400?29:28,31,30,31,30,31,31,30,31,30,31][t]},o.$render=function(){return m(o.$viewValue),h()},o.$viewChangeListeners.unshift(function(){return m(o.$viewValue),h(),r.onChange?r.onChange():void 0}),r.$watch("calendarShown",function(e){var t;return e?(t=angular.element(i[0].querySelector(".quickdate-date-input"))[0],t.select()):void 0}),r.toggleCalendar=function(e){return r.calendarShown=isFinite(e)?e:!r.calendarShown},r.selectDate=function(e,t){var n;return null==t&&(t=!0),n=!o.$viewValue&&e||o.$viewValue&&!e||e&&o.$viewValue&&e.getTime()!==o.$viewValue.getTime(),"function"!=typeof r.dateFilter||r.dateFilter(e)?(o.$setViewValue(e),t&&r.toggleCalendar(!1),!0):!1},r.selectDateFromInput=function(e){var t,n,i,a;null==e&&(e=!1);try{if(n=f(r.inputDate),!n)throw"Invalid Date";if(!r.disableTimepicker&&r.inputTime&&r.inputTime.length&&n){if(a=r.disableTimepicker?"00:00:00":r.inputTime,i=f(""+r.inputDate+" "+a),!i)throw"Invalid Time";n=i}if(!u(o.$viewValue,n)&&!r.selectDate(n,!1))throw"Invalid Date";return e&&r.toggleCalendar(!1),r.inputDateErr=!1,r.inputTimeErr=!1}catch(s){if(t=s,"Invalid Date"===t)return r.inputDateErr=!0;if("Invalid Time"===t)return r.inputTimeErr=!0}},r.onDateInputTab=function(){return r.disableTimepicker&&r.toggleCalendar(!1),!0},r.onTimeInputTab=function(){return r.toggleCalendar(!1),!0},r.nextMonth=function(){return m(new Date(new Date(r.calendarDate).setMonth(r.calendarDate.getMonth()+1))),h()},r.prevMonth=function(){return m(new Date(new Date(r.calendarDate).setMonth(r.calendarDate.getMonth()-1))),h()},r.clear=function(){return r.selectDate(null,!0)},p()},template:"<div class='quickdate'>\n <a href='' ng-focus='toggleCalendar()' ng-click='toggleCalendar()' class='quickdate-button' title='{{hoverText}}'><div ng-hide='iconClass' ng-bind-html='buttonIconHtml'></div>{{mainButtonStr}}</a>\n <div class='quickdate-popup' ng-class='{open: calendarShown}'>\n <a href='' tabindex='-1' class='quickdate-close' ng-click='toggleCalendar()'><div ng-bind-html='closeButtonHtml'></div></a>\n <div class='quickdate-text-inputs'>\n <div class='quickdate-input-wrapper'>\n <label>Date</label>\n <input class='quickdate-date-input' ng-class=\"{'ng-invalid': inputDateErr}\" name='inputDate' type='text' ng-model='inputDate' placeholder='1/1/2013' ng-enter=\"selectDateFromInput(true)\" ng-blur=\"selectDateFromInput(false)\" on-tab='onDateInputTab()' />\n </div>\n <div class='quickdate-input-wrapper' ng-hide='disableTimepicker'>\n <label>Time</label>\n <input class='quickdate-time-input' ng-class=\"{'ng-invalid': inputTimeErr}\" name='inputTime' type='text' ng-model='inputTime' placeholder='12:00 PM' ng-enter=\"selectDateFromInput(true)\" ng-blur=\"selectDateFromInput(false)\" on-tab='onTimeInputTab()'>\n </div>\n </div>\n <div class='quickdate-calendar-header'>\n <a href='' class='quickdate-prev-month quickdate-action-link' tabindex='-1' ng-click='prevMonth()'><div ng-bind-html='prevLinkHtml'></div></a>\n <span class='quickdate-month'>{{calendarDate | date:'MMMM yyyy'}}</span>\n <a href='' class='quickdate-next-month quickdate-action-link' ng-click='nextMonth()' tabindex='-1' ><div ng-bind-html='nextLinkHtml'></div></a>\n </div>\n <table class='quickdate-calendar'>\n <thead>\n <tr>\n <th ng-repeat='day in dayAbbreviations'>{{day}}</th>\n </tr>\n </thead>\n <tbody>\n <tr ng-repeat='week in weeks'>\n <td ng-mousedown='selectDate(day.date, true, true)' ng-click='$event.preventDefault()' ng-class='{\"other-month\": day.other, \"disabled-date\": day.disabled, \"selected\": day.selected, \"is-today\": day.today}' ng-repeat='day in week'>{{day.date | date:'d'}}</td>\n </tr>\n </tbody>\n </table>\n <div class='quickdate-popup-footer'>\n <a href='' class='quickdate-clear' tabindex='-1' ng-hide='disableClearButton' ng-click='clear()'>Clear</a>\n </div>\n </div>\n</div>"}}]),e.directive("ngEnter",function(){return function(e,t,n){return t.bind("keydown keypress",function(t){return 13===t.which?(e.$apply(n.ngEnter),t.preventDefault()):void 0})}}),e.directive("onTab",function(){return{restrict:"A",link:function(e,t,n){return t.bind("keydown keypress",function(t){return 9!==t.which||t.shiftKey?void 0:e.$apply(n.onTab)})}}})}.call(this),eval(function(e,t,n,r,i,a){if(i=function(e){return(t>e?"":i(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;n--;)a[i(n)]=r[n]||i(n);r=[function(e){return a[e]}],i=function(){return"\\w+"},n=1}for(;n--;)r[n]&&(e=e.replace(RegExp("\\b"+i(n)+"\\b","g"),r[n]));return e}('7 p(a){a=a||{};5.8.1N.2h(2,32);2.L=a.1u||"";2.1D=a.1q||H;2.P=a.1H||0;2.E=a.1B||1f 5.8.1U(0,0);2.B=a.W||1f 5.8.2t(0,0);2.S=a.11||q;2.1n=a.1l||"28";2.1k=a.D||{};2.1G=a.1E||"34";2.M=a.19||"2W://2Q.5.2L/2I/2G/2F/1v.2z";3(a.19===""){2.M=""}2.1i=a.1r||1f 5.8.1U(1,1);2.Y=a.1s||H;2.1a=a.1p||H;2.1K=a.2k||"2g";2.17=a.1m||H;2.4=q;2.w=q;2.X=q;2.16=q;2.15=q;2.13=q;2.12=q;2.O=q}p.r=1f 5.8.1N();p.r.22=7(){6 a;6 d=2;6 c=7(e){e.1Z=U;3(e.18){e.18()}};6 b=7(e){e.2S=H;3(e.1Y){e.1Y()}3(!d.17){c(e)}};3(!2.4){2.4=1g.2K("2J");2.1d();3(t 2.L.1w==="u"){2.4.J=2.F()+2.L}v{2.4.J=2.F();2.4.1b(2.L)}2.2y()[2.1K].1b(2.4);2.1F();3(2.4.9.A){2.O=U}v{3(2.P!==0&&2.4.Z>2.P){2.4.9.A=2.P;2.4.9.2u="2s";2.O=U}v{a=2.24();2.4.9.A=(2.4.Z-a.14-a.T)+"R";2.O=H}}2.1t(2.1D);3(!2.17){2.X=5.8.s.I(2.4,"2n",c);2.16=5.8.s.I(2.4,"1L",c);2.15=5.8.s.I(2.4,"2m",c);2.1o=5.8.s.I(2.4,"2l",7(e){2.9.1J="2j"})}2.12=5.8.s.I(2.4,"2i",b);5.8.s.Q(2,"2f")}};p.r.F=7(){6 a="";3(2.M!==""){a="<2e";a+=" 2d=\'"+2.M+"\'";a+=" 2c=T";a+=" 9=\'";a+=" W: 2b;";a+=" 1J: 2a;";a+=" 29: "+2.1G+";";a+="\'>"}N a};p.r.1F=7(){6 a;3(2.M!==""){a=2.4.27;2.w=5.8.s.I(a,\'1L\',2.1I())}v{2.w=q}};p.r.1I=7(){6 a=2;N 7(e){e.1Z=U;3(e.18){e.18()}a.1v();5.8.s.Q(a,"26")}};p.r.1t=7(d){6 m;6 n;6 e=0,G=0;3(!d){m=2.25();3(m 39 5.8.38){3(!m.23().37(2.B)){m.36(2.B)}n=m.23();6 a=m.35();6 h=a.Z;6 f=a.21;6 k=2.E.A;6 l=2.E.1j;6 g=2.4.Z;6 b=2.4.21;6 i=2.1i.A;6 j=2.1i.1j;6 o=2.20().31(2.B);3(o.x<(-k+i)){e=o.x+k-i}v 3((o.x+g+k+i)>h){e=o.x+g+k+i-h}3(2.1a){3(o.y<(-l+j+b)){G=o.y+l-j-b}v 3((o.y+l+j)>f){G=o.y+l+j-f}}v{3(o.y<(-l+j)){G=o.y+l-j}v 3((o.y+b+l+j)>f){G=o.y+b+l+j-f}}3(!(e===0&&G===0)){6 c=m.30();m.2Z(e,G)}}}};p.r.1d=7(){6 i,D;3(2.4){2.4.2Y=2.1n;2.4.9.2X="";D=2.1k;2V(i 2U D){3(D.2R(i)){2.4.9[i]=D[i]}}3(t 2.4.9.1h!=="u"&&2.4.9.1h!==""){2.4.9.2P="2O(1h="+(2.4.9.1h*2N)+")"}2.4.9.W="2M";2.4.9.V=\'1y\';3(2.S!==q){2.4.9.11=2.S}}};p.r.24=7(){6 c;6 a={1e:0,1c:0,14:0,T:0};6 b=2.4;3(1g.1x&&1g.1x.1V){c=b.2H.1x.1V(b,"");3(c){a.1e=C(c.1T,10)||0;a.1c=C(c.1S,10)||0;a.14=C(c.1R,10)||0;a.T=C(c.1W,10)||0}}v 3(1g.2E.K){3(b.K){a.1e=C(b.K.1T,10)||0;a.1c=C(b.K.1S,10)||0;a.14=C(b.K.1R,10)||0;a.T=C(b.K.1W,10)||0}}N a};p.r.2D=7(){3(2.4){2.4.2C.2B(2.4);2.4=q}};p.r.1A=7(){2.22();6 a=2.20().2A(2.B);2.4.9.14=(a.x+2.E.A)+"R";3(2.1a){2.4.9.1c=-(a.y+2.E.1j)+"R"}v{2.4.9.1e=(a.y+2.E.1j)+"R"}3(2.Y){2.4.9.V=\'1y\'}v{2.4.9.V="1X"}};p.r.2T=7(a){3(t a.1l!=="u"){2.1n=a.1l;2.1d()}3(t a.D!=="u"){2.1k=a.D;2.1d()}3(t a.1u!=="u"){2.1Q(a.1u)}3(t a.1q!=="u"){2.1D=a.1q}3(t a.1H!=="u"){2.P=a.1H}3(t a.1B!=="u"){2.E=a.1B}3(t a.1p!=="u"){2.1a=a.1p}3(t a.W!=="u"){2.1z(a.W)}3(t a.11!=="u"){2.1P(a.11)}3(t a.1E!=="u"){2.1G=a.1E}3(t a.19!=="u"){2.M=a.19}3(t a.1r!=="u"){2.1i=a.1r}3(t a.1s!=="u"){2.Y=a.1s}3(t a.1m!=="u"){2.17=a.1m}3(2.4){2.1A()}};p.r.1Q=7(a){2.L=a;3(2.4){3(2.w){5.8.s.z(2.w);2.w=q}3(!2.O){2.4.9.A=""}3(t a.1w==="u"){2.4.J=2.F()+a}v{2.4.J=2.F();2.4.1b(a)}3(!2.O){2.4.9.A=2.4.Z+"R";3(t a.1w==="u"){2.4.J=2.F()+a}v{2.4.J=2.F();2.4.1b(a)}}2.1F()}5.8.s.Q(2,"2x")};p.r.1z=7(a){2.B=a;3(2.4){2.1A()}5.8.s.Q(2,"1O")};p.r.1P=7(a){2.S=a;3(2.4){2.4.9.11=a}5.8.s.Q(2,"2w")};p.r.2v=7(){N 2.L};p.r.1C=7(){N 2.B};p.r.33=7(){N 2.S};p.r.2r=7(){2.Y=H;3(2.4){2.4.9.V="1X"}};p.r.2q=7(){2.Y=U;3(2.4){2.4.9.V="1y"}};p.r.2p=7(c,b){6 a=2;3(b){2.B=b.1C();2.13=5.8.s.2o(b,"1O",7(){a.1z(2.1C())})}2.1M(c);3(2.4){2.1t()}};p.r.1v=7(){3(2.w){5.8.s.z(2.w);2.w=q}3(2.X){5.8.s.z(2.X);5.8.s.z(2.16);5.8.s.z(2.15);5.8.s.z(2.1o);2.X=q;2.16=q;2.15=q;2.1o=q}3(2.13){5.8.s.z(2.13);2.13=q}3(2.12){5.8.s.z(2.12);2.12=q}2.1M(q)};',62,196,"||this|if|div_|google|var|function|maps|style||||||||||||||||InfoBox|null|prototype|event|typeof|undefined|else|closeListener_|||removeListener|width|position_|parseInt|boxStyle|pixelOffset_|getCloseBoxImg_|yOffset|false|addDomListener|innerHTML|currentStyle|content_|closeBoxURL_|return|fixedWidthSet_|maxWidth_|trigger|px|zIndex_|right|true|visibility|position|eventListener1_|isHidden_|offsetWidth||zIndex|contextListener_|moveListener_|left|eventListener3_|eventListener2_|enableEventPropagation_|stopPropagation|closeBoxURL|alignBottom_|appendChild|bottom|setBoxStyle_|top|new|document|opacity|infoBoxClearance_|height|boxStyle_|boxClass|enableEventPropagation|boxClass_|eventListener4_|alignBottom|disableAutoPan|infoBoxClearance|isHidden|panBox_|content|close|nodeType|defaultView|hidden|setPosition|draw|pixelOffset|getPosition|disableAutoPan_|closeBoxMargin|addClickHandler_|closeBoxMargin_|maxWidth|getCloseClickHandler_|cursor|pane_|click|setMap|OverlayView|position_changed|setZIndex|setContent|borderLeftWidth|borderBottomWidth|borderTopWidth|Size|getComputedStyle|borderRightWidth|visible|preventDefault|cancelBubble|getProjection|offsetHeight|createInfoBoxDiv_|getBounds|getBoxWidths_|getMap|closeclick|firstChild|infoBox|margin|pointer|relative|align|src|img|domready|floatPane|apply|contextmenu|default|pane|mouseover|dblclick|mousedown|addListener|open|hide|show|auto|LatLng|overflow|getContent|zindex_changed|content_changed|getPanes|gif|fromLatLngToDivPixel|removeChild|parentNode|onRemove|documentElement|mapfiles|en_us|ownerDocument|intl|div|createElement|com|absolute|100|alpha|filter|www|hasOwnProperty|returnValue|setOptions|in|for|http|cssText|className|panBy|getCenter|fromLatLngToContainerPixel|arguments|getZIndex|2px|getDiv|setCenter|contains|Map|instanceof".split("|"),0,{})),eval(function(e,t,n,r,i,a){if(i=function(e){return(t>e?"":i(parseInt(e/t)))+((e%=t)>35?String.fromCharCode(e+29):e.toString(36))},!"".replace(/^/,String)){for(;n--;)a[i(n)]=r[n]||i(n);r=[function(e){return a[e]}],i=function(){return"\\w+"},n=1}for(;n--;)r[n]&&(e=e.replace(RegExp("\\b"+i(n)+"\\b","g"),r[n]));return e}('5 G(b,a){b.N().V(G,n.o.2Z);4.I=b;4.2E=b.N().2y();4.M=a;4.C=t;4.q=t;4.16=t;4.1o=w;4.K(b.v())}G.6.2F=5(){7 d=4;7 g;7 f;4.q=3A.3u("1Y");4.q.5p=4.2E;9(4.1o){4.2a()}4.4O().4H.4B(4.q);4.2X=n.o.u.1G(4.v(),"4b",5(){f=g});n.o.u.1E(4.q,"42",5(){g=H;f=w});n.o.u.1E(4.q,"2M",5(e){g=w;9(!f){7 c;7 b;7 a=d.I.N();n.o.u.X(a,"2M",d.I);n.o.u.X(a,"3V",d.I);9(a.2B()){b=a.1y();c=d.I.1s();a.v().1V(c);1U(5(){a.v().1V(c);9(b!==t&&(a.v().17()>b)){a.v().3F(b+1)}},3z)}e.3w=H;9(e.2j){e.2j()}}});n.o.u.1E(4.q,"2U",5(){7 a=d.I.N();n.o.u.X(a,"2U",d.I)});n.o.u.1E(4.q,"2L",5(){7 a=d.I.N();n.o.u.X(a,"2L",d.I)})};G.6.2Q=5(){9(4.q&&4.q.3e){4.1F();n.o.u.3b(4.2X);n.o.u.57(4.q);4.q.3e.4Z(4.q);4.q=t}};G.6.38=5(){9(4.1o){7 a=4.28(4.C);4.q.U.1J=a.y+"z";4.q.U.1H=a.x+"z"}};G.6.1F=5(){9(4.q){4.q.U.36="2V"}4.1o=w};G.6.2a=5(){9(4.q){7 e="";7 c=4.3g.4j(" ");7 b=12(c[0].1N(),10);7 d=12(c[1].1N(),10);7 a=4.28(4.C);4.q.U.43=4.2P(a);e="<41 3Z=\'"+4.2O+"\' U=\'20: 1Z; 1J: "+d+"z; 1H: "+b+"z; ";9(!4.I.N().1l){e+="3Y: 3X("+(-1*d)+"z, "+((-1*b)+4.1r)+"z, "+((-1*d)+4.1k)+"z, "+(-1*b)+"z);"}e+="\'>";4.q.3W=e+"<1Y U=\'"+"20: 1Z;"+"1J: "+4.1X[0]+"z;"+"1H: "+4.1X[1]+"z;"+"3T: "+4.2D+";"+"1O-1f: "+4.2z+"z;"+"1O-3P: "+4.2v+";"+"1O-3N: "+4.2t+";"+"1O-U: "+4.2s+";"+"1w-3I: "+4.2o+";"+"1w-3E: 1h;"+"1x: "+4.1r+"z;"+"3B-1u:"+4.1k+"z;"+"\'>"+4.16.1w+"</1Y>";9(1Q 4.16.14==="15"||4.16.14===""){4.q.14=4.I.N().2G()}L{4.q.14=4.16.14}4.q.U.36=""}4.1o=H};G.6.3i=5(a){4.16=a;7 b=A.3p(0,a.2T-1);b=A.22(4.M.p-1,b);7 c=4.M[b];4.2O=c.3f;4.1k=c.1u;4.1r=c.1x;4.1X=c.5m||[0,0];4.2c=c.5g||[12(4.1k/2,10),12(4.1r/2,10)];4.2D=c.5b||"55";4.2z=c.51||11;4.2o=c.4V||"2V";4.2t=c.4T||"4R";4.2s=c.4N||"4K";4.2v=c.4J||"4I,4G-4F";4.3g=c.4D||"0 0"};G.6.3h=5(a){4.C=a};G.6.2P=5(b){7 a=[];a.Y("4A: 4y;");a.Y("20: 1Z; 1J: "+b.y+"z; 1H: "+b.x+"z;");a.Y("1x: "+4.1r+"z; 1u: "+4.1k+"z;");j a.4v("")};G.6.28=5(b){7 a=4.37().1P(b);a.x-=4.2c[1];a.y-=4.2c[0];a.x=12(a.x,10);a.y=12(a.y,10);j a};5 D(a){4.W=a;4.Q=a.v();4.T=a.3c();4.13=a.2S();4.18=a.3a();4.k=[];4.C=t;4.2e=t;4.Z=F G(4,a.23())}D.6.45=5(){j 4.k.p};D.6.1D=5(){j 4.k};D.6.2R=5(){j 4.C};D.6.v=5(){j 4.Q};D.6.N=5(){j 4.W};D.6.1s=5(){7 i;7 b=F n.o.1m(4.C,4.C);7 a=4.1D();B(i=0;i<a.p;i++){b.V(a[i].S())}j b};D.6.1C=5(){4.Z.K(t);4.k=[];21 4.k};D.6.1B=5(e){7 i;7 c;7 b;9(4.2N(e)){j w}9(!4.C){4.C=e.S();4.25()}L{9(4.18){7 l=4.k.p+1;7 a=(4.C.O()*(l-1)+e.S().O())/l;7 d=(4.C.19()*(l-1)+e.S().19())/l;4.C=F n.o.1q(a,d);4.25()}}e.1p=H;4.k.Y(e);c=4.k.p;b=4.W.1y();9(b!==t&&4.Q.17()>b){9(e.v()!==4.Q){e.K(4.Q)}}L 9(c<4.13){9(e.v()!==4.Q){e.K(4.Q)}}L 9(c===4.13){B(i=0;i<c;i++){4.k[i].K(t)}}L{e.K(t)}4.2K();j H};D.6.2J=5(a){j 4.2e.2I(a.S())};D.6.25=5(){7 a=F n.o.1m(4.C,4.C);4.2e=4.W.2f(a)};D.6.2K=5(){7 c=4.k.p;7 a=4.W.1y();9(a!==t&&4.Q.17()>a){4.Z.1F();j}9(c<4.13){4.Z.1F();j}7 b=4.W.23().p;7 d=4.W.2H()(4.k,b);4.Z.3h(4.C);4.Z.3i(d);4.Z.2a()};D.6.2N=5(a){7 i;9(4.k.1d){j 4.k.1d(a)!==-1}L{B(i=0;i<4.k.p;i++){9(a===4.k[i]){j H}}}j w};5 8(a,c,b){4.V(8,n.o.2Z);c=c||[];b=b||{};4.k=[];4.E=[];4.1j=[];4.1e=t;4.1i=w;4.T=b.3U||3S;4.13=b.3R||2;4.1W=b.2C||t;4.M=b.3Q||[];4.2d=b.14||"";4.1z=H;9(b.2A!==15){4.1z=b.2A}4.18=w;9(b.2k!==15){4.18=b.2k}4.1a=w;9(b.2x!==15){4.1a=b.2x}4.1l=w;9(b.2w!==15){4.1l=b.2w}4.1I=b.3O||8.2u;4.1t=b.3L||8.2g;4.1c=b.3J||8.2r;4.1T=b.3H||8.2p;4.1R=b.3G||8.2n;4.1v=b.3D||8.2m;4.1S=b.3C||"P";9(3K.3y.3M().1d("3x")!==-1){4.1R=4.1v}4.2q();4.2l(c,H);4.K(a)}8.6.2F=5(){7 a=4;4.1e=4.v();4.1i=H;4.1b();4.1j=[n.o.u.1G(4.v(),"3v",5(){a.1A(w);9(4.17()===(4.2i("3t")||0)||4.17()===4.2i("2C")){n.o.u.X(4,"2h")}}),n.o.u.1G(4.v(),"2h",5(){a.1n()})]};8.6.2Q=5(){7 i;B(i=0;i<4.k.p;i++){9(4.k[i].v()!==4.1e){4.k[i].K(4.1e)}}B(i=0;i<4.E.p;i++){4.E[i].1C()}4.E=[];B(i=0;i<4.1j.p;i++){n.o.u.3b(4.1j[i])}4.1j=[];4.1e=t;4.1i=w};8.6.38=5(){};8.6.2q=5(){7 i,1f;9(4.M.p>0){j}B(i=0;i<4.1c.p;i++){1f=4.1c[i];4.M.Y({3f:4.1I+(i+1)+"."+4.1t,1u:1f,1x:1f})}};8.6.3s=5(){7 i;7 a=4.1D();7 b=F n.o.1m();B(i=0;i<a.p;i++){b.V(a[i].S())}4.v().1V(b)};8.6.3c=5(){j 4.T};8.6.3r=5(a){4.T=a};8.6.2S=5(){j 4.13};8.6.3q=5(a){4.13=a};8.6.1y=5(){j 4.1W};8.6.40=5(a){4.1W=a};8.6.23=5(){j 4.M};8.6.3o=5(a){4.M=a};8.6.2G=5(){j 4.2d};8.6.3n=5(a){4.2d=a};8.6.2B=5(){j 4.1z};8.6.3m=5(a){4.1z=a};8.6.3a=5(){j 4.18};8.6.44=5(a){4.18=a};8.6.3l=5(){j 4.1a};8.6.3k=5(a){4.1a=a};8.6.3j=5(){j 4.1l};8.6.48=5(a){4.1l=a};8.6.5o=5(){j 4.1t};8.6.5n=5(a){4.1t=a};8.6.5l=5(){j 4.1I};8.6.5k=5(a){4.1I=a};8.6.5i=5(){j 4.1c};8.6.5h=5(a){4.1c=a};8.6.2H=5(){j 4.1T};8.6.5f=5(a){4.1T=a};8.6.5e=5(){j 4.1v};8.6.5d=5(a){4.1v=a};8.6.2y=5(){j 4.1S};8.6.5c=5(a){4.1S=a};8.6.1D=5(){j 4.k};8.6.5a=5(){j 4.k.p};8.6.59=5(){j 4.E};8.6.54=5(){j 4.E.p};8.6.1B=5(b,a){4.2b(b);9(!a){4.1n()}};8.6.2l=5(b,a){7 c;B(c 39 b){9(b.50(c)){4.2b(b[c])}}9(!a){4.1n()}};8.6.2b=5(b){9(b.4X()){7 a=4;n.o.u.1G(b,"4W",5(){9(a.1i){4.1p=w;a.1b()}})}b.1p=w;4.k.Y(b)};8.6.4U=5(c,a){7 b=4.29(c);9(!a&&b){4.1b()}j b};8.6.4S=5(a,c){7 i,r;7 b=w;B(i=0;i<a.p;i++){r=4.29(a[i]);b=b||r}9(!c&&b){4.1b()}j b};8.6.29=5(b){7 i;7 a=-1;9(4.k.1d){a=4.k.1d(b)}L{B(i=0;i<4.k.p;i++){9(b===4.k[i]){a=i;4Q}}}9(a===-1){j w}b.K(t);4.k.4P(a,1);j H};8.6.4M=5(){4.1A(H);4.k=[]};8.6.1b=5(){7 a=4.E.4L();4.E=[];4.1A(w);4.1n();1U(5(){7 i;B(i=0;i<a.p;i++){a[i].1C()}},0)};8.6.2f=5(d){7 f=4.37();7 c=F n.o.1q(d.27().O(),d.27().19());7 a=F n.o.1q(d.24().O(),d.24().19());7 e=f.1P(c);e.x+=4.T;e.y-=4.T;7 g=f.1P(a);g.x-=4.T;g.y+=4.T;7 b=f.32(e);7 h=f.32(g);d.V(b);d.V(h);j d};8.6.1n=5(){4.26(0)};8.6.1A=5(a){7 i,J;B(i=0;i<4.E.p;i++){4.E[i].1C()}4.E=[];B(i=0;i<4.k.p;i++){J=4.k[i];J.1p=w;9(a){J.K(t)}}};8.6.30=5(b,e){7 R=4E;7 g=(e.O()-b.O())*A.1K/1M;7 f=(e.19()-b.19())*A.1K/1M;7 a=A.1L(g/2)*A.1L(g/2)+A.31(b.O()*A.1K/1M)*A.31(e.O()*A.1K/1M)*A.1L(f/2)*A.1L(f/2);7 c=2*A.4C(A.2Y(a),A.2Y(1-a));7 d=R*c;j d};8.6.35=5(b,a){j a.2I(b.S())};8.6.33=5(c){7 i,d,P,1h;7 a=4z;7 b=t;B(i=0;i<4.E.p;i++){P=4.E[i];1h=P.2R();9(1h){d=4.30(1h,c.S());9(d<a){a=d;b=P}}}9(b&&b.2J(c)){b.1B(c)}L{P=F D(4);P.1B(c);4.E.Y(P)}};8.6.26=5(e){7 i,J;7 d;7 c=4;9(!4.1i){j}9(e===0){n.o.u.X(4,"4x",4);9(1Q 4.1g!=="15"){4w(4.1g);21 4.1g}}9(4.v().17()>3){d=F n.o.1m(4.v().1s().24(),4.v().1s().27())}L{d=F n.o.1m(F n.o.1q(34.4u,-2W.4t),F n.o.1q(-34.4s,2W.4r))}7 a=4.2f(d);7 b=A.22(e+4.1R,4.k.p);B(i=e;i<b;i++){J=4.k[i];9(!J.1p&&4.35(J,a)){9(!4.1a||(4.1a&&J.4q())){4.33(J)}}}9(b<4.k.p){4.1g=1U(5(){c.26(b)},0)}L{21 4.1g;n.o.u.X(4,"4Y",4)}};8.6.V=5(d,c){j(5(b){7 a;B(a 39 b.6){4.6[a]=b.6[a]}j 4}).4p(d,[c])};8.2p=5(a,c){7 f=0;7 b="";7 d=a.p.4o();7 e=d;4n(e!==0){e=12(e/10,10);f++}f=A.22(f,c);j{1w:d,2T:f,14:b}};8.2n=52;8.2m=4m;8.2u="4l://n-o-4k-58-4i.4h.4g/4f/4e/4d/4c/m";8.2g="4a";8.2r=[53,56,5j,49,47];9(1Q 3d.6.1N!==\'5\'){3d.6.1N=5(){j 4.46(/^\\s+|\\s+$/g,\'\')}}',62,336,"||||this|function|prototype|var|MarkerClusterer|if||||||||||return|markers_|||google|maps|length|div_|||null|event|getMap|false|||px|Math|for|center_|Cluster|clusters_|new|ClusterIcon|true|cluster_|marker|setMap|else|styles_|getMarkerClusterer|lat|cluster|map_||getPosition|gridSize_|style|extend|markerClusterer_|trigger|push|clusterIcon_|||parseInt|minClusterSize_|title|undefined|sums_|getZoom|averageCenter_|lng|ignoreHidden_|repaint|imageSizes_|indexOf|activeMap_|size|timerRefStatic|center|ready_|listeners_|height_|enableRetinaIcons_|LatLngBounds|redraw_|visible_|isAdded|LatLng|width_|getBounds|imageExtension_|height|batchSizeIE_|text|width|getMaxZoom|zoomOnClick_|resetViewport_|addMarker|remove|getMarkers|addDomListener|hide|addListener|left|imagePath_|top|PI|sin|180|trim|font|fromLatLngToDivPixel|typeof|batchSize_|clusterClass_|calculator_|setTimeout|fitBounds|maxZoom_|anchorText_|div|absolute|position|delete|min|getStyles|getSouthWest|calculateBounds_|createClusters_|getNorthEast|getPosFromLatLng_|removeMarker_|show|pushMarkerTo_|anchorIcon_|title_|bounds_|getExtendedBounds|IMAGE_EXTENSION|idle|get|stopPropagation|averageCenter|addMarkers|BATCH_SIZE_IE|BATCH_SIZE|textDecoration_|CALCULATOR|setupStyles_|IMAGE_SIZES|fontStyle_|fontWeight_|IMAGE_PATH|fontFamily_|enableRetinaIcons|ignoreHidden|getClusterClass|textSize_|zoomOnClick|getZoomOnClick|maxZoom|textColor_|className_|onAdd|getTitle|getCalculator|contains|isMarkerInClusterBounds|updateIcon_|mouseout|click|isMarkerAlreadyAdded_|url_|createCss|onRemove|getCenter|getMinimumClusterSize|index|mouseover|none|178|boundsChangedListener_|sqrt|OverlayView|distanceBetweenPoints_|cos|fromDivPixelToLatLng|addToClosestCluster_|85|isMarkerInBounds_|display|getProjection|draw|in|getAverageCenter|removeListener|getGridSize|String|parentNode|url|backgroundPosition_|setCenter|useStyle|getEnableRetinaIcons|setIgnoreHidden|getIgnoreHidden|setZoomOnClick|setTitle|setStyles|max|setMinimumClusterSize|setGridSize|fitMapToMarkers|minZoom|createElement|zoom_changed|cancelBubble|msie|userAgent|100|document|line|clusterClass|batchSizeIE|align|setZoom|batchSize|calculator|decoration|imageSizes|navigator|imageExtension|toLowerCase|weight|imagePath|family|styles|minimumClusterSize|60|color|gridSize|clusterclick|innerHTML|rect|clip|src|setMaxZoom|img|mousedown|cssText|setAverageCenter|getSize|replace|90|setEnableRetinaIcons|78|png|bounds_changed|images|markerclustererplus|trunk|svn|com|googlecode|v3|split|utility|http|500|while|toString|apply|getVisible|00048865625|08136444384544|48388434375|02070771743472|join|clearTimeout|clusteringbegin|pointer|40000|cursor|appendChild|atan2|backgroundPosition|6371|serif|sans|overlayMouseTarget|Arial|fontFamily|normal|slice|clearMarkers|fontStyle|getPanes|splice|break|bold|removeMarkers|fontWeight|removeMarker|textDecoration|dragend|getDraggable|clusteringend|removeChild|hasOwnProperty|textSize|2000||getTotalClusters|black||clearInstanceListeners|library|getClusters|getTotalMarkers|textColor|setClusterClass|setBatchSizeIE|getBatchSizeIE|setCalculator|anchorIcon|setImageSizes|getImageSizes|66|setImagePath|getImagePath|anchorText|setImageExtension|getImageExtension|className".split("|"),0,{}));
var BCTApp=angular.module("BCTApp",["ngRoute","mobile-angular-ui","BCTAppServices","BCTAppControllers","BCTAppDirectives","ngQuickDate","BCTAppTopController","BCTAppValues","BCTAppProviders"]).config(["$sceProvider",function(e){e.enabled(!1)}]);window.myride={},window.myride.directories={site_roots:{local:"",remote:"https://webapps.appdev.cty/BctMyRide/",remote_isr:"http://www.isrtransit.com/files/bct/webapp/",active:""},paths:{my_ride:"bct_my_ride/",active:""}},window.myride.directories.site_roots.active=window.myride.directories.site_roots.remote_isr,window.myride.directories.paths.active=window.myride.directories.paths.my_ride,window.myride.directories.site_roots.whitelist_regexps={ISR_main:RegExp("http://www.isrtransit.com((/)?.*?/)*")},window.myride.dom_q={map:{overlays:{trip_pline:[],trip_points:[],trip_open_info:[{close:function(){},trip_marker_window_id:-1}],open_info:[{close:function(){},content:"<span>Stop: First</span>"}],open_info_hovered:[{close:function(){},content:"<span>Stop: First</span>"}],ordered_stop_list:[],points:{},nearest_map_points:{},nearest_map_draggable:{}}},inputs:{input_labels:[],elements:{}},scrolling_alerts:{}},function(){function e(){var e=(""+window.location).match(/\/index.html/)||(""+window.location).match(/\/default.aspx/)||(""+window.location).match(/\/myride_deployment_sample.html/),t=""===window.location.hash,n=e&&t;return n}e()&&(window.location.hash="#/bctappindex")}();var BCTAppValues=angular.module("BCTAppValues",[]);BCTAppValues.value("filter_making_info",{routeFilterFunc:{info_type:"route",use_min_length:!0},stopFilterFunc:{info_type:"stop",use_min_length:!0},landmarkFilterFunc:{info_type:"landmark",use_min_length:!0},routeSubFilterFunc:{info_type:"route",use_min_length:!1},stopSubFilterFunc:{info_type:"stop",use_min_length:!1}}),BCTAppValues.value("schedule_data",{nearest:{},planned:{weekdays:[],saturday:[],sunday:[]},date_pick:[]}),BCTAppValues.value("map_setting_defaults",{near_zoom:18}),BCTAppValues.value("toggle_targets",{schedule_map:{base:{ng_class:[],ng_show:["schedule_map_is_open","show_schedule_result_top_bar"]},"/bctappindex":{ng_class:[],ng_show:["show_index_title_normal","show_schedule_map_back_to_index_button"]},"/routeschedules":{ng_class:[],ng_show:["show_schedule_results_module_title_normal","show_schedule_map_back_to_schedule_results_button"]}},trip_planner:{base:{ng_class:[{class_obj:"map_full_screen_activate_button_styles",class_label:"map-full-screen-activate-button-schedule-map"}],ng_show:["trip_planner_is_open","show_trip_planner_title"]},"/bctappindex":{ng_class:[],ng_show:["show_index_title_normal","show_trip_planner_back_to_index_button"]},"/routeschedules":{ng_class:[],ng_show:["show_schedule_results_module_title_normal","show_trip_planner_back_to_schedule_results_button"]},"/nearestmapstops":{ng_class:[],ng_show:["show_trip_planner_back_to_index_from_nearest_map_stops"]}},nearest_map_stops:{base:{ng_class:[],ng_show:["nearest_map_stops_is_open","show_nearest_map_stops_title","show_nearest_map_stops_info_container","show_nearest_map_stops_back_to_index_button"]}},full_schedule:{base:{ng_class:[{class_obj:"schedule_map_styles",class_label:"hide-scroll"}],ng_show:["show_full_schedule_module","show_schedule_result_top_info_bar","show_map_canvas"]},"/bctappindex":{ng_class:[],ng_show:[]},"/routeschedules":{ng_class:[],ng_show:[]}}}),BCTAppValues.value("timer_constants",{location_service:{request_ignored:15e3,recalculate_location:3e4},error_dialog_delays:{general:{main:3e3,full_hide:1e3}},trip_planner:{update_request_time:12e3},schedule_map:{mini_schedule_update_interval_time:2e4}}),BCTAppValues.value("nearest_stops_service_constants",{max_reported_stops:3,max_dist:1e3/111111}),BCTAppValues.value("target_area_bounds",{lat:{max:27,min:25},lng:{max:-80,min:-80.5}}),BCTAppValues.value("map_zoom_span_breakpoints",[{needed_zoom:16,manual_breakpoint:null},{needed_zoom:15,manual_breakpoint:null},{needed_zoom:14,manual_breakpoint:null},{needed_zoom:13,manual_breakpoint:null},{needed_zoom:12,manual_breakpoint:null},{needed_zoom:11,manual_breakpoint:null},{needed_zoom:10,manual_breakpoint:null},{needed_zoom:9,manual_breakpoint:null}]),BCTAppValues.value("clusterer_options",{styles:[{url:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"css/ico/"+"button_green.svg",width:50,height:50,textColor:"#FFFFFF",textSize:18},{url:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"css/ico/"+"button_yellow.svg",width:50,height:50,textColor:"#FFFFFF",textSize:16},{url:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"css/ico/"+"button_red.svg",width:50,height:50,textColor:"#FFFFFF",textSize:14}],maxZoom:14}),BCTAppValues.value("map_palette",{colors:{blue:"#017AC2",red:"#C14E4E",black:"#000000"},weights:{markers:{thick:8,mid:7,thin:6},lines:{thick:5,mid:4,thin:3}},scales:{markers:{big:10,mid:5,small:3}}}),BCTAppValues.value("nearest_map_stops_instructions",{"default":"Select anywhere on the map to set the location pin.",clicked:"Select a stop or drag the location pin to a different location on the map.",selected:""}),BCTAppValues.value("full_schedule_availabilities",{one_file:[4,5,7,9,12,14,15,16,18,19,20,23,30,31,34,36,40,42,48,50,55,56,60,62,72,81,83,88],two_files:[1,2,6,10,11,22,28],breeze:{101:1,102:2,441:441},express:{110:"595X110",112:"595X112",114:"595X114",106:"95X106",107:"95X107",108:"95X108",109:"95X109"}}),BCTAppValues.value("recently_viewed_items",{schedule_map:[],trip_planner:[]}),BCTAppValues.value("full_schedule_category_with_datepicker",[{id:"full-schedule-accordion-choose-date",title:"Choose Date",hours:[]}]),BCTAppValues.value("full_schedule_categories",[{id:"full-schedule-accordion-weekdays",title:"Weekdays",hours:{}},{id:"full-schedule-accordion-choose-saturday",title:"Saturday",hours:{}},{id:"full-schedule-accordion-choose-sunday",title:"Sunday",hours:{}}]),BCTAppValues.value("base_marker_sizes",{scaling_weight:16,"default":{scale:7,strokeWeight:2},mouseover:{scale:11,strokeWeight:3}}),BCTAppValues.value("favorites_data",{favorites:[]}),BCTAppValues.value("selected_nearest_map_stop",{stop_id:""}),BCTAppValues.value("nearest_map_stop_distances",{stop_dists:[]}),BCTAppValues.value("marker_click_memory",{nearest:""}),BCTAppValues.value("marker_icon_options",{schedule_map:{"default":{path:google.maps.SymbolPath.CIRCLE,strokeWeight:2,strokeColor:"#FFFFFF",scale:8,fillColor:"",fillOpacity:1},mouseover:{path:google.maps.SymbolPath.CIRCLE,strokeWeight:4,strokeColor:"#FFFFFF",scale:12,fillColor:"",fillOpacity:1}}}),BCTAppValues.value("trip_planner_constants",{trip_duration_cutoff_hours:4,trip_walking_cutoff_meters:2e3}),BCTAppValues.value("map_clusterer",{clusterer:{}}),BCTAppValues.value("warning_messages",{main_search:{search_too_short:'Enter a search term with at least 3 characters. For example, if you are searching for BCT Route 10 enter "BCT10" instead of "10"',no_results:"Sorry, there are no results for your entry. Check spelling or broaden your search by entering fewer characters."},schedule_map:{no_error_data:"Schedule Map error: Problem communicating with server.",stop_seeker:"There was a problem with the Stop Seeker. Please try again later.",main_schedule:"There was a problem downloading the main schedule. Please try again later."},nearest_stops_map:{out_of_bounds:"That location is out of bounds. Please try again.",no_error_data:"Nearest Stops Map error: Problem communicating with server."},full_schedule:{no_error_data:"Full Schedule error: Problem communicating with server."},trip_planner:{no_error_data:"There was a problem retrieving your trip plan. Please try again later.",TRIP_PLANNER_ERROR_TEXT_NO_PLAN_FOUND:"No trip plan found.",departure_time_passed:"Please try setting a later departure time.",all_trips_filtered_out:"No suitable trip plans found. Please try different trip planner settings."},geocoder:{not_found:"Location not found.",out_of_bounds:"Location out of target region.",over_request_limit:"Application Busy. Try again."}}),BCTAppValues.value("svg_icon_paths",{walking:"m 26.975839,67.587975 c 0.685125,-0.808811 1.370251,-1.617622 2.055376,-2.426433 0.32315,-1.830325 0.586032,-3.672227 1.021733,-5.480517 0.0375,-0.328957 0.383897,-1.082752 -0.158199,-0.618477 -0.55848,0.281985 -0.643513,1.020014 -0.991926,1.504959 -0.216685,0.576932 -0.785275,1.527236 -1.452794,0.851272 -0.35316,-0.411344 0.02028,-0.863533 0.206714,-1.248639 0.310168,-0.584073 0.609065,-1.174686 0.926224,-1.754702 0.362439,-0.363652 0.863048,-0.550254 1.294862,-0.823706 0.523645,-0.279984 1.018783,-0.619588 1.564014,-0.854511 0.833398,-0.281571 1.683038,0.351337 1.960411,1.120947 0.377376,0.759531 0.754752,1.519062 1.132127,2.278593 0.685176,0.146972 1.384782,0.241359 2.059986,0.424657 0.641089,0.293374 0.326674,1.390404 -0.398936,1.210114 -0.773007,-0.160991 -1.556412,-0.283274 -2.322746,-0.469104 -0.390571,-0.150369 -0.460045,-0.61495 -0.661061,-0.93893 -0.09002,-0.181165 -0.180043,-0.362331 -0.270064,-0.543497 -0.136046,0.644334 -0.272212,1.288643 -0.4081,1.93301 0.666082,0.724598 1.375951,1.41418 2.011465,2.163792 0.19107,0.399331 0.07712,0.858654 0.108182,1.28743 -0.01013,1.081772 0.0205,2.166137 -0.01576,3.246249 -0.09596,0.613312 -0.977813,0.83367 -1.348694,0.33428 -0.28911,-0.380054 -0.139146,-0.881038 -0.176602,-1.322758 0,-0.832832 0,-1.665664 0,-2.498496 -0.629663,-0.65985 -1.255999,-1.322868 -1.885995,-1.9824 -0.155123,0.81125 -0.252506,1.63727 -0.446627,2.43874 -0.348117,0.550808 -0.834715,1.007358 -1.236625,1.521385 -0.505086,0.579328 -0.978045,1.189736 -1.503321,1.749594 -0.486816,0.430691 -1.334147,-0.02724 -1.242998,-0.670563 0.01275,-0.158273 0.07666,-0.311271 0.179355,-0.432289 z m 5.437788,-11.272752 c -0.696207,0 -1.263873,-0.565133 -1.263873,-1.263873 0,-0.700006 0.567666,-1.267672 1.263873,-1.267672 0.698739,0 1.266406,0.567666 1.266406,1.267672 0,0.698581 -0.567509,1.263873 -1.266406,1.263873 z",bus:"m 0.06970115,29.673962 c 0.41549423,0 0.83098845,1e-6 1.24648265,1e-6 0.043684,0.706498 -0.2158895,1.625549 0.5632843,2.087625 0.9254031,0.540081 1.9850764,-0.178987 1.9327331,-1.102418 0.00182,-0.676887 -0.017715,-1.011459 0.4141664,-0.985207 2.3538916,0 4.3979412,0.01289 6.7518334,0.01289 0.684495,0.01044 0.01661,1.579514 0.873125,2.074736 0.593945,0.274917 1.886027,0.395545 1.877875,-1.102418 0.03804,-0.56627 -0.08662,-1.065807 0.553375,-1.071144 0.01126,-0.0046 0.19728,-0.0036 0.744345,-0.007 -0.01691,-3.672517 0.05477,-7.611895 -0.269295,-10.771311 -0.183333,-1.78173 -2.53064,-2.04178 -3.573756,-2.30523 C 8.745545,15.956 6.1328814,15.940568 3.7086959,16.562756 2.6723017,16.841258 0.56130684,17.082629 0.46595712,18.422064 0.21579251,22.675599 0.07502422,25.043632 0.06970115,29.673962 z M 5.5391307,17.216783 c 1.5392306,0.0061 3.0794544,-0.0093 4.6183803,0.0035 0.863263,0.0092 0.972708,0.175791 0.955832,0.424819 -0.01575,0.309443 -0.326491,0.409295 -1.047684,0.419867 -1.877756,0 -3.7555122,0 -5.6332684,0 -0.4200308,-0.07316 -0.4806322,-0.237784 -0.4672245,-0.400008 0.021908,-0.265073 0.2320533,-0.471453 1.5739646,-0.448178 z M 1.117382,19.791339 c 0.2182869,-1.092665 0.00555,-1.299016 0.7185471,-1.330483 1.0740086,8.93e-4 4.8065608,0.03192 5.8805753,0.031 1.4521957,-0.0012 4.3529626,-0.0039 5.8051296,0.006 0.770324,-0.05194 0.853753,1.79338 0.874785,2.591265 0.04236,1.606976 0.10932,2.406334 0.08471,3.115629 -0.05114,1.218801 0.05107,2.089454 -0.725509,2.130106 -4.0825014,0.05313 -8.2572558,0.04385 -12.2353932,0.0099 C 0.48812273,26.299606 0.85684305,24.252452 0.78479401,23.841899 0.86210931,22.47442 0.9721924,21.134185 1.117382,19.791339 z m 0.1991846,8.055293 C 1.229581,26.70291 3.200221,26.272848 3.6914382,27.34227 4.2240111,28.260048 3.0119041,29.389802 2.0040152,28.857442 1.5946647,28.668954 1.2976128,28.270172 1.3165666,27.846632 z m 9.9714774,0 c -0.08698,-1.143719 1.883652,-1.573785 2.374871,-0.504362 0.532574,0.917779 -0.679534,2.047533 -1.687423,1.515172 -0.409351,-0.188488 -0.706403,-0.58727 -0.687448,-1.01081 z",dest:"m 2.887,1.072 0.012,14.002 c -10e-4,0.172 -0.181,0.313 -0.405,0.315 l 0,0 c -0.221,0 -0.403,-0.144 -0.404,-0.315 L 2.079,1.072 M 3.15,1.126 c 0,0 2.37,-0.25 4.208,0.334 1.839,0.583 4.738,0.486 5.839,0.232 0.005,3.91 0.005,7.188 0.005,7.188 0,0 -2.159,0.683 -3.902,0.101 C 7.557,8.401 4.087,7.726 3.159,8.168 3.157,6.008 3.15,1.126 3.15,1.126 z"}),BCTAppValues.value("default_demo_coords",{LatLng:{Latitude:25.977301,Longitude:-80.12027}}),BCTAppValues.value("all_alerts",{global:["The first alert","The second alert","The third alert","The fourth alert"],schedule_map:["This is the first test alert for routes. This alert is short.","This is the second test alert for routes. This alert is longer, to test different ways to display longer alert text. Lorem ipsum dolor sit amet."]}),BCTAppValues.value("agency_filter_icons",{broward:{agency:"broward",icon_filename:"bct_logo.svg",selection_class:"",name:"Broward County"},miami:{agency:"miami",icon_filename:"miami_dade_logo.svg",selection_class:"",name:"Miami-Dade"},palm:{agency:"palm",icon_filename:"palm_tran_logo.svg",selection_class:"",name:"Palm Beach"}}),BCTAppValues.value("filter_buffer_data",{}),BCTAppValues.value("map_navigation_marker_indices",{planner:0,schedule:0,schedule_named:""}),BCTAppValues.value("results_exist",{main:!1,sub:!1}),BCTAppValues.value("latest_location",{LatLng:{Latitude:0,Longitude:0}}),BCTAppValues.value("location_icons",{nearest_bstops:{regular_icon:"show_nearest_bstops_location_icon",spinning_icon:"show_nearest_bstops_location_icon_with_spin"},trip_planner:{regular_icon:"show_planner_location_icon",spinning_icon:"show_planner_location_icon_with_spin"},nearest_results_bstops:{regular_icon:"show_nearest_results_bstops_location_icon",spinning_icon:"show_nearest_results_bstops_location_icon_with_spin"}}),BCTAppValues.value("bct_routes_alt_names",{"US1 Breeze":"101","University Breeze":"102",Miramar:"106",Hollywood:"107","Pembroke Pines":"108","Pembroke Pines/Miramar":"109","Sunrise/Miami":"110","Sunrise/Ft Lauderdale":"112","Weston/Civic Center":"114","441 Breeze":"441"}),BCTAppValues.value("full_bstop_data",{list:[],dict:{}}),BCTAppValues.value("full_route_data",{list:[],dict:{}}),BCTAppValues.value("full_landmark_data",{orig:[],list:[]});var BCTAppProviders=angular.module("BCTAppProviders",[]);BCTAppProviders.provider("scrolling_animation_constants",[function(){var e={};return e.message_display_time=4e3,e.message_transition_out_time=500,e.keyframes={hidden_left:"alert-header-message-hidden-left",hidden_right:"alert-header-message-hidden-right",hidden_no_transition:"alert-header-message-hidden-no-transition"},e.keyframe_setups={displayed_in_middle:{hidden_right:!1,hidden_left:!1,hidden_no_transition:!1},hidden_on_left:{hidden_right:!1,hidden_left:!0,hidden_no_transition:!1},hidden_on_right:{hidden_right:!0,hidden_left:!1,hidden_no_transition:!1},hidden_on_right_no_transition:{hidden_right:!0,hidden_left:!1,hidden_no_transition:!0},hidden_on_left_no_transition:{hidden_right:!1,hidden_left:!0,hidden_no_transition:!0}},e.animation_configs=[[{keyframe_setup_name:"displayed_in_middle",duration:e.message_display_time,number_of_frames:0},{keyframe_setup_name:"hidden_on_left",duration:e.message_transition_out_time,number_of_frames:0},{keyframe_setup_name:"hidden_on_right_no_transition",duration:e.message_transition_out_time,number_of_frames:0}],[{keyframe_setup_name:"displayed_in_middle",duration:e.message_display_time,number_of_frames:0},{keyframe_setup_name:"hidden_on_right",duration:e.message_transition_out_time,number_of_frames:0},{keyframe_setup_name:"hidden_on_left_no_transition",duration:e.message_transition_out_time,number_of_frames:0}]],{$get:function(){return e}}}]),BCTAppProviders.provider("legend_icon_list",function(){var e={};return e.$get=["agency_filter_icons",function(e){return[{fa_name:"fa-chevron-left",filename:"",legend:{module:"Top Alerts",desc:"View global alerts in reverse order and skip to the previous global alert in the list."}},{fa_name:"fa-chevron-right",filename:"",legend:{module:"Top Alerts",desc:"View global alerts in forward order and skip to the next global alert in the list."}},{fa_name:"fa-exchange",filename:"",legend:{module:"Trip Planner",desc:"Swap trip planner start and finish entries."}},{fa_name:"fa-cog",filename:"",legend:{module:"Trip Planner",desc:"Displays trip planner options. Here you can configure your trip for transit types, set your arrival/departure times, and optimize it for time, fares or transfers."}},{fa_name:"",filename:"walking.svg",legend:{module:"Trip Planner",desc:"Indicates a walking portion of a Trip Planner result."}},{fa_name:"",filename:"fa_bus.svg",legend:{module:"Trip Planner",desc:"Indicates a bussing portion of a Trip Planner result."}},{fa_name:"",filename:"solid_flag_2_plain.svg",legend:{module:"Trip Planner",desc:"Indicates the destination of a Trip Planner result."}},{fa_name:"fa-search",filename:"",legend:{module:"Sched. Search",desc:"Submits search for bus stops and routes. Alternatively, you can press enter while focused on the search input box."}},{fa_name:"fa-list-alt",filename:"",legend:{module:"Sched. Search",desc:"Displays all routes on the Schedule Results page. You can also submit the phrase 'all routes' from the search bar."}},{fa_name:"fa-times-circle",filename:"",legend:{module:"Sched. Search",desc:"Clears search input for bus stops and routes. Also clears previous search results."}},{fa_name:"",filename:e.broward.icon_filename,legend:{module:"Sched. Search",desc:"Filters bus stop and route results depending on the selected transit agency."}},{fa_name:"fa-plus-circle",filename:"",legend:{module:"Sched. Results",desc:"Opens a panel containing all associated stops (when a route is selected) or routes (when a stop is selected), as well as display and other options."}},{fa_name:"fa-star-o",filename:"",legend:{module:"Sched. Results",desc:"Adds a route/stop combination to your favorites on My BCT."}},{fa_name:"fa-map-marker",filename:"",legend:{module:"Sched. Results",desc:"Adds the GPS coordinates of the current stop to the 'start' field of the trip planner."}},{fa_name:"fa-chevron-right",filename:"",legend:{module:"Sched. Search",desc:"Goes to the Map Schedule, which contains a schedule and interactive map for the selected route/stop combination. It also contains an option to view the full weekly schedule."}},{fa_name:"fa-exclamation-circle",filename:"",legend:{module:"Map Schedule",desc:"View alerts associated with the currently viewed route."}},{fa_name:"",filename:"button_yellow.svg",legend:{module:"Map Schedule",desc:"A map marker cluster. Represents the indicated number of stops. Stop markers become visible again when zoomed in sufficiently."}},{fa_name:"fa-calendar",filename:"",legend:{module:"Map Schedule",desc:"Opens the full schedule view. There you can view the full weekly schedule or a schedule for a future date of your choice."}},{fa_name:"",filename:"fa_bus.svg",legend:{module:"Map Schedule",desc:"Select a different route going through the clicked stop. The ID of the alternate route is embedded in this icon. The larger, yellow icon indicates the currently viewed route."}},{fa_name:"fa-file-pdf-o",filename:"",legend:{module:"Full Schedule",desc:"Downloads a PDF of the current full schedule."}},{fa_name:"fa-times",filename:"",legend:{module:"Full Schedule",desc:"Closes the full schedule view and returns to the Map schedule."}},{fa_name:"fa-crosshairs",filename:"",legend:{module:"Variable",desc:"Retrieve current location and use with associated module. Rotation indicates the associated module is loading location data or awaiting user location sharing confirmation."}},{fa_name:"fa-spinner",filename:"",legend:{module:"Variable",desc:"Indicates that a page or module is currently loading."}}]}],e});var BCTAppTopController=angular.module("BCTAppTopController",[]);BCTAppTopController.controller("BCTController",["$scope","$timeout","full_bstop_data","full_route_data","all_alerts","full_landmark_data","$compile","scrollingAlertsService","map_setting_defaults","scheduleDownloadAndTransformation","googleMapsUtilities","$q","timer_constants","unitConversionAndDataReporting","miniScheduleService","locationService","location_icons","agency_filter_icons","results_exist","map_navigation_marker_indices","legend_icon_list","profilePageService","routeStopLandmarkFilters","warning_messages","selected_nearest_map_stop","nearest_map_stop_distances","landmarkInfoService","favorites_data","svg_icon_paths","full_schedule_categories","full_schedule_category_with_datepicker","recentlyViewedService","full_schedule_availabilities","generalUIUtilities","routeStopLandmarkTransformationService","generalServiceUtilities","$location","toggle_targets","schedule_data","filter_making_info",function(e,t,n,r,i,a,o,s,l,c,u,d,p,f,h,m,_,g,v,y,w,$,b,S,k,C,T,x,A,I,E,R,M,D,L,F,P,O,N,B){window.main_scope=e,e.top_scope=e,e.$on("$routeChangeSuccess",function(){e.current_location=P.path()}),e.schedule_map_styles={"hide-scroll":!0},function(){function t(){this["error-dialog-centered"]=!1,this["error-dialog-faded-in"]=!1,this["error-dialog-faded-out"]=!0,this["error-dialog-behind"]=!0}e.nearest_stops_map_error_dialog_styles=new t,e.schedule_map_error_dialog_styles=new t,e.full_schedule_error_dialog_styles=new t,e.planner_dialog_styles=new t,e.planner_dialog_styles["trip-planner-dialog-start"]=!1,e.planner_dialog_styles["trip-planner-dialog-finish"]=!1,e.planner_dialog_styles["trip-planner-dialog-centered"]=!1}(),e.itinerary_selector_styles={"trip-planner-itinerary-selector-pushed":!1},e.itinerary_selector_panel_styles={"trip-planner-itinerary-panel-smaller":!1},e.itinerary_selector_modal_styles={"trip-planner-itinerary-selector-modal-smaller":!1},e.map_canvas_styles={"map-canvas-full-screen":!1},e.schedule_map_styles={"schedule-map-full-screen":!1},function(){function t(){this["trip-planner-itinerary-step-container-le-6"]=!1,this["trip-planner-itinerary-step-container-le-8"]=!1,this["trip-planner-itinerary-step-container-le-10"]=!1}e.trip_planner_itinerary_step_container_size_0=new t,e.trip_planner_itinerary_step_container_size_1=new t,e.trip_planner_itinerary_step_container_size_2=new t}(),e.trip_planner_title_header_style={"myride-title-shadow":!0},e.map_full_screen_activate_button_styles={"map-full-screen-activate-button-schedule-map":!0},e.global_alert_area_styles={left:{"alert-area-highlighted":!1},right:{"alert-area-highlighted":!1},pause:{"alert-area-highlighted":!1}},e.show_main_loading_modal=!0,e.show_icon_legend_overlay=!1,e.show_empty_result_message_search_too_short=!1,e.show_empty_result_message_no_results=!1,e.show_schedule_results_result_panels=!1,e.show_index_nearest_stops_panels=!1,e.show_map_overlay_module=!1,e.show_schedule_map_loading_modal=!1,e.show_schedule_result_top_bar=!1,e.show_schedule_result_top_info_bar=!0,e.show_schedule_map_alerts_header_contents=!0,e.show_schedule_map_info_bar=!0,e.show_full_schedule_module=!1,e.show_index_title_normal=!0,e.show_trip_planner_back_to_index_button=!1,e.show_schedule_map_back_to_index_button=!1,e.show_schedule_results_module_title_normal=!0,e.show_schedule_map_back_to_schedule_results_button=!1,e.show_trip_planner_back_to_schedule_results_button=!1,e.show_nearest_map_stops_back_to_index_button=!1,e.show_trip_planner_back_to_index_from_nearest_map_stops=!1,e.show_trip_planner_title=!1,e.show_trip_planner_options=!1,e.show_trip_planner_itinerary_selector=!1,e.show_trip_planner_itinerary_labels=!1,e.show_schedule_result_date_pick_row_loading=!1,e.show_schedule_result_date_pick_row_no_data=!1,e.show_trip_planner_step_navigation_bar=!1,e.show_schedule_map_navigation_bar_activation_button=!0,e.show_schedule_map_navigation_bar_loading=!1,e.show_schedule_map_stop_navigation_bar_contents=!1,e.show_schedule_map_stop_navigation_bar=!1,e.show_map_full_screen_button=!0,e.show_map_full_screen_return_button=!1,e.show_map_full_screen_modal=!1,e.show_trip_planner_step_navigation_bar=!1,e.show_trip_planner_title_header=!0,e.show_trip_planner_itinerary_transit_type_icon_selectable=!1,e.show_trip_planner_itinerary_transit_type_icon_non_selectable=!1,e.show_map_canvas=!0,e.show_schedule_full_result_pdf_selector=!1,e.show_schedule_map_mini_schedule_no_data=!0,e.show_route_alert_overlay=!1,e.show_nearest_map_stops_title=!1,e.show_nearest_map_stops_info_container=!1,e.show_full_schedule_category_panel_loading_modal=!1,e.show_full_schedule_category_loading_modal_datepick=!1,function(){for(var t in _)e[_[t].regular_icon]=!0,e[_[t].spinning_icon]=!1}(),e.results_exist=v,e.$watch("query_data.schedule_search",function(t,n){t!==n&&(e.filtered_routes_arr=e.routeFilterFunc(e.query_data.schedule_search,!1),e.filtered_stops_arr=e.stopFilterFunc(e.query_data.schedule_search,e.sort_bstops_by_distance),e.filtered_landmarks_arr=e.landmarkFilterFunc(e.query_data.schedule_search,!1),3>e.query_data.schedule_search.length?(e.show_empty_result_message_search_too_short=!0,e.show_empty_result_message_no_results=!1,e.show_schedule_results_result_panels=!1):(e.show_empty_result_message_search_too_short=!1,e.displayResultsIfExist()))}),e.$watch("results_exist.main",function(t,n){n>t?(e.show_empty_result_message_no_results=!0,e.show_schedule_results_result_panels=!1):t>n&&(e.show_empty_result_message_no_results=!1,e.show_schedule_results_result_panels=!0)}),e.$watch("full_schedule_date.datepick",function(t,n){t!==n&&(e.show_full_schedule_category_loading_modal_datepick=!0,e.show_schedule_result_date_pick_row_no_data=!1,c.downloadSchedule(e.map_schedule_info.route,e.map_schedule_info.stop,e.full_schedule_date.datepick).then(function(t){e.show_full_schedule_category_loading_modal_datepick=!1,t.data.Today?c.updateDatepickerSchedule(t.data.Today):(e.show_schedule_result_date_pick_row_no_data=!0,e.alertUserToFullScheduleErrors())})["catch"](function(){console.log("Server communication error: full schedule."),e.alertUserToFullScheduleErrors(),e.show_full_schedule_category_loading_modal_datepick=!1}))}),e.$watch("show_trip_planner_options",function(t,n){t>n?(e.itinerary_selector_modal_styles["trip-planner-itinerary-selector-modal-smaller"]=!0,e.current_trip_plan_data&&e.current_trip_plan_data.length>2&&(e.itinerary_selector_styles["trip-planner-itinerary-selector-pushed"]=!0,e.itinerary_selector_panel_styles["trip-planner-itinerary-panel-smaller"]=!0),e.trip_planner_title_header_style["myride-title-shadow"]=!1):n>t&&(e.itinerary_selector_modal_styles["trip-planner-itinerary-selector-modal-smaller"]=!1,e.itinerary_selector_styles["trip-planner-itinerary-selector-pushed"]=!1,e.itinerary_selector_panel_styles["trip-planner-itinerary-panel-smaller"]=!1,e.trip_planner_title_header_style["myride-title-shadow"]=!0)}),e.$watch("map_navigation_marker_indices.planner",function(t,n){t!==n&&(e.current_trip_plan_data_selection.legsField[t].styles="trip-planner-itinerary-step-highlighted",e.current_trip_plan_data_selection.legsField[n].styles="")}),e.$watch("show_trip_planner_itinerary_selector",function(t,n){t>n?(e.show_trip_planner_itinerary_transit_type_icon_selectable=!1,e.show_trip_planner_itinerary_transit_type_icon_non_selectable=!0):n>t&&(e.show_trip_planner_itinerary_transit_type_icon_selectable=!0,e.show_trip_planner_itinerary_transit_type_icon_non_selectable=!1)}),e.$watch("show_map_full_screen_modal",function(t,n){t>n?e.schedule_map_styles["schedule-map-full-screen"]=!0:n>t&&(e.schedule_map_styles["schedule-map-full-screen"]=!1)}),e.$watch("bstopFilter.f",function(t,n){t!==n&&(e.filtered_sub_routes_arr=e.stopSubFilterFunc(e.bstopFilter.f,!1,e.route_stop_list))}),e.$watch("landmarkBstopFilter.f",function(t,n){t!==n&&(e.filtered_sub_landmarks_arr=e.stopSubFilterFunc(e.landmarkBstopFilter.f,!1,e.landmark_stop_list))}),e.$watch("routeFilter.f",function(t,n){t!==n&&(e.filtered_sub_stops_arr=e.routeSubFilterFunc(e.routeFilter.f,!1,e.stop_route_list))}),e.trip_date_changed={value:!1},e.removeTripOptsDateWatch=e.$watch("trip_opts.datepick",function(t,n){t!==n&&e.watchCalendarForUserChangeOnce(e.trip_opts.datepick,e.trip_date_changed,e.removeTripOptsDateWatch)}),e.initial_schedule_map_data={coords:{},route_id:"",bstop_id:""},e.query_data={schedule_search:""},e.map_schedule_info={route:"",stop:""},e.schedule=N,e.all_days=["Weekdays","Saturday","Sunday"],e.routeFilter={f:""},e.bstopFilter={f:""},e.landmarkBstopFilter={f:""},e.full_schedule_date={datepick:new Date},e.trip_inputs={start:"14791 Miramar Pkwy",finish:"12400 Pembroke Rd"},e.schedule_map_navigation_bar_activation_messages={inactive:"Show more stops",activating:"Showing more stops..."},e.map_full_screen_return_button_messages={planner:"Return to Trip Planner",schedule:"Return to Schedule Map"},e.schedule_date_range={start:"2014/06/08",end:"2014/09/13"},e.full_schedule_availabilities=M,function(){e.breeze_sched_listed=[];for(var t in e.full_schedule_availabilities.breeze)e.breeze_sched_listed.push(t);e.express_sched_listed=[];for(var n in e.full_schedule_availabilities.express)e.express_sched_listed.push(n)}(),e.compileTemplateWithTopScope=function(t,n){var r=angular.element(t);r.append(o(n)(e))},e.showInfoWindowSchedule=function(){e.show_info_window_schedule=!0},e.warning_messages=S,R.loadRecentlyViewedList(),e.full_schedule_categories=I,e.full_schedule_category_with_datepicker=E,e.cur_def_dir=myride.directories.site_roots.active,e.cur_def_path=myride.directories.paths.active,e.svg_icon_paths=A,e.nearest_map_stop_distances=C,e.selected_nearest_map_stop=k,e.selectBCTSiteFullSchedule=function(){var t=e.map_schedule_info.route.match(/[0-9][0-9]*/)[0].replace(/^0*/,""),n=e.full_schedule_availabilities.one_file,r=e.full_schedule_availabilities.two_files;if(-1!==r.indexOf(Number(t)))return e.show_schedule_full_result_pdf_selector=!0,!0;if(-1!==n.indexOf(Number(t)))e.goToBCTSiteFullSchedule("one_page",t);else if(-1!==e.breeze_sched_listed.indexOf(t)){var i=e.breeze_sched_listed.indexOf(t),a=e.breeze_sched_listed[i];t=e.full_schedule_availabilities.breeze[a],e.goToBCTSiteFullSchedule("breeze",t)}else{if(-1===e.express_sched_listed.indexOf(t))return console.log("Route not found: "+t),!1;var o=e.express_sched_listed.indexOf(t),s=e.express_sched_listed[o];t=e.full_schedule_availabilities.express[s],e.goToBCTSiteFullSchedule("express",t)}},e.goToBCTSiteFullSchedule=function(t,n,r){var i,a="http://www.broward.org/BCT/Schedules/Documents/",o="rt",s="web",l=".pdf";if("one_page"===t?i="":"two_page"===t?"weekday"===r?i="w":"weekend"===r?i="ss":console.error("Schedule type unspecified."):"breeze"===t?i="breeze":"express"===t&&(o="",i=""),"on_page"===n)var n=e.map_schedule_info.route.match(/[0-9][0-9]*/)[0].replace(/^0*/,"");var c=a+o+n+i+s+l;window.open(c),e.show_schedule_full_result_pdf_selector=!1},e.watchCalendarForUserChangeOnce=function(e,t,n){var r=new Date,i=r.toISOString().split("T")[1].slice(0,5),a=e.toISOString().split("T")[1].slice(0,5);a!==i&&(t.value=!0,n())},e.checkIfRouteStopFavorited=$.checkIfRouteStopFavorited,function(){for(var t in B)e[t]=b[t]}(),e.schedule_map_alerts=i.schedule_map,e.toggleRouteAlertOverlay=function(){e.show_route_alert_overlay||(e.current_route_alert_index=0),e.show_route_alert_overlay=!e.show_route_alert_overlay},e.cycleThroughRouteAlerts=function(t){var n=r.dict[e.map_schedule_info.route].alerts.length,i=t;return t>n-1?i=0:0>t&&(i=n-1),i},e.changeRouteAlert=function(t){var n=e.current_route_alert_index;"next"===t?n++:"prev"===t&&n--,e.current_route_alert_index=e.cycleThroughRouteAlerts(n)},e.current_global_alerts_message="",e.changeGlobalAlertsBarHighlighting=function(t){var n=e.global_alert_area_styles,r="alert-area-highlighted";for(var i in n)n[i][r]=i===t?!0:!1},e.goToGlobalAlertMessage=s.goToGlobalAlertMessage,e.pauseGlobalAlertMessageScrolling=s.pauseGlobalAlertMessageScrolling,e.base_myride_url=window.myride.directories.site_roots.active+window.myride.directories.paths.active,e.submitRouteStopSearch=function(t,r,i){var a,o;"index"===r?(a=myride.dom_q.inputs.elements.index_search_input,o=a.value.trim()):"results"===r?(a=myride.dom_q.inputs.elements.rs_search_input,o=a.value.trim()):"specified"===r&&(a=myride.dom_q.inputs.elements.rs_search_input,o=n.dict[i].Name),a.value=o,e.query_data.schedule_search=a.value,"enter"===t&&e.$apply()
},e.legend_icon_list=w,e.toggleIconLegendOverlay=function(){e.show_icon_legend_overlay=e.show_icon_legend_overlay?!1:!0},e.map_full_screen_return_button_message="",e.goToFirstStep=function(t){var n={},r="",i="",a="";if("planner"===t?(n=myride.dom_q.map.overlays.trip_points[0],r="trip_points",i="trip_open_info",a="trip_marker_window_id"):"schedule"===t&&(n=myride.dom_q.map.overlays.points[e.initial_schedule_map_data.bstop_id],r="points",i="open_info",a="schedule_marker_window_id"),!n)return!0;var o=n.marker.getPosition();myride.dom_q.map.inst.setCenter({lat:o.lat(),lng:o.lng()}),n.info[a]===myride.dom_q.map.overlays[i][0][a]&&(n.info.close(),u.createDummyInfoWindow(r)),n.info_opener.open(!0)},e.toggleMapFullScreen=function(){var t=e.map_canvas_styles["map-canvas-full-screen"];e.map_canvas_styles["map-canvas-full-screen"]=!t,e.show_map_full_screen_button=t,e.show_map_full_screen_return_button=!t,e.show_map_full_screen_modal=!t,e.show_trip_planner_options=!1,e.show_trip_planner_step_navigation_bar=t&&e.show_trip_planner_title&&Boolean(e.current_trip_plan_data_selection)&&Boolean(e.current_trip_plan_data_selection.legsField[0]);var n,r,i=u.touchMap(),a="";e.show_trip_planner_title?(a="planner",n=null,r=10,e.show_trip_planner_title_header=t,e.current_trip_plan_summary&&e.current_trip_plan_summary.first_LatLng&&(n=e.current_trip_plan_summary.first_LatLng,r=e.current_trip_plan_summary.zoom)):e.show_schedule_result_top_bar&&(a="schedule",n=e.initial_schedule_map_data.coords,r=null,e.show_schedule_map_stop_navigation_bar=t,e.show_schedule_map_alerts_header_contents=t,e.show_schedule_result_top_info_bar=t,e.show_schedule_map_info_bar=t),u.setMapPosition(n,r),i.then(function(){e.goToFirstStep(a)})},e.map_navigation_marker_indices=y,e.resetTripStepIconHighlighting=function(){for(var t=e.current_trip_plan_data_selection.legsField,n=0;t.length>n;n++)t[n].styles=""},e.returnToInitialBusStop=function(){e.resetCenter();var t=y.schedule_named=e.initial_schedule_map_data.bstop_id;y.schedule=myride.dom_q.map.overlays.ordered_stop_list.indexOf(t),myride.dom_q.map.overlays.points[t].info.clicked=!0,myride.dom_q.map.overlays.points[t].info_opener.open()},e.schedule_map_navigation_bar_loading_in_progress=!1,e.current_schedule_map_navigation_bar_activation_message=e.schedule_map_navigation_bar_activation_messages.inactive,e.resetScheduleMapNavigationBar=function(){e.show_schedule_map_navigation_bar_loading=!1,e.show_schedule_map_stop_navigation_bar_contents=!1,e.show_schedule_map_stop_navigation_bar=!1,e.show_schedule_map_navigation_bar_activation_button=!0,e.current_schedule_map_navigation_bar_activation_message=e.schedule_map_navigation_bar_activation_messages.inactive},e.alertUserToMainModuleError=function(n,r,i,a,o,s,l,c){return i(r)?!1:(r["error-dialog-behind"]=!1,r["error-dialog-centered"]=!0,t(function(){r["error-dialog-faded-out"]=!1,r["error-dialog-faded-in"]=!0}),e[a]=t(function(){r["error-dialog-faded-in"]=!1,r["error-dialog-faded-out"]=!0,e[o]=!0,t(function(){r["error-dialog-behind"]=!0,e[o]=!1},p.error_dialog_delays.general)},s),e[l]=c(n),void 0)},e.full_schedule_error_dialog_text="Default Dialog Text",e.checkIfShouldDisableFullScheduleErrorDialog=function(t){var n=!1;return(e.full_schedule_error_dialog_hide_in_progress||t["error-dialog-faded-in"]||!e.show_map_overlay_module||!e.show_full_schedule_module)&&(n=!0),n},e.selectFullScheduleErrorMessage=function(e){var t="";return e||(t=S.full_schedule.no_error_data,console.log("Full Schedule error: problem communicating with server.")),t},e.full_schedule_error_dialog_hide_in_progress=!1,e.alertUserToFullScheduleErrors=function(t){var n=e.full_schedule_error_dialog_styles,r=e.checkIfShouldDisableFullScheduleErrorDialog,i="full_schedule_error_dialog_timeout",a="full_schedule_error_dialog_hide_in_progress",o=3e3,s="full_schedule_error_dialog_text",l=e.selectFullScheduleErrorMessage;e.alertUserToMainModuleError(t,n,r,i,a,o,s,l)},e.nearest_stops_map_error_dialog_text="Default Dialog Text",e.selectNearestStopsMapErrorMessage=function(e){var t;return e?"out_of_bounds"===e&&(t=S.nearest_stops_map.out_of_bounds,console.log("Nearest Stops Map error: Out of Bounds.")):(t=S.nearest_stops_map.no_error_data,console.log("Nearest Stops Map error: problem communicating with server")),t},e.alertUserToNearestStopsMapErrors=function(t){var n=e.nearest_stops_map_error_dialog_styles,r=e.checkIfShouldDisableNearestStopsMapErrorDialog,i="nearest_stops_map_error_dialog_timeout",a="nearest_stops_map_error_dialog_hide_in_progress",o=3e3,s="nearest_stops_map_error_dialog_text",l=e.selectNearestStopsMapErrorMessage;e.alertUserToMainModuleError(t,n,r,i,a,o,s,l)},e.schedule_map_error_dialog_text="Default Dialog Text",e.selectScheduleMapErrorMessage=function(e){var t="";return e?"stop_seeker"===e?(t=S.schedule_map.stop_seeker,console.log("Schedule Map error: Stop Seeker.")):"main_schedule"===e&&(t=S.schedule_map.main_schedule,console.log("Schedule Map error: Main Schedule.")):(t=S.schedule_map.no_error_data,console.log("Schedule Map error: problem communicating with server")),t},e.nearest_stops_map_error_dialog_hide_in_progress=!1,e.checkIfShouldDisableNearestStopsMapErrorDialog=function(t){var n=!1;return(e.full_schedule_error_dialog_hide_in_progress||t["error-dialog-faded-in"]||!e.show_map_overlay_module)&&(n=!0),n},e.checkIfShouldDisableScheduleMapErrorDialog=function(t){var n=!1;return(e.full_schedule_error_dialog_hide_in_progress||t["error-dialog-faded-in"]||!e.show_map_overlay_module||e.show_full_schedule_module)&&(n=!0),n},e.schedule_map_error_dialog_hide_in_progress=!1,e.alertUserToScheduleMapErrors=function(t){var n=e.schedule_map_error_dialog_styles,r=e.checkIfShouldDisableScheduleMapErrorDialog,i="schedule_map_error_dialog_timeout",a="schedule_map_error_dialog_hide_in_progress",o=3e3,s="schedule_map_error_dialog_text",l=e.selectScheduleMapErrorMessage;e.alertUserToMainModuleError(t,n,r,i,a,o,s,l)},e.full_schedule_error_dialog_text="Default Dialog Text",e.full_schedule_error_dialog_hide_in_progress=!1,e.SCHEDULE_MAP_ERROR_STOP_SEEKER=S.schedule_map.stop_seeker,e.SCHEDULE_MAP_ERROR_MAIN_SCHEDULE=S.schedule_map.main_schedule,e.full_schedule_error_dialog_hide_in_progress=!1,e.activateScheduleMapStopNavigation=function(){e.schedule_map_navigation_bar_same_stop_open=!0,e.show_schedule_map_navigation_bar_loading=!0,e.show_schedule_map_stop_navigation_bar_contents=!1,e.current_schedule_map_navigation_bar_activation_message=e.schedule_map_navigation_bar_activation_messages.activating;var t=e.initial_schedule_map_data.route_id;u.getOrderedStopListForCurrentRoute(t).then(function(t){return e.schedule_map_navigation_bar_same_stop_open?(e.schedule_map_navigation_bar_same_stop_open=!1,myride.dom_q.map.overlays.ordered_stop_list=t,e.returnToInitialBusStop(),e.show_schedule_map_navigation_bar_activation_button=!1,e.show_schedule_map_navigation_bar_loading=!1,e.show_schedule_map_stop_navigation_bar_contents=!0,void 0):!0})["catch"](function(){e.alertUserToScheduleMapErrors("stop_seeker"),e.current_schedule_map_navigation_bar_activation_message=e.schedule_map_navigation_bar_activation_messages.inactive,e.show_schedule_map_navigation_bar_loading=!1})},e.cycleMarkerInfoWindows=D.cycleMarkerInfoWindows,e.openMarkerInfoWindow=function(e){var t,n=y[e];"planner"===e?t="trip_points":"schedule"===e&&(t="points",n=myride.dom_q.map.overlays.ordered_stop_list[n]);var r=myride.dom_q.map.overlays[t][n];myride.dom_q.map.overlays[t][n].info.clicked=!0,"schedule"===e?google.maps.event.addListenerOnce(myride.dom_q.map.inst,"idle",function(){r.info_opener.open()}):r.info_opener.open();var i=r.marker.getPosition();myride.dom_q.map.inst.setCenter({lat:i.lat(),lng:i.lng()})},e.checkIfScheduleMapNavigatorLoaded=function(){return myride.dom_q.map.overlays.ordered_stop_list[0]?void 0:(console.log("Schedule stop navigator not yet loaded."),!1)},e.goToAdjacentInfoWindow=function(t,n){if("schedule"===t&&!e.checkIfScheduleMapNavigatorLoaded)return!1;if("next"===n)y[t]++;else{if("prev"!==n)return console.log("goToAdjacentInfoWindow: Unrecognized direction: "+n),!1;y[t]--}y[t]=e.cycleMarkerInfoWindows(t),e.openMarkerInfoWindow(t),"schedule"===t&&myride.dom_q.map.inst.setZoom(l.near_zoom)},e.goToMarkerInfoWindow=function(t,n,r){switch(n){case"next":case"prev":e.goToAdjacentInfoWindow(t,n);break;case"planner_step":y.planner=r,e.openMarkerInfoWindow(t)}},e.switchRoutes=function(n,r){y.schedule_named=r,e.schedule_map_navigation_bar_same_stop_open=!1,e.resetScheduleMapNavigationBar(),e.show_schedule_map_stop_navigation_bar=!0,u.createDummyInfoWindow("points",!1),t.cancel(e.schedule_update_timer),e.populateScheduleMapTimes(n,r);var i=e.populateScheduleMap(n,r);i.then(function(){myride.dom_q.map.overlays.points[r].info.clicked=!0,myride.dom_q.map.overlays.points[r].info_opener.open()})},e.displayResultsIfExist=function(){e.results_exist.main?(e.show_empty_result_message_no_results=!1,e.show_schedule_results_result_panels=!0):(e.show_empty_result_message_no_results=!0,e.show_schedule_results_result_panels=!1)},e.getIconPath=f.getIconPath,e.setLocationSpinnerAnimation=function(t,n){switch(n){case"active":e[_[t].spinning_icon]=!0,e[_[t].regular_icon]=!1;break;case"inactive":e[_[t].spinning_icon]=!1,e[_[t].regular_icon]=!0}},e.addAndRecordFavoriteRouteStop=$.addAndRecordFavoriteRouteStop,e.deleteAndRecordFavoriteRouteStop=$.deleteAndRecordFavoriteRouteStop,e.addRouteStopToTripPlanner=function(t){var r=n.dict[t].LatLng,i="";i+=r.Latitude+",",i+=r.Longitude,e.trip_inputs.start=i},function(){for(var t=0;I.length>t;t++){var n=I[t].title;e.schedule[n]=e.full_schedule_loading_placeholder}}(),e.showAllRoutes=function(t){e.query_data.schedule_search="all routes","index"===t?e.changeURLHash("routeschedules","schedule_search"):"schedule_search"===t&&(myride.dom_q.inputs.elements.rs_search_input.value=e.query_data.schedule_search)},e.clearSearch=function(t){e.query_data[t]="",myride.dom_q.inputs.elements.rs_search_input&&(myride.dom_q.inputs.elements.rs_search_input.value="")},e.mini_schedule_loading_template=h.makeMiniScheduleLoadingTemplate(),e.mini_schedule_loading_error_template=h.makeMiniScheduleLoadingTemplate(!0),e.schedule.nearest.times_and_diffs=e.mini_schedule_loading_template,e.updateAndPushSchedule=function(n){var r=c.transformSchedule(n.raw);e.schedule.nearest=r.nearest;var i=(new Date).toTimeString().slice(0,5);e.schedule.nearest.times_and_diffs=f.calculateAndFormatTimeDifferences(r.nearest.all,i),e.schedule_update_timer=t(function(){e.updateAndPushSchedule(r)},p.schedule_map.mini_schedule_update_interval_time)},e.populateScheduleMap=function(t,r){e.map_schedule_info.route=t,e.map_schedule_info.stop=r,e.initial_schedule_map_data.route_id=t,e.initial_schedule_map_data.bstop_id=r;var i={lat:n.dict[r].LatLng.Latitude,lng:n.dict[r].LatLng.Longitude};return e.initial_schedule_map_data.coords=i,u.clearMap(),e.cur_route_path=u.displayRoute(t),u.displayStopsForRoute(t),u.setMapPosition(i)},e.populateScheduleMapTimes=function(t,n){e.schedule.nearest.times_and_diffs=e.mini_schedule_loading_template,c.downloadSchedule(t,n).then(function(t){if(!t.data.Today||1>t.data.Today.length)return console.log("Schedule loading error."),e.alertUserToScheduleMapErrors("main_schedule"),e.schedule.nearest.times_and_diffs=e.mini_schedule_loading_error_template,e.show_schedule_map_mini_schedule_no_data=!0,!1;e.show_schedule_map_mini_schedule_no_data=!1;var n=c.transformSchedule(t.data.Today);e.updateAndPushSchedule(n)})},e.toggleShowsAndClasses=function(t){var n=O[t].base.ng_show,r=O[t].base.ng_class;O[t][e.current_location]&&(n=n.concat(O[t][e.current_location].ng_show),r=r.concat(O[t][e.current_location].ng_class));for(var i=0;n.length>i;i++)e[n[i]]=!e[n[i]];for(var a=0;r.length>a;a++)e[r[a].class_obj][r[a].class_label]=!e[r[a].class_obj][r[a].class_label]},e.openScheduleMap=function(t,n){e.safelyCloseOtherMapModules("schedule_map"),R.saveRecentlyViewedItem("schedule_map",{route:t,stop:n}),y.schedule_named=n,e.show_map_overlay_module=!0,e.toggleShowsAndClasses("schedule_map"),e.show_schedule_map_stop_navigation_bar=!0,e.populateScheduleMapTimes(t,n),e.populateScheduleMap(t,n).then(function(){google.maps.event.addListenerOnce(myride.dom_q.map.inst,"idle",function(){myride.dom_q.map.overlays.points[n].info.clicked=!0,myride.dom_q.map.overlays.points[n].info_opener.open()})}),e.map_full_screen_return_button_message=e.map_full_screen_return_button_messages.schedule},e.openTripPlannerMap=function(){e.safelyCloseOtherMapModules("trip_planner"),e.show_map_overlay_module=!0,u.setMapPosition(null,10),e.map_full_screen_return_button_message=e.map_full_screen_return_button_messages.planner,e.toggleShowsAndClasses("trip_planner")},e.goToMyRideSchedule=function(t,n){e.safelyCloseOtherMapModules(),window.location=D.addRouteAndStopParamsToUrl(t,n),e.goToScheduleWithURLEncodedData()},e.safelyCloseOtherMapModules=function(t){e.trip_planner_is_open&&"trip_planner"!==t?e.closeTripPlannerMap():e.schedule_map_is_open&&"schedule_map"!==t?e.closeScheduleMap():e.nearest_map_stops_is_open&&"nearest_map_stops"!==t&&e.closeNearestMapStops(),e.full_schedule_is_open&&e.closeFullSchedule(t)},e.openNearestMapStops=function(){e.safelyCloseOtherMapModules("nearest_map_stops"),e.show_map_overlay_module=!0,e.toggleShowsAndClasses("nearest_map_stops"),e.show_map_full_screen_button=!1,u.setMapPosition(null,10),myride.dom_q.map.overlays.nearest_map_draggable.default={}},e.closeScheduleMap=function(){u.createDummyInfoWindow("points"),e.toggleShowsAndClasses("schedule_map"),e.show_schedule_map_stop_navigation_bar=!1,e.show_schedule_result_top_bar=!1,e.show_map_overlay_module=!1,e.show_route_alert_overlay=!1,e.resetScheduleMapNavigationBar(),t.cancel(e.schedule_update_timer),e.schedule_map_navigation_bar_same_stop_open=!1,e.show_route_alert_overlay=!1},e.closeTripPlannerMap=function(){e.show_trip_planner_step_navigation_bar=!1,e.show_map_overlay_module=!1,e.toggleShowsAndClasses("trip_planner"),u.createDummyInfoWindow("trip_points"),e.show_trip_planner_itinerary_selector=!1,e.show_schedule_map_loading_modal=!1},e.closeNearestMapStops=function(){e.toggleShowsAndClasses("nearest_map_stops"),e.show_map_overlay_module=!1,e.show_map_full_screen_button=!0},e.toggleOverlayModule=function(t,n,r){e.show_map_overlay_module?"planner"===t?e.closeTripPlannerMap():"schedule"===t?e.closeScheduleMap():"nearest"===t&&e.closeNearestMapStops():"planner"===t?e.openTripPlannerMap():"schedule"===t?e.openScheduleMap(n,r):"nearest"===t&&e.openNearestMapStops()},e.resetCenter=function(){var t={};t=e.initial_schedule_map_data.coords,myride.dom_q.map.inst.setZoom(l.near_zoom),myride.dom_q.map.inst.setCenter(t)},e.openFullSchedule=function(){e.full_schedule_is_open=!0,e.show_schedule_map_error_dialog=!1,t.cancel(e.schedule_map_error_dialog_timeout),e.full_schedule_date.datepick=new Date,e.toggleShowsAndClasses("full_schedule"),e.show_schedule_map_stop_navigation_bar=!1},e.closeFullSchedule=function(t){e.full_schedule_is_open=!1,u.touchMap(),e.toggleShowsAndClasses("full_schedule"),"trip_planner"!==t&&(e.show_schedule_map_stop_navigation_bar=!0)},e.clearFilters=function(){e.bstopFilter.f="",e.routeFilter.f="",e.landmarkBstopFilter.f=""},e.getCurrentLocationAndDisplayData=m.getCurrentLocationAndDisplayData,e.setAccordionPlusMinusIcons=function(t,n,r){D.setAccordionPlusMinusIcons(t,n,r),e.clearFilters()};var q;(function(){q=d.all([$.downloadUserFavorites().then(function(e){x.favorites=null===e.data?[]:e.data})["catch"](function(){console.log("There was an error retrieving the favorites data.")}),T.downloadLandmarkInfo().then(function(e){a.orig=e.data})["catch"](function(){console.log("There was an error retrieving the landmark data.")}),c.downloadRouteInfo().then(function(e){r.list=e.data})["catch"](function(){console.log("There was an error retrieving the route data.")}),c.downloadStopInfo().then(function(e){n.list=e.data})["catch"](function(){console.log("There was an error retrieving the stop data.")})])})(),e.goToScheduleWithURLEncodedData=function(){var t=""+window.location,n=t.match("\\?.*");if(!n)return!0;for(var r=n[0].slice(1).split("&"),i=0;r.length>i;i++)if(r[i].match("route"))var a=r[i].slice(6);else if(r[i].match("stop"))var o=r[i].slice(5);e.toggleOverlayModule("schedule",a,o),window.location=(""+window.location).replace(n[0],"")},q.then(function(){L.linkRouteAndStopReferences(),e.stops=n.dict,e.routes=r.dict,e.show_main_loading_modal=!1,e.top_scope.index_controller_loaded_deferred.promise.then(e.goToScheduleWithURLEncodedData)}),e.swapTripInputs=function(){var t=e.trip_inputs.start.slice(),n=e.trip_inputs.finish.slice();e.trip_inputs.start=n,e.trip_inputs.finish=t},e.agency_filter_icons=g,e.enableAgencyFilter=function(t){var n="";n="agency-filter-icon-selected"===e.agency_filter_icons[t].selection_class?"":"agency-filter-icon-selected",e.agency_filter_icons[t].selection_class=n},e.changeURLHash=function(t,n){if(n){var r=e.query_data[n];if(!r||""===r.trim())return""!==r&&(e.query_data[n]=""),!0}window.location.hash="/"+t},e.submitSpecifiedTrip=function(t,n){e.trip_inputs.start=t,e.trip_inputs.finish=n,e.trip_scope.submitTripPlannerQuery()},F.passTopScopePropRefsToGenUtils({compileTemplateWithTopScope:e.compileTemplateWithTopScope,showInfoWindowSchedule:e.showInfoWindowSchedule,changeGlobalAlertsBarHighlighting:e.changeGlobalAlertsBarHighlighting}),e.global_alerts_ready_deferred=d.defer(),e.global_alerts_ready_deferred.promise.then(function(){e.goToGlobalAlertMessage("forward")}),function(){function t(){return!0}function n(){return!0}function r(){return!0}function i(){return e.submitRouteStopSearch("enter","index"),e.changeURLHash("routeschedules","schedule_search"),!0}function a(){return e.submitRouteStopSearch("enter","results"),!0}function o(){return!0}function s(){return e.trip_scope.submitTripPlannerQuery(),e.$apply(),!0}function l(){return e.trip_scope.submitTripPlannerQuery(),e.$apply(),!0}function c(e){var t=!1,n=e.target.getAttribute("id"),r=window.myride.dom_q.inputs.input_labels;for(var i in r)if(i===n){t=!0;try{r[i]()}catch(a){console.error(a)}}return t}function u(e){return 13===e.keyCode&&c(e)?!1:void 0}window.myride.dom_q.inputs.input_labels={"recent-stop-filter":t,"recent-trip-filter":n,"sub-bus-stop-filter":r,"landmark-sub-bus-stop-filter":r,"sub-route-filter":o,"route-stop-search-input":a,"route-stop-search-index-input":i,"trip-planner-start":s,"trip-planner-finish":l},document.onkeypress=u}()}]).config(["$routeProvider",function(e){var t=window.myride.directories.site_roots.active,n=window.myride.directories.paths.active;e.when("/routeschedules",{templateUrl:t+n+"partials/route_schedules.html",controller:"routeSchedulesController"}).when("/bctappindex",{templateUrl:t+n+"partials/bct_app_index.html",controller:"indexController"}).when("/nearestmapstops",{templateUrl:t+n+"partials/nearest_map_stops.html",controller:"nearestMapStopsController"})}]);var BCTAppControllers=angular.module("BCTAppControllers",[]);BCTAppControllers.controller("routeSchedulesController",["$scope","$timeout","$q",function(e,t){window.rs_scope=e,e.top_scope.stop_result_panel_top_container_class_name="schedule-results-main-container",e.loaded_results={routes:[],stops:[]},e.sort_bstops_by_distance=!1,e.sortResultStopsByDistance=function(){e.top_scope.sort_bstops_by_distance=!0,e.top_scope.filtered_stops_arr=e.stopFilterFunc(e.query_data.schedule_search,e.top_scope.sort_bstops_by_distance)},e.setNearestResultStopsLocationSpinner=function(t){e.setLocationSpinnerAnimation("nearest_results_bstops",t)},e.$on("$destroy",function(){e.setLocationSpinnerAnimation("nearest_results_bstops","inactive"),t.cancel(e.results_page_location_spinner_timeout)}),e.getLocationAndDisplayForResultsPage=function(){e.results_page_location_spinner_timeout=e.getCurrentLocationAndDisplayData(e.setNearestResultStopsLocationSpinner,e.sortResultStopsByDistance)}}]),BCTAppControllers.controller("indexController",["$scope","$timeout","nearestStopsService","recently_viewed_items","$q",function(e,t,n,r,i){window.index_scope=e,e.nearest_bstops=e.nearest_bstops_loading,e.top_scope.stop_result_panel_top_container_class_name="index-main-container",e.calculateAndShowNearestBusStops=function(t){e.nearest_bstops=n.findNearestStops(t),e.show_index_nearest_stops_panels=!0},e.setNearestStopsLocationSpinner=function(t){e.setLocationSpinnerAnimation("nearest_bstops",t)},e.top_scope.index_controller_loaded_deferred=i.defer(),e.$on("$viewContentLoaded",function(){e.top_scope.index_controller_loaded_deferred.resolve()}),e.$on("$destroy",function(){e.setLocationSpinnerAnimation("nearest_bstops","inactive"),t.cancel(e.nearest_stops_location_timeout)}),e.getLocationAndDisplayNearestStops=function(){e.nearest_stops_location_timeout=e.getCurrentLocationAndDisplayData(e.setNearestStopsLocationSpinner,e.calculateAndShowNearestBusStops)},e.top_scope.recently_viewed_items=r}]),BCTAppControllers.controller("tripPlannerController",["$scope","googleMapsUtilities","$timeout","tripPlannerService","warning_messages","recentlyViewedService","locationService","timer_constants",function(e,t,n,r,i,a,o,s){window.trip_scope=e,e.top_scope.trip_scope=e,e.geocoder_error_dialog_text="Default dialog text",e.top_scope.trip_opts={optimize:"QUICK",modeswitch:{bus:!0,train:!0,bike:!1,com_bus:!0},datetarg:"depart_by",datepick:new Date},e.updateTripPlannerTime=function(){n(function(){e.top_scope.trip_date_changed.value||(e.trip_opts.datepick=new Date,e.updateTripPlannerTime())},s.trip_planner.update_request_time)},e.updateTripPlannerTime(),e.setPlannerLocationSpinner=function(t){e.setLocationSpinnerAnimation("trip_planner",t)},e.displayPlannerLocationData=function(t){var n=t.LatLng.Latitude,r=t.LatLng.Longitude;e.trip_inputs.start=n+","+r},e.getLocationAndAddToPlannerStart=function(){e.getCurrentLocationAndDisplayData(e.setPlannerLocationSpinner,e.displayPlannerLocationData)},e.planner_error_alert_dialog_hide_in_progress=!1,e.selectTripPlannerErrorMessage=function(e){var t="";return!e||e.idField?(t=i.trip_planner.no_error_data,console.log("Trip planner error: problem communicating with server.")):"plan_start_late"===e?(t=i.trip_planner.departure_time_passed,console.log("Trip planner error: plan start time already passed")):"all_trips_filtered_out"===e&&(t=i.trip_planner.all_trips_filtered_out,console.log("Trip planner error: no practical trips found.")),t},e.alertUserToTripPlannerErrors=function(t){myride.dom_q.inputs.trip[0].focus();var r=e.top_scope.planner_dialog_styles;return e.planner_error_alert_dialog_hide_in_progress||r["error-dialog-faded-in"]?!1:(r["error-dialog-centered"]=!0,r["trip-planner-dialog-centered"]=!0,r["trip-planner-dialog-finish"]=!1,r["trip-planner-dialog-start"]=!1,r["error-dialog-behind"]=!1,r["error-dialog-faded-out"]=!1,r["error-dialog-faded-in"]=!0,e.geocoder_error_dialog_timeout=n(function(){r["error-dialog-faded-in"]=!1,r["error-dialog-faded-out"]=!0,e.planner_error_alert_dialog_hide_in_progress=!0,n(function(){e.planner_error_alert_dialog_hide_in_progress=!1,r["error-dialog-behind"]=!0},s.error_dialog_delays.general.full_hide)},s.error_dialog_delays.general.main),e.geocoder_error_dialog_text=e.selectTripPlannerErrorMessage(t),void 0)},e.displayFromAndToFieldGeocoderErrors=function(t){var n=e.top_scope.planner_dialog_styles;switch(n["error-dialog-centered"]=!1,n["trip-planner-dialog-centered"]=!1,t){case"start":n["trip-planner-dialog-finish"]=!1,n["trip-planner-dialog-start"]=!0,myride.dom_q.inputs.trip[0].focus();break;case"finish":n["trip-planner-dialog-start"]=!1,n["trip-planner-dialog-finish"]=!0,myride.dom_q.inputs.trip[1].focus()}},e.alertUserToGeocoderErrors=function(t,r){e.top_scope.show_trip_planner_itinerary_selector=!1;var a=e.top_scope.planner_dialog_styles;switch(r){case"ZERO_RESULTS":e.geocoder_error_dialog_text=i.geocoder.not_found,e.displayFromAndToFieldGeocoderErrors(t);break;case"out_of_bounds":e.geocoder_error_dialog_text=i.geocoder.out_of_bounds,e.displayFromAndToFieldGeocoderErrors(t);break;case"OVER_QUERY_LIMIT":e.geocoder_error_dialog_text=i.geocoder.over_request_limit,a["error-dialog-centered"]=!0,a["trip-planner-dialog-finish"]=!1,a["trip-planner-dialog-start"]=!1}a["error-dialog-behind"]=!1,a["error-dialog-faded-out"]=!1,a["error-dialog-faded-in"]=!0,n.cancel(e.geocoder_error_dialog_timeout),e.geocoder_error_dialog_timeout=n(function(){a["error-dialog-faded-in"]=!1,a["error-dialog-faded-out"]=!0,n(function(){a["error-dialog-behind"]=!0},s.error_dialog_delays.general.full_hide)},s.error_dialog_delays.general.main)},e.checkForGeocoderErrors=function(t){if("string"==typeof t[0])return e.alertUserToGeocoderErrors("start",t[0]),!1;if("string"==typeof t[1])return e.alertUserToGeocoderErrors("finish",t[1]),!1;for(var n={},r=["start","stop"],i=0;t.length>i;i++){var a=t[i].Latitude||t[i][0].geometry.location.lat(),s=t[i].Longitude||t[i][0].geometry.location.lng();if(n.LatLng={Latitude:a,Longitude:s},!o.checkIfLocationWithinBounds(n))return e.alertUserToGeocoderErrors(r[i],"out_of_bounds"),!1}return!0},window.myride.dom_q.inputs.trip=document.getElementsByClassName("planner-input"),e.showMapLoading=function(){e.top_scope.show_schedule_map_loading_modal=!0,e.top_scope.show_trip_planner_options=!1,e.top_scope.show_trip_planner_itinerary_selector=!1;for(var t=0;myride.dom_q.inputs.trip.length>t;t++)myride.dom_q.inputs.trip[t].blur()},e.handleTripPlanTimePastDepartureTimes=function(t){for(var n=t.data.planField.itinerariesField,r=0,i=0;n.length>i;i++){var a=!0;a=n[i].times_valid=e.checkValidityOfTripPlanTimes(n[i]),r+=a}var o=!0;return 1>r&&(o=!1),o},e.checkValidityOfTripPlanTimes=function(e){var t=new Date,n=Number(t.toDateString().slice(8,10)),r=t.toTimeString().slice(0,5),i=e.startTimeField,a=Number(i.slice(8,10)),o=i.split("T")[1].match(/[0-9][0-9]:[0-9][0-9]/)[0],s=!1;if(a>n)s=!0,e.start_date=i.slice(0,10);else{var l=Number(r.replace(/:/,"")),c=Number(o.replace(/:/,""));s=c>=l}var u=e.endTimeField,d=Number(u.slice(8,10));return d>n&&(e.end_date=u.slice(0,10)),s},e.setTripPlannerStepIconContainerSizeClass=function(t,n){var r;switch(t){case 0:r=e.trip_planner_itinerary_step_container_size_0;break;case 1:r=e.trip_planner_itinerary_step_container_size_1;break;case 2:r=e.trip_planner_itinerary_step_container_size_2}for(var i=0;n.length>i;i++)for(var a in r)r[a]=!1;var o=n[t].legsField.length,s="";6>=o?s="trip-planner-itinerary-step-container-le-6":8>=o?s="trip-planner-itinerary-step-container-le-8":o>8&&(s="trip-planner-itinerary-step-container-le-10"),r[s]=!0},e.getTripPlan=function(){e.showMapLoading(),r.getLatLon(e.top_scope.trip_inputs.start,e.top_scope.trip_inputs.finish).then(function(t){if(!e.checkForGeocoderErrors(t))return e.top_scope.show_schedule_map_loading_modal=!1,!1;var n=t[0],i=t[1];n[0]&&(n=r.transformGeocodeCoords(n[0].geometry.location)),i[0]&&(i=r.transformGeocodeCoords(i[0].geometry.location)),r.getTripPlanPromise(e.trip_opts,n,i).then(function(t){if(e.top_scope.show_schedule_map_loading_modal=!1,t.data.planField?e.handleTripPlanTimePastDepartureTimes(t)||e.alertUserToTripPlannerErrors("plan_start_late"):e.alertUserToTripPlannerErrors(t.data.errorField),a.saveRecentlyViewedItem("trip_planner",{start:e.top_scope.trip_inputs.start,finish:e.top_scope.trip_inputs.finish}),e.trip_planner_is_open){var n=t.data.planField.itinerariesField.length;e.top_scope.show_trip_planner_itinerary_selector=!0;for(var i=0;n>i;i++)e.setTripPlannerStepIconContainerSizeClass(i,t.data.planField.itinerariesField)}return e.top_scope.current_trip_plan_data=r.formatRawTripStats(t.data.planField.itinerariesField),e.top_scope.current_trip_plan_data=r.filterTripItineraries(e.top_scope.current_trip_plan_data),0===e.top_scope.current_trip_plan_data.length?(e.alertUserToTripPlannerErrors("all_trips_filtered_out"),!0):(r.addAlternateRouteIds(e.top_scope.current_trip_plan_data),e.top_scope.show_trip_planner_itinerary_labels=!0,void 0)})["catch"](function(){console.log("There was an error retrieving the trip plan data."),e.alertUserToTripPlannerErrors(),e.top_scope.show_schedule_map_loading_modal=!1})})["catch"](function(){console.log("There was an error retrieving trip planner coordinate data. Consult additional console output for Geocoder error messages."),e.top_scope.show_schedule_map_loading_modal=!1})},e.displayTripPlan=function(n){t.displayTripPath(e.current_trip_plan_data[n].legsField),e.top_scope.show_trip_planner_itinerary_selector=!1,e.goToFirstStep("planner");var r=e.top_scope.current_trip_plan_data_selection=e.current_trip_plan_data[n];e.top_scope.current_trip_plan_summary={first_LatLng:{lat:r.legsField[0].fromField.latField,lng:r.legsField[0].fromField.lonField},zoom:myride.dom_q.map.inst.getZoom()},e.top_scope.show_trip_planner_step_navigation_bar=!0},e.toggleTripOptions=function(){e.top_scope.show_trip_planner_options=e.top_scope.show_trip_planner_options?!1:!0},e.tripPlannerInputsEmpty=function(){return""===e.trip_inputs.start||""===e.trip_inputs.finish?!1:!0},e.submitTripPlannerQuery=function(){return e.tripPlannerInputsEmpty()?(e.trip_planner_is_open||e.top_scope.openTripPlannerMap(),e.top_scope.show_trip_planner_step_navigation_bar=!1,t.clearMap(),e.getTripPlan(),e.top_scope.show_trip_planner_title=!0,e.top_scope.show_schedule_result_top_bar=!1,e.top_scope.show_nearest_map_stops_info_container=!1,void 0):!0}}]),BCTAppControllers.controller("nearestMapStopsController",["$scope","$timeout","googleMapsUtilities","selected_nearest_map_stop","nearestMapStopsService","nearest_map_stop_distances","nearest_map_stops_instructions","locationService",function(e,t,n,r,i,a,o,s){window.nms_scope=e,n.clearMap(),e.top_scope.show_schedule_result_top_bar=!1,e.top_scope.show_schedule_map_stop_navigation_bar=!1,e.toggleOverlayModule("nearest"),e.top_scope.show_trip_planner_title=!1,e.top_scope.show_nearest_map_stops_info_container=!0,e.top_scope.nearest_map_stops_instructions=o,o.selected=o.default,e.top_scope.nearestMapDragendDisplayStops=function(e,t){for(var n={LatLng:{Latitude:e,Longitude:t}},r=i.showNearestStopsFromMapCoords(n),o={},s=0;r.length>s;s++){var l=r[s].Id,c=r[s].distance;o[l]=c}a.dists=o};var l,c=function(t){var n=t.latLng.lat(),r=t.latLng.lng(),i=s.checkIfLocationWithinBounds({LatLng:{Latitude:n,Longitude:r}});if(!i)return e.alertUserToNearestStopsMapErrors("out_of_bounds"),u=google.maps.event.addListenerOnce(myride.dom_q.map.inst,"click",c),!0;e.top_scope.nearestMapDragendDisplayStops(n,r),o.selected=o.clicked;var a=myride.dom_q.map.overlays.nearest_map_draggable.default.marker=new google.maps.Marker({map:myride.dom_q.map.inst,position:t.latLng,draggable:!0});l=google.maps.event.addListener(a,"dragend",function(){var t=this.getPosition().lat(),n=this.getPosition().lng();e.top_scope.nearestMapDragendDisplayStops(t,n)})},u=google.maps.event.addListenerOnce(myride.dom_q.map.inst,"click",c);e.$on("$destroy",function(){t.cancel(e.top_scope.nearest_stops_map_error_dialog_timeout),l&&google.maps.event.removeListener(l),google.maps.event.removeListener(u)})}]);var BCTAppServices=angular.module("BCTAppServices",[]);BCTAppServices.service("miniScheduleService",[function(){var e=this;this.convertToTime=function(e){var t,n="";if("string"==typeof e){var r=e.split(";");t=r[0].split(""),n=r[1]?";"+r[1]:""}else"number"==typeof e&&(t=(e+"").split(""));return t.splice(-2,0,":"),t.join("")+n},this.mini_schedule_quantity_defaults={before_times:1,after_times:3},this.mini_schedule_quantity_defaults.total_times=this.mini_schedule_quantity_defaults.before_times+this.mini_schedule_quantity_defaults.after_times,this.makeMiniScheduleLoadingTemplate=function(t){var n=[];if(t)var r={time:"",diff:"",time_12H:""};else var r={time:"Loading...",diff:"",time_12H:"Loading..."};for(var i=0;e.mini_schedule_quantity_defaults.total_times>i;i++)n.push(r);return n},this.findPrevNearestTimes=function(e,t,n,r){for(var i=!1,a=0,o=t.length-1,s=n-a-1;r>e.prev_times.length;)a=0,s>-1&&t[s]?(e.prev_times.push(""+t[s]),s--):(i||(t.splice(n,1),i=!0,o--),e.prev_times.push(""+t[o]+";prev"),o--)},this.findNextNearestTimes=function(e,t,n,r){for(var i=!1,a=0,o=0,s=n+a+1;r>e.next_times.length;)a=0,t[s]?(e.next_times.push(""+t[s]),s++):(i||(t.splice(n,1),i=!0),e.next_times.push(""+t[o]+";next"),o++)
},this.getNearestTimes=function(t,n,r,i){r===void 0&&(r=e.mini_schedule_quantity_defaults.before_times),i===void 0&&(i=e.mini_schedule_quantity_defaults.after_times);var a=n.map(function(e){return Number(e.replace(/:/,""))}),o=Number(t.replace(/:/,"")),s={prev_times:[],next_times:[]};a.push(o),a.sort(function(e,t){return e-t});var l=a.indexOf(o);return e.findPrevNearestTimes(s,a,l,r),e.findNextNearestTimes(s,a,l,i),s.prev_times=s.prev_times.map(e.convertToTime),s.next_times=s.next_times.map(e.convertToTime),s}}]),BCTAppServices.service("locationService",["$timeout","latest_location","default_demo_coords","target_area_bounds","timer_constants",function(e,t,n,r,i){var a=this;this.getDefaultDemoCoords=function(e){var t={};return t[e[0]]=n.LatLng.Latitude,t[e[1]]=n.LatLng.Longitude,t},this.updateLatestLocation=function(e){var n=e.coords.latitude,r=e.coords.longitude,i=e.timestamp;t.timestamp=i,t.LatLng={Latitude:n,Longitude:r}},this.getCurrentLocationAndDisplayData=function(n,r){var o=new Date,s=o-t.timestamp;if(i.location_service.recalculate_location>s)return r(t),!0;n("active"),navigator.geolocation.getCurrentPosition(function(e){var s=new Date;i.location_service.request_ignored>s-o&&(a.updateLatestLocation(e),r(t),n("inactive"))},function(){console.log("Location request cancelled or failed."),n("inactive")},{timeout:i.location_service.request_ignored});var l=e(function(){n("inactive")},i.location_service.request_ignored);return l},this.checkIfLocationWithinBounds=function(e){var t=r,n=e.LatLng.Latitude,i=e.LatLng.Longitude,a=n>=t.lat.min&&t.lat.max>=n,o=i>=t.lng.min&&t.lng.max>=i,s=a&&o;return s},this.changeToDefaultLocationIfOutsideOfFlorida=function(e){return a.checkIfLocationWithinBounds(e)||(e=a.getDefaultDemoCoords(["Latitude","Longitude"]),console.log("User outside of local region. Using demonstration coordinates.")),e}}]),BCTAppServices.service("nearestStopsService",["locationService","full_bstop_data","nearest_stops_service_constants",function(e,t,n){var r=this;this.computeLinearDistance=function(e,t){var n=e.Latitude-t.Latitude,r=e.Longitude-t.Longitude,i=Math.pow(n,2)+Math.pow(r,2),a=Math.pow(i,.5);return a},this.labelDistancesAndConvertFromDegrees=function(e){var t="yards",n=e,r="",i=111111*n,a=1.09361*i;if(a>=10){var o=10*(a/10).toFixed(0);r=o+" "+t}else r="within 10 yards";return r},this.sortStopsByDistance=function(e,t,n){for(var i=0;t.length>i;i++){var a=e.LatLng||e,o=r.computeLinearDistance(a,t[i].LatLng);t[i].distance=o}if(t.sort(function(e,t){return e.distance-t.distance}),!n)for(var i=0;t.length>i;i++);return t},this.findNearestStops=function(i,a,o){o||(i=e.changeToDefaultLocationIfOutsideOfFlorida(i));var s,l=r.sortStopsByDistance(i,t.list,!0),c=l.filter(function(e){return e.distance<n.max_dist});s=a?c:c.slice(0,n.max_reported_stops);for(var u=0;s.length>u;u++)s[u].distance=r.labelDistancesAndConvertFromDegrees(s[u].distance),s[u].show_dist=!0;return s}}]),BCTAppServices.service("landmarkInfoService",["$http","$q","generalServiceUtilities",function(e,t,n){this.downloadLandmarkInfo=function(){if(localStorage.landmark_data){var r=t.defer(),i=r.promise,a={data:JSON.parse(localStorage.landmark_data)};return r.resolve(a),i}return e({method:"POST",url:"http://174.94.153.48:7777/TransitApi/Landmarks/",data:{AgencyId:"BCT"},transformResponse:function(e){return localStorage&&localStorage.setItem("landmark_data",e),n.tryParsingResponse(e,"downloadLandmarkInfo")}})}}]),BCTAppServices.service("scheduleDownloadAndTransformation",["$http","$q","miniScheduleService","generalServiceUtilities","full_schedule_category_with_datepicker",function(e,t,n,r,i){var a=this;this.downloadRouteInfo=function(){if(localStorage.route_data){var n=t.defer(),i=n.promise,a={data:JSON.parse(localStorage.route_data)};return n.resolve(a),i}return e({method:"POST",url:"http://174.94.153.48:7777/TransitApi/Routes/",data:{AgencyId:"BCT"},transformResponse:function(e){return localStorage&&localStorage.setItem("route_data",e),r.tryParsingResponse(e,"downloadRouteInfo")}})},this.downloadStopInfo=function(){if(localStorage.stop_data){var n=t.defer(),i=n.promise,a={data:JSON.parse(localStorage.stop_data)};return n.resolve(a),i}return e({method:"POST",url:"http://174.94.153.48:7777/TransitApi/Stops/",data:{AgencyId:"BCT"},transformResponse:function(e){return localStorage&&localStorage.setItem("stop_data",e),r.tryParsingResponse(e,"downloadStopInfo")}})},this.downloadSchedule=function(t,n,i){i===void 0&&(i=new Date);var a=r.formatDateYYYYMMDD(i);return e({method:"POST",url:"http://174.94.153.48:7777/TransitApi/Schedules/",data:{AgencyId:"BCT",RouteId:t,StopId:n,Direction:"1",Date:a},transformResponse:function(e){return r.tryParsingResponse(e,"downloadSchedule")}})},this.downloadStopsForRoute=function(t){var n=new Date,i=r.formatDateYYYYMMDD(n);return e({method:"POST",url:"http://174.94.153.48:7777/TransitApi/BusStop/",data:{AgencyId:"BCT",RouteId:t,Direction:"0",Date:i},transformResponse:function(e){return r.tryParsingResponse(e,"downloadStopsForRoute")}})},this.tabularizeDepartures=function(e){for(var t={},n=24,r=0;n>r;r++){var i={hour_label:r+"",minutes:[]};10>r&&(r="0"+r),t[r+""]=i}for(var a=0;e.length>a;a++){var o=e[a].split(":"),s=o[0],l=o[1];t[s].minutes.push(l)}var c=[];for(var u in t)c.push(t[u]);return c.sort(function(e,t){return Number(e.hour_label)-Number(t.hour_label)}),c},this.extractDeparturesFromSchedule=function(e){for(var t=e.length,n=Array(t),r=0;t>r;r++)n[r]=e[r].DepartureTime;return n},this.updateDatepickerSchedule=function(e){var t=a.extractDeparturesFromSchedule(e);i[0].hours=a.tabularizeDepartures(t.slice())},this.transformSchedule=function(e){var t=(new Date).toTimeString().slice(0,5),r={},i=a.extractDeparturesFromSchedule(e);return r.nearest=n.getNearestTimes(t,i),r.nearest.all=r.nearest.prev_times.concat(r.nearest.next_times),r.raw=e,r},this.calculateTimeDifferences=function(e,t){for(var n=[],r=t,i=parseInt(r.split(":")[0]),a=parseInt(r.split(":")[1]),o=60*i+a,s=0;e.length>s;s++){var l,c=e[s].split(";")[1];l=c?e[s].split(";")[0]:e[s];var u=parseInt(l.split(":")[0]),d=parseInt(l.split(":")[1]),p=60*u+d,f=p-o;c&&("next"===c?f+=1440:"prev"===c&&(f-=1440)),n.push(f)}return n}}]),BCTAppServices.service("unitConversionAndDataReporting",["scheduleDownloadAndTransformation",function(e){var t=this;this.formatReportedDistance=function(e){var t=0,n="",r=1.0936133*e;if(r>=880){var i=r/1760;t=i.toFixed(1),n="miles"}else t=r.toFixed(0),n="yards";return{reported_distance:t,reported_distance_unit:n}},this.splitHoursMinutes=function(e){var t=" minute",n="s",r="",i="",a="s",o=", ";parseInt(e)>59?(i=parseInt(e/60)+"",e=e%60+"",r=" hour"):(a="",o=""),1===parseInt(e)&&(n=""),1===parseInt(i)&&(a="");var s=i+r+a+o+e+t+n;return s},this.formatReportedDuration=function(e){var n=(e/1e3/60).toFixed(0),r=t.splitHoursMinutes(n);return r},this.addTimeDiffMessages=function(e){for(var n=[],r=0;e.length>r;r++){var i="",a="",o="";0>e[r]?(o=t.splitHoursMinutes(-1*e[r]),a=" ago"):e[r]>0?(o=t.splitHoursMinutes(e[r]),i="in "):0===e[r]&&(i="about now");var s=i+o+a;n.push(s)}return n},this.formatReportedDate=function(e){var t=e.slice(11,16);return t},this.convertToTwelveHourTime=function(e){var t,n="AM",r=Number(e.split(":")[0]),i=e.split(":")[1];return r>=13?(n="PM",r-=12):12===r?n="PM":0===r&&(r=12),t=""+r+":"+i+" "+n},this.calculateAndFormatTimeDifferences=function(n,r){for(var i=e.calculateTimeDifferences(n,r),a=t.addTimeDiffMessages(i),o=n.map(function(e){var t=e.split(";")[0];return t}),s=[],l=0;o.length>l;l++){var c=t.convertToTwelveHourTime(o[l]),u={time:o[l],diff:a[l],time_12H:c};s.push(u)}return s}}]),BCTAppServices.service("generalServiceUtilities",[function(){var e=this;this.passTopScopePropRefsToGenUtils=function(t){e.top_level_scope_prop_refs=t},this.formatDateYYYYMMDD=function(e){var t=e.getDate()+"",n=t[1]?t:"0"+t,r=e.getFullYear()+"",i=e.getMonth()+1+"",a=i[1]?i:"0"+i,o=r+a+n;return o},this.tryParsingResponse=function(e,t){var n="There was a problem parsing the data into JSON: "+t;try{return JSON.parse(e)}catch(r){return console.log(n),!1}}}]),BCTAppServices.service("generalUIUtilities",["map_navigation_marker_indices",function(e){var t=this;this.getAccordionTopContainer=function(e,t){var n;switch(e){case"landmark":case"route":n=document.getElementsByClassName("schedule-results-main-container")[0];break;case"stop":n=document.getElementsByClassName(t)[0];break;case"recently_viewed":n=document.getElementsByClassName("index-main-container")[0];break;case"full_schedule":n=document.getElementById("full-schedule-accordion");break;default:console.log("setAccordionPlusMinusIcons: You must specify the name of the main target container."),n=!1}return n},this.setAccordionPlusMinusIcons=function(e,n,r){for(var i=t.getAccordionTopContainer(n,r),a=i.getElementsByClassName("collapse-button"),o=e.target.children[0].children[0].classList,s=e.target.parentNode.children[1].classList.contains("in"),l=0;a.length>l;l++)a[l].children[0].classList.remove("fa-minus-circle"),a[l].children[0].classList.add("fa-plus-circle");s?(o.remove("fa-plus-circle"),o.add("fa-minus-circle")):(o.remove("fa-minus-circle"),o.add("fa-plus-circle"))},this.addRouteAndStopParamsToUrl=function(e,t){var n;(""+window.location).match(/\/index.html/)?n="index.html":(""+window.location).match(/\/default.aspx/)?n="default.aspx":(""+window.location).match(/\/myride_deployment_sample.html/)&&(n="myride_deployment_sample.html");var r=n+"#routeschedules?route="+e+"&"+"stop="+t;return r},this.cycleMarkerInfoWindows=function(t){var n,r=e[t];"planner"===t?n=myride.dom_q.map.overlays.trip_points.length:"schedule"===t&&(n=myride.dom_q.map.overlays.ordered_stop_list.length);var i;return i=0>r?n-1:r===n?0:r}}]),BCTAppServices.service("tripPlannerService",["$http","$q","generalServiceUtilities","unitConversionAndDataReporting","trip_planner_constants","bct_routes_alt_names",function(e,t,n,r,i,a){var o=this,s=new google.maps.Geocoder;this.geocodeAddress=function(e){var n=t.defer(),r=e.match(/-?[0-9]*\.[0-9]*,-?[0-9]*\.[0-9]*/);if(r){var i=r[0].split(","),a={Latitude:Number(i[0]),Longitude:Number(i[1])};n.resolve(a)}else s.geocode({address:e},function(e,t){t===google.maps.GeocoderStatus.OK?n.resolve(e):n.resolve(t)});return n.promise},this.getLatLon=function(e,n){return t.all([o.geocodeAddress(e),o.geocodeAddress(n)])},this.transformGeocodeCoords=function(e){var t=e.lat(),n=e.lng();return{Latitude:t,Longitude:n}},this.getTripPlanPromise=function(t,r,i){var a=!1,o=n.formatDateYYYYMMDD(t.datepick),s=t.datepick.toTimeString().slice(0,5),l=["WALK"];"arrive_by"===t.datetarg&&(a=!0);for(var c in t.modeswitch)t.modeswitch[c]===!0&&l.push(c.toUpperCase());return e({method:"POST",url:"http://174.94.153.48:7777/TransitApi/TripPlanner/",data:{From:r,To:i,ArriveBy:a+"",MaxWalk:900,Date:o,Time:s,Mode:l}})},this.formatRawTripStats=function(e){for(var t=0;e.length>t;t++){e[t].durationFieldFormatted=r.formatReportedDuration(e[t].durationField),e[t].startTimeFieldFormatted=r.formatReportedDate(e[t].startTimeField),e[t].endTimeFieldFormatted=r.formatReportedDate(e[t].endTimeField),e[t].legsField[0].styles="trip-planner-itinerary-step-highlighted";for(var n=1;e[t].legsField.length>n;n++)e[t].legsField[n].styles=""}return e},this.filterTripItineraries=function(e){for(var t=[],n=i.trip_duration_cutoff_hours,r=i.trip_walking_cutoff_meters,a=0;e.length>a;a++){var o=e[a].durationField/1e3/60/60,s=e[a].walkDistanceField;n>o&&r>s&&t.push(e[a])}return t},this.addAlternateRouteIds=function(e){for(var t=0;e.length>t;t++)for(var n=0;e[t].legsField.length>n;n++){var r=e[t].legsField;for(var i in a)r[n].routeLongNameField===i&&(r[n].routeField=a[i])}}}]),BCTAppServices.service("profilePageService",["$http","favorites_data","generalServiceUtilities",function(e,t,n){var r=this;this.downloadUserFavorites=function(){return e({method:"POST",url:"http://174.94.153.48:7777/TransitAPI/Favorites",data:{UserId:777,Action:"GET"},transformResponse:function(e){return n.tryParsingResponse(e,"downloadUserFavorites")}})},this.addFavoriteRouteStop=function(t,n){return e({method:"POST",url:"http://174.94.153.48:7777/TransitAPI/Favorites",data:{UserId:777,Action:"ADD",Favorite:{AgencyId:"BCT",RouteId:t,StopId:n}}})},this.deleteFavoriteRouteStop=function(t){return e({method:"POST",url:"http://174.94.153.48:7777/TransitAPI/Favorites",data:{UserId:777,Action:"DELETE",Favorite:{RecordId:t+""}}})},this.checkIfRouteStopFavorited=function(e,n,r){for(var i=0;t.favorites.length>i;i++)if(t.favorites[i].AgencyId===e&&t.favorites[i].RouteId===n&&t.favorites[i].StopId+""===r)return!0;return!1},this.showOrHideFavoriteIconSpinner=function(e,t){var n;switch(t){case"show":n="block";break;case"hide":n="";break;default:return console.log("showOrHideFavoriteIconSpinner: option not available: "+t),!1}e.parentNode.children[2].style.display=n},this.addAndRecordFavoriteRouteStop=function(e,n,i,a){var o=a.currentTarget;r.showOrHideFavoriteIconSpinner(o,"show");var s=r.addFavoriteRouteStop(n,i);s.then(function(a){if(r.showOrHideFavoriteIconSpinner(o,"hide"),"success"===a.data.Type){var s=a.data.Message,l={AgencyId:e,RouteId:n,StopId:i,RecordId:s};t.favorites.push(l)}else"favorite_already_added"===a.data.Message?console.log("Favorite route/stop already added."):console.log("Error adding stop: "+a.data.Message)})["catch"](function(){r.showOrHideFavoriteIconSpinner(o,"hide"),console.log("Failed to add stop to favorites.")})},this.deleteAndRecordFavoriteRouteStop=function(e,n,i,a){var o=a.currentTarget;r.showOrHideFavoriteIconSpinner(o,"show");for(var s=0;t.favorites.length>s;s++){var l;if(t.favorites[s].AgencyId===e&&t.favorites[s].RouteId===n&&t.favorites[s].StopId+""===i){l=t.favorites[s].RecordId;break}}if(!l)return console.log("Unable to find record for: agency "+e+", "+"route "+n+", "+"stop "+i+"."),!1;var c=r.deleteFavoriteRouteStop(l);c.then(function(e){r.showOrHideFavoriteIconSpinner(o,"hide"),"success"===e.data.Type?t.favorites.splice(s,1):"record_id_not_found"===e.data.Message?console.log("Unable to delete route/stop. Record ID not found."):console.log("Error deleting stop: "+e.data.Message)})["catch"](function(){r.showOrHideFavoriteIconSpinner(o,"hide"),console.log("Failed to delete stop from favorites.")})}}]),BCTAppServices.service("filterHelpers",["results_exist","filter_buffer_data",function(e,t){this.bufferResultsExistTruthiness=function(n,r,i){i!==t.search_string_buffer&&(t.search_string_buffer=i,e[n]=!1),r===!0&&(e[n]=!0)}}]),BCTAppServices.factory("customFilterMaker",["nearestStopsService","locationService","latest_location","filterHelpers","full_bstop_data","full_route_data","full_landmark_data",function(e,t,n,r,i,a,o){return{RouteStopLandmarkFilterMaker:function(s,l){var c=this;"stop"===s?(this.full_item_list=i,this.property_name="Name",this.id_or_code="Code"):"route"===s?(this.full_item_list=a,this.property_name="LName",this.id_or_code="Id"):"landmark"===s&&(this.full_item_list=o,this.property_name="Description",this.id_or_code=!1),l?(this.filter_condition=function(e){return 3>e?!1:!0},this.results_exist_flag="main"):(this.filter_condition=function(){return!0},this.results_exist_flag="sub"),this.filter=function(i,a,o){o||(o=c.full_item_list.list);var l=[],u=i.toLowerCase(),d=u.replace("(","\\(").replace(")","\\)");if(!c.filter_condition(i.length))return!0;if(0===i.length)return o;if("route"===s&&"all routes"===d)l=o;else for(var p=0;o.length>p;p++){var f;f=""+o[p][c.property_name],c.id_or_code&&(f+=" "+o[p][c.id_or_code]);var h=f.toLowerCase();h.match(d)&&l.push(o[p])}if(a){var m=t.changeToDefaultLocationIfOutsideOfFlorida(n);l=e.sortStopsByDistance(m,l)}var _=!!l[0];return r.bufferResultsExistTruthiness(c.results_exist_flag,_,d),l}}}}]),BCTAppServices.service("routeStopLandmarkFilters",["customFilterMaker","filter_making_info",function(e,t){for(var n in t){var r=t[n].info_type,i=t[n].use_min_length;this[n]=new e.RouteStopLandmarkFilterMaker(r,i).filter}}]),BCTAppServices.service("linkFunctions",["$compile","full_route_data","full_bstop_data","full_landmark_data",function(e,t,n,r){this.dynamicPanelContentsLoader=function(i,a,o){angular.element(a[0].getElementsByClassName("panel-heading")).bind("click",function(){var s="<sub-panel-"+o+"s>"+"</sub-panel-"+o+"s>";a[0].parentNode.parentNode.parentNode.scrollTop=a[0].offsetTop-10;var l;if("route"===o)l=i.route.Id,i.cur_route=t.dict[l],i.top_scope.filtered_sub_routes_arr=i.top_scope.route_stop_list=i.cur_route.bstop_refs;else if("stop"===o)l=i.stop.Id,i.cur_stop=n.dict[l],i.top_scope.filtered_sub_stops_arr=i.top_scope.stop_route_list=i.cur_stop.route_refs;else if("landmark"===o){for(var c=i.landmark.Id,u=r.list,d=0;u.length>d&&u[d].Id!==c;d++);i.cur_landmark=u[d],i.top_scope.filtered_sub_landmarks_arr=i.top_scope.landmark_stop_list=i.cur_landmark.bstop_refs}var p=Boolean(a.children().children()[1].childNodes[1].childNodes[3].innerHTML.match(/sub-panel-stops|sub-panel-landmarks|sub-panel-routes/));p||angular.element(a[0].childNodes[0].childNodes[3].childNodes[1].childNodes[3]).append(e(s)(i))})}}]),BCTAppServices.service("templateGenerators",["agency_filter_icons",function(e){this.createFilterIconBarTemplate=function(t){var n="";switch(t){case"mobile":n="schedule-results-icons-mobile";break;case"inline":n="schedule-results-icons-inline"}var r="";for(var i in e){var a=e[i],o=e[i].name;r+='<span id="'+a.agency+"-filter-"+t+'"'+'class="link-icon agency-filter '+n+'">'+"<img "+'alt="Select Agency: '+o+'" '+'title="Select Agency: '+o+'" '+'class="agency-filter-icon ptr '+"{{ agency_filter_icons."+a.agency+'.selection_class }}" '+'src="'+window.myride.directories.site_roots.active+window.myride.directories.paths.active+"css/ico/"+a.icon_filename+'" '+"ng-click=\"enableAgencyFilter('"+a.agency+"'"+"); "+'">'+"</span>"}return r}}]),BCTAppServices.service("nearestMapStopsService",["nearestStopsService","googleMapsUtilities",function(e,t){this.showNearestStopsFromMapCoords=function(n){var r=e.findNearestStops(n,!0,!0);return t.clearMap(!0),t.displayNearestMapStops(r),r}}]),BCTAppServices.service("recentlyViewedService",["recently_viewed_items","full_bstop_data",function(e){var t=this;this.MAXIMUM_RECENTLY_VIEWED_ITEM_NUMBER=5,this.loadRecentlyViewedList=function(){if(!localStorage)return console.log("Unable to store recently viewed items (no localStorage)"),!1;if(localStorage.recently_viewed_items){var t=JSON.parse(localStorage.recently_viewed_items);for(var n in e)e[n]=t[n]}else localStorage.setItem("recently_viewed_items",JSON.stringify(e))},this.saveRecentlyViewedItem=function(n,r){if(!localStorage)return console.log("Unable to store recently viewed items (no localStorage)"),!1;var i,a,o;"schedule_map"===n?(a=["route","stop"],i={route:r.route,stop:r.stop,name:o}):"trip_planner"===n&&(a=["start","finish"],i={start:r.start,finish:r.finish});for(var s=JSON.parse(localStorage.recently_viewed_items),l=0;s[n].length>l;l++){for(var c=0,u=0;a.length>u;u++)s[n][l][a[u]]===i[a[u]]&&c++;if(c===a.length)return!0}s[n].push(i),s[n].length>=t.MAXIMUM_RECENTLY_VIEWED_ITEM_NUMBER&&s[n].splice(0,1);for(var d in s)e[d]=s[d];localStorage.setItem("recently_viewed_items",JSON.stringify(s))}}]),BCTAppServices.service("routeStopLandmarkTransformationService",["full_bstop_data","full_route_data","full_landmark_data","all_alerts",function(e,t,n,r){var i=this;this.transformLandmarks=function(){for(var e=0;n.orig.length>e;e++)for(var t=n.orig[e],r=0;t.POIS.length>r;r++)n.list.push(t.POIS[r])},this.transformRoutes=function(){for(var e=0;t.list.length>e;e++){var n=t.list[e];t.dict[n.Id]=n}},this.transformStops=function(){for(var t=0;e.list.length>t;t++){var n=e.list[t];e.dict[n.Id]=n}},this.linkRouteAndStopReferences=function(){var a=["Id","LName"],o=["Id","Name","Code"],s=e.list,l=t.list,c=n.list;i.transformStops(),i.transformRoutes(),i.transformLandmarks();for(var u=e.dict,d=t.dict,p=0;l.length>p;p++){var f=l[p];f.route_icon_label=f.Id.replace(/BCT/,""),f.alerts=r.schedule_map,f.bstop_refs=[];for(var h=0;f.Stops.length>h;h++){for(var m=f.Stops[h],_={},g=0;o.length>g;g++)_[o[g]]=u[m][o[g]];f.bstop_refs.push(_)}}for(var v=0;s.length>v;v++){var y=s[v];y.route_refs=[];for(var h=0;y.Routes.length>h;h++){for(var w=y.Routes[h],$={},b=0;a.length>b;b++)$[a[b]]=d[w][a[b]];y.route_refs.push($)}}for(var S=0;c.length>S;S++){var k=c[S];k.bstop_refs=[];for(var C=0;k.Stops.length>C;C++){for(var T=k.Stops[C],x={},g=0;o.length>g;g++)x[o[g]]=u[T][o[g]];k.bstop_refs.push(x)}}}}]),BCTAppServices.service("googleMapsUtilities",["$q","$timeout","scheduleDownloadAndTransformation","unitConversionAndDataReporting","locationService","map_navigation_marker_indices","generalServiceUtilities","svg_icon_paths","map_clusterer","marker_icon_options","marker_click_memory","selected_nearest_map_stop","nearest_map_stop_distances","full_route_data","full_bstop_data","map_palette","clusterer_options","map_zoom_span_breakpoints",function($q,$timeout,scheduleDownloadAndTransformation,unitConversionAndDataReporting,locationService,map_navigation_marker_indices,generalServiceUtilities,svg_icon_paths,map_clusterer,marker_icon_options,marker_click_memory,selected_nearest_map_stop,nearest_map_stop_distances,full_route_data,full_bstop_data,map_palette,clusterer_options,map_zoom_span_breakpoints){var self=this,top_self=this;this.initializeMarkerClusterer=function(){map_clusterer.clusterer=new MarkerClusterer(myride.dom_q.map.inst,[],clusterer_options)},this.mapMaker=function(e,t,n){var r;r=t&&n?{lat:t,lng:n}:locationService.getDefaultDemoCoords(["lat","lng"]);var i={center:r,zoom:10,minZoom:8,styles:[{featureType:"transit.station.bus",stylers:[{visibility:"off"}]}]};myride.dom_q.map.inst=new google.maps.Map(e,i),self.initializeMarkerClusterer()},this.touchMap=function(){var e=myride.dom_q.map.inst.getCenter(),t={lat:e.lat(),lng:e.lng()+1e-10};myride.dom_q.map.inst.setCenter(t);var n=$q.defer();return google.maps.event.addListenerOnce(myride.dom_q.map.inst,"idle",function(){google.maps.event.trigger(myride.dom_q.map.inst,"resize"),n.resolve()}),n.promise},this.setMapPosition=function(e,t){if(!t)var t=18;if(e){if(e.Latitude){var n=e.Latitude,r=e.Longitude;e={},e.lat=n,e.lng=r}}else var e=locationService.getDefaultDemoCoords(["lat","lng"]);myride.dom_q.map.inst.setZoom(t);var i=$q.defer(),a=self.touchMap();return a.then(function(){myride.dom_q.map.inst.setCenter(e),i.resolve()}),i.promise},this.clearMap=function(e){for(var t=myride.dom_q.map.overlays.points,n=myride.dom_q.map.overlays.pline,r=myride.dom_q.map.overlays.trip_points,i=myride.dom_q.map.overlays.trip_pline,a=myride.dom_q.map.overlays.nearest_map_points,o=myride.dom_q.map.overlays.nearest_map_draggable,s=0;r.length>s;s++)r[s].marker.setMap(null);for(var s=0;r.length>s;s++)r[s].info.close();myride.dom_q.map.overlays.trip_points=[];for(var l=0;i.length>l;l++)i[l].setMap(null);myride.dom_q.map.overlays.trip_pline=[];for(p in t)t[p].marker.setMap(null);for(p in t)t[p].info.close();myride.dom_q.map.overlays.plines=[],n&&myride.dom_q.map.overlays.pline.setMap(null),myride.dom_q.map.overlays.points={},map_clusterer.clusterer.markers_=[];for(var c=0;map_clusterer.clusterer.clusters_.length>c;c++)map_clusterer.clusterer.clusters_[c].remove();for(var u in a)a[u].marker.setMap(null);if(myride.dom_q.map.overlays.nearest_map_points={},!e){for(var d in o)"default"===d&&o.default.marker&&o[d].marker.setMap(null);myride.dom_q.map.overlays.nearest_map_draggable={}}marker_click_memory.nearest="",selected_nearest_map_stop.stop_id="",nearest_map_stop_distances.dists=[]},this.displayRoute=function(e){for(var t=self.decodePath(full_route_data.dict[e].Shp),n=[],r=0;t.length>r;r++){var i={lat:"",lng:""};i.lat=t[r][0],i.lng=t[r][1],n.push(i)}var a="#"+full_route_data.dict[e].Color;return myride.dom_q.map.overlays.pline=new google.maps.Polyline({map:myride.dom_q.map.inst,path:n,strokeColor:a,strokeWeight:map_palette.weights.lines.mid}),n},this.createDummyInfoWindow=function(e,t){var n="";"trip_points"===e?n="trip_open_info":"points"===e&&(n=t?"open_info_hovered":"open_info"),myride.dom_q.map.overlays[n]=[{close:function(){},content:"<span>Stop: First</span>",is_dummy:!0}]},this.showSelectedInfoWindow=function(e,t,n,r,i){var a="",o="";if("planner"===e?(a="trip_open_info",o="trip_marker_window_id"):"schedule"===e&&(a=i?"open_info_hovered":"open_info",o="schedule_marker_window_id"),"schedule"===e&&i){var s=myride.dom_q.map.overlays.open_info[0][o]!==void 0,l=t.info[o]===myride.dom_q.map.overlays.open_info[0][o];if(s&&l)return!0}var c=myride.dom_q.map.overlays[a][0];if(t.info[o]===c[o])return!0;t.info.open(myride.dom_q.map.inst,t.marker);var u=myride.dom_q.map.overlays[a][0].marker_label;if((!i&&u||"planner"===e)&&(myride.dom_q.map.overlays[a][0].close(),"schedule"===e)){myride.dom_q.map.overlays.points[u].info.clicked=!1;var d=marker_icon_options.schedule_map.default;d.fillColor=myride.dom_q.map.overlays.points[c.marker_label].marker.getIcon().fillColor,myride.dom_q.map.overlays.points[c.marker_label].marker.setOptions({icon:d})}if(myride.dom_q.map.overlays[a].pop(),myride.dom_q.map.overlays[a].push(t.info),!i){var p=t.marker.getPosition();if(myride.dom_q.map.inst.setCenter({lat:p.lat(),lng:p.lng()}),"schedule"===e){var d=marker_icon_options.schedule_map.mouseover;d.fillColor=myride.dom_q.map.overlays.points[r].marker.getIcon().fillColor,myride.dom_q.map.overlays.points[r].marker.setOptions({icon:d})}if(n){var f=myride.dom_q.map.overlays.ordered_stop_list;if(f&&"schedule"===e)map_navigation_marker_indices.schedule=f.indexOf(r);else if("planner"===e){var h=myride.dom_q.map.overlays[a][0];map_navigation_marker_indices.planner=h[o]}}}return!1},this.addMarkerClickAndCloseListeners=function(e,t){google.maps.event.addListener(myride.dom_q.map.overlays[e][t].info,"closeclick",function(){var n=marker_icon_options.schedule_map.default;"trip_points"!==e&&myride.dom_q.map.overlays[e][t].marker.setOptions({icon:n}),self.createDummyInfoWindow(e),self.createDummyInfoWindow(e,!0),myride.dom_q.map.overlays[e][t].info.clicked=!1}),"points"===e?(google.maps.event.addListener(myride.dom_q.map.overlays[e][t].marker,"click",function(){myride.dom_q.map.overlays[e][t].info_opener.open("click",!1)}),google.maps.event.addListener(myride.dom_q.map.overlays[e][t].marker,"mouseover",function(){var n=marker_icon_options.schedule_map.mouseover;n.fillColor=myride.dom_q.map.overlays[e][t].marker.getIcon().fillColor,myride.dom_q.map.overlays[e][t].marker.setOptions({icon:n}),myride.dom_q.map.overlays[e][t].info_opener.open(null,!0)}),google.maps.event.addListener(myride.dom_q.map.overlays[e][t].marker,"mouseout",function(){var n=myride.dom_q.map.overlays[e][t].info.clicked;if(!n){myride.dom_q.map.overlays[e][t].info.close(),self.createDummyInfoWindow(e,!0);var r=marker_icon_options.schedule_map.default;r.fillColor=myride.dom_q.map.overlays[e][t].marker.getIcon().fillColor,myride.dom_q.map.overlays[e][t].marker.setOptions({icon:r})}})):"trip_points"===e&&google.maps.event.addListener(myride.dom_q.map.overlays[e][t].marker,"click",myride.dom_q.map.overlays[e][t].info_opener.open)},this.getOrderedStopListForCurrentRoute=function(e){var t=[],n=scheduleDownloadAndTransformation.downloadStopsForRoute(e).then(function(e){for(var n=0;e.data.Stops.length>n;n++)t.push(e.data.Stops[n].Id);return map_navigation_marker_indices.schedule=t.indexOf(map_navigation_marker_indices.schedule_named),t});return n},this.displayInfoWindowSchedule=function(e,t){if(!e.data.Today)return console.log("Problem communicating with server: InfoBox schedule."),!0;var n=scheduleDownloadAndTransformation.transformSchedule(e.data.Today);try{for(var r=t.info.div_.getElementsByClassName("schedule-map-info-window-schedule-contents")[0],i=n.nearest.next_times,a=[],o=0;i.length>o;o++)a.push(unitConversionAndDataReporting.convertToTwelveHourTime(i[o]));r.innerHTML=a[0]?a.map(function(e){var t=e.replace(/;next|;prev/,"");return t}).join(", "):"No more departures today."}catch(s){console.log("A Google Maps infowindow was closed before next times were fully loaded.")}},this.ScheduleMapInfoWindowOpener=function(e,t,n){var r=this;this.stop_id=e,this.route_id=t,this.marker=myride.dom_q.map.overlays.points[e],this.route_icons_template=n,this.schedule_template='<span class="schedule-map-info-window-schedule-contents">Loading Schedule...</span>',this.open=function(e,t){var n=top_self.showSelectedInfoWindow("schedule",r.marker,e,r.stop_id,t);return n?!0:(google.maps.event.addListenerOnce(r.marker.info,"domready",function(){var e=generalServiceUtilities.top_level_scope_prop_refs.compileTemplateWithTopScope;try{var n=r.marker.info.div_.getElementsByClassName("info-window-associated-routes")[0],i=r.marker.info.div_.getElementsByClassName("schedule-map-info-window-schedule")[0];i.style.display="none",e(n,r.route_icons_template),e(i,r.schedule_template),t&&(i.parentNode.parentNode.parentNode.style.zIndex=1)}catch(a){console.log("Info box closed too quickly to load graphics.")}if(!t){r.marker.info.clicked=!0;var i=r.marker.info.div_.getElementsByClassName("schedule-map-info-window-schedule")[0];i.style.display="block",generalServiceUtilities.top_level_scope_prop_refs.showInfoWindowSchedule(),scheduleDownloadAndTransformation.downloadSchedule(r.route_id,r.stop_id).then(function(e){top_self.displayInfoWindowSchedule(e,r.marker)})}}),void 0)}},this.TripPlannerInfoWindowOpener=function(e){var t=this;this.marker=e,this.open=function(e){$timeout(function(){var n=top_self.showSelectedInfoWindow("planner",t.marker,e);return n?!0:void 0},0)}},this.displayStopsForRoute=function(e){for(var t=full_bstop_data.dict,n=full_route_data.dict,r=n[e],i=r.Stops,a=[],o=0;i.length>o;o++)if(t[i[o]].LatLng.Latitude){var s=t[i[o]].LatLng.Latitude,l=t[i[o]].LatLng.Longitude,c=new google.maps.LatLng(s,l),u="#"+n[e].Color,d=marker_icon_options.schedule_map.default;d.fillColor=u;var p=new google.maps.Marker({map:myride.dom_q.map.inst,position:c,title:e+" "+i[o],icon:d}),f=t[i[o]].Routes;f.splice(f.indexOf(e),1),f.splice(0,0,e);for(var h="",m=0;f.length>m;m++){var _;_=0===m?"":"ng-click=\"switchRoutes('"+t[i[o]].Routes[m]+"', "+"'"+i[o]+"'"+');"',h+='<div class="schedule-map-info-box-route-icon no-highlight ptr" '+_+">"+'<span class="schedule-map-info-box-route-id">'+t[i[o]].Routes[m].replace(/BCT/,"")+"</span>"+"<bus-svg></bus-svg>"+"</div>"}var g='<div class="myride-info-box-contents"><div class="schedule-map-info-box-top"><div class="schedule-map-info-box-top-contents"><span>[ID #'+t[i[o]].Code+"]"+" - "+t[i[o]].Name+"</span>"+"</div>"+"</div>"+'<div class="schedule-map-info-box-bottom">'+'<span class="info-window-associated-routes"></span>'+'<span class="schedule-map-info-window-schedule">'+"</span>"+"</div>"+"</div>",v=new InfoBox({content:g,boxClass:"schedule-map-info-box",pixelOffset:{width:-103,height:-127},infoBoxClearance:{width:0,height:20}});v.set("schedule_marker_window_id",o),v.set("marker_label",i[o]),myride.dom_q.map.overlays.points[i[o]]={marker:p,info:v},a.push(p),myride.dom_q.map.overlays.points[i[o]].info_opener=new top_self.ScheduleMapInfoWindowOpener(i[o],e,h),top_self.addMarkerClickAndCloseListeners("points",i[o])}map_clusterer.clusterer.markers_=a},this.addNearestMapMarkerClickAndHoverListeners=function(e,t){google.maps.event.addListener(e.marker,"mouseover",function(){var t=marker_icon_options.schedule_map.mouseover;t.fillColor=map_palette.colors.blue,e.marker.setOptions({icon:t})}),google.maps.event.addListener(e.marker,"mouseout",function(){if(!e.clicked){var t=marker_icon_options.schedule_map.default;t.fillColor=map_palette.colors.red,e.marker.setOptions({icon:t})}}),google.maps.event.addListener(e.marker,"click",function(){if(marker_click_memory.nearest===t)return!0;e.clicked=!0;var n;if(myride.dom_q.map.overlays.nearest_map_points[marker_click_memory.nearest]){var r=myride.dom_q.map.overlays.nearest_map_points[marker_click_memory.nearest];r.clicked=!1,n=marker_icon_options.schedule_map.default,n.fillColor=map_palette.colors.red,r.marker.setOptions({icon:n})}marker_click_memory.nearest=t,n=marker_icon_options.schedule_map.mouseover,n.fillColor=map_palette.colors.blue,e.marker.setOptions({icon:n}),$timeout(function(){selected_nearest_map_stop.stop_id=t
},0)})},this.displayBikes=function(){var marker;jQuery.ajax({type:"POST",url:"http://174.94.153.48:7777/TransitApi/BCycle",data:"",dataType:"json",success:function(data,status,jqXHR){var arr=eval(data),bikeActive="https://madison.bcycle.com/Controls/StationLocationsMap/Images/key-active.png",bikeSpecialEvent="https://broward.bcycle.com/Controls/StationLocationsMap/Images/key-specialevent.png",PartialService="https://broward.bcycle.com/Controls/StationLocationsMap/Images/key-partialservice.png",Unavailable="https://broward.bcycle.com/Controls/StationLocationsMap/Images/key-outofservice.png",ComingSoon="https://broward.bcycle.com/Controls/StationLocationsMap/Images/key-comingsoon.png";jQuery.each(arr,function(e,t){var n=new google.maps.LatLng(t.Location.Latitude,t.Location.Longitude),r=t.Status;switch(r){case"Active":r=bikeActive;break;case"SpecialEvent":r=bikeSpecialEvent;break;case"PartialService":r=PartialService;break;case"Unavailable":r=Unavailable;break;case"ComingSoon":r=ComingSoon}marker=new google.maps.Marker({map:myride.dom_q.map.inst,position:n,icon:r});var i='<div><div style="color:red"><p>'+t.Name+"</p>"+"</div>"+"<div>"+"Adress: "+t.Address.Street+"</div>"+"<br>"+"<div>"+"Avalabilities:"+"</div>"+"bikes: "+t.BikesAvailable+"  docks: "+t.DocksAvailable+"</div>",a=new google.maps.InfoWindow({content:i});marker.addListener("click",function(){a.open(myride.dom_q.map.inst,this)}),marker.setMap(myride.dom_q.map.inst)})},error:function(){alert("loading bixi error")}})},this.displayNearestMapStops=function(e){for(var t=0;e.length>t;t++){var n={lat:e[t].LatLng.Latitude,lng:e[t].LatLng.Longitude},r=marker_icon_options.schedule_map.default;r.fillColor=map_palette.colors.red;var i=new google.maps.Marker({map:myride.dom_q.map.inst,position:n,icon:r}),a=myride.dom_q.map.overlays.nearest_map_points[e[t].Id]={marker:i};top_self.addNearestMapMarkerClickAndHoverListeners(a,e[t].Id)}},this.formatTransitModeResult=function(e,t){var n="",r="",i="";switch(e){case"BUS":var a=full_route_data.dict;n="#"+a["BCT"+t].Color,r="BCT"+t,i="Bus Route";break;case"WALK":n=map_palette.colors.black,r="",i="Walk";break;case"TRAIN":n="#009933",r="",i="Train";break;case"DEST":n="#000000",r="",i="Destination";break;default:throw Error().message="Invalid transit mode setting: "+e}return{leg_color:n,route_text:r,label:i}},this.getCoordsMidsAndSpans=function(e){var t=e.lats,n=e.lngs;t.sort(),n.sort();var r=t[0],i=t[t.length-1],a=n[0],o=n[n.length-1],s=Number((i-r).toFixed(5)),l=Number((o-a).toFixed(5)),c=Number((r+s/2).toFixed(5)),u=Number((a+l/2).toFixed(5));return{lat:{span:Math.abs(s),mid:c},lng:{span:Math.abs(l),mid:u}}},this.inferZoomFromMaxCoordSpan=function(e){for(var t=.012,n=0;map_zoom_span_breakpoints.length>n;n++){var r=n;map_zoom_span_breakpoints[n].calculated_breakpoint=t*(2<<r-1)}for(var i=600,a=myride.dom_q.map.cont.clientWidth,o=Number(a/i).toFixed(1),s=0;map_zoom_span_breakpoints.length>s;s++){var l=map_zoom_span_breakpoints[s].calculated_breakpoint;map_zoom_span_breakpoints[s].calculated_breakpoint=l*o}for(var n=0;map_zoom_span_breakpoints.length>n;n++){var c=map_zoom_span_breakpoints[n].manual_breakpoint||map_zoom_span_breakpoints[n].calculated_breakpoint;if(c>=e)return map_zoom_span_breakpoints[n].needed_zoom}return 8},this.findBestZoomAndCenter=function(e){var t=self.getCoordsMidsAndSpans(e),n={lat:t.lat.mid,lng:t.lng.mid},r=Math.max(t.lat.span,t.lng.span),i=self.inferZoomFromMaxCoordSpan(r);return{zoom:i,center:n}},this.displayTripPath=function(e){self.clearMap();for(var t=e,n={lats:[],lngs:[]},r=t.length,i=0;r+1>i;i++){var a;i===r?(t[i]={legGeometryField:{pointsField:[]},modeField:"DEST",routeField:null,fromField:{latField:t[i-1].toField.latField,lonField:t[i-1].toField.lonField},distanceField:"DEST",durationField:"DEST"},a=[]):a=self.decodePath(t[i].legGeometryField.pointsField);for(var o,s=[],l=0;a.length>l;l++){var c={};c.lat=a[l][0],c.lng=a[l][1],n.lats.push(a[l][0]),n.lngs.push(a[l][1]),s.push(c),o=a[l]}var u,d=self.formatTransitModeResult(t[i].modeField,t[i].routeField),p=d.leg_color,f=d.route_text,h=d.label,m={path:google.maps.SymbolPath.CIRCLE,scale:1,strokeWeight:3,strokeOpacity:1};u="WALK"===t[i].modeField?{map:myride.dom_q.map.inst,path:s,strokeColor:p,strokeWeight:map_palette.weights.lines.mid,strokeOpacity:0,icons:[{icon:m,offset:"0",repeat:"7px"}]}:{map:myride.dom_q.map.inst,path:s,strokeColor:p,strokeWeight:map_palette.weights.lines.mid};var _=new google.maps.Polyline(u);myride.dom_q.map.overlays.trip_pline.push(_);var g,v,y,w,$=svg_icon_paths.walking,b=svg_icon_paths.bus,S=svg_icon_paths.dest,k="",C=0,T=0,x="";switch(t[i].modeField){case"WALK":v=t[i].startTimeField.slice(0,10),y=t[i].endTimeField.slice(0,10),w=Number(v.slice(8,10)),k=$,C=32,T=57,x="#017AC2";break;case"BUS":v=t[i].startTimeField.slice(0,10),y=t[i].endTimeField.slice(0,10),w=Number(v.slice(8,10)),k=b,C=7,T=20,x=d.leg_color;break;case"DEST":k=S,C=8,T=4,x="#017AC2"}g=new google.maps.Point(C,T);var A,I,E,R={lat:t[i].fromField.latField,lng:t[i].fromField.lonField},M=new google.maps.Marker({map:myride.dom_q.map.inst,position:R,icon:{path:k,scale:1.5,strokeColor:"#000000",strokeWeight:1,fillColor:x,fillOpacity:1,anchor:g}});A=unitConversionAndDataReporting.formatReportedDistance(t[i].distanceField),I=A.reported_distance,E=A.reported_distance_unit;var D,L="",F="",P="",O=(new Date).getDate(),N="",B="";"DEST"!==t[i].modeField&&w!==O&&(N="("+v+")",B="("+y+")",L="<span class='trip-marker-info-window-start-time-top'>",F="<span class='trip-marker-info-window-start-time-bottom'>",P="</span>");var q;q="DEST"!==t[i].modeField?"<span>"+I+" "+E+"</span>"+"<span>"+L+N+" "+unitConversionAndDataReporting.convertToTwelveHourTime(t[i].startTimeField.slice(11,16))+" - "+P+F+B+" "+unitConversionAndDataReporting.convertToTwelveHourTime(t[i].endTimeField.slice(11,16))+P+"</span>"+"<span>"+"("+unitConversionAndDataReporting.splitHoursMinutes((t[i].durationField/1e3/60).toFixed(0))+")"+"</span>"+"</span>":"<span class='trip-marker-info-window-dest'>Arrived at destination.<span>",D="<div class=\"trip-marker-info-window\"><span class='trip-marker-info-window-top'><span class='trip-marker-info-window-number'><span class='trip-marker-info-window-number-contents'>"+(i+1)+"</span>"+"</span>"+"<span class='trip-marker-info-window-title'>"+h+" "+f+"</span>"+"<span class='trip-marker-info-window-close-box'>"+"</span>"+"</span>"+"<span class='trip-marker-info-window-bottom'>"+q+"</div>";var U=new InfoBox({content:D,boxClass:"trip-planner-info-box",pixelOffset:{width:-99,height:-120},infoBoxClearance:{width:0,height:25}});U.set("trip_marker_window_id",i);var j={marker:M,info:U},H=myride.dom_q.map.overlays.trip_points;H.push(j),H[i].info_opener=new top_self.TripPlannerInfoWindowOpener(H[i]),top_self.addMarkerClickAndCloseListeners("trip_points",i)}i===r&&t.pop();var V=self.findBestZoomAndCenter(n);myride.dom_q.map.inst.setZoom(V.zoom),myride.dom_q.map.inst.setCenter(V.center)},this.decodePath=function(e){var t=e.length,n=0,r=[],i=0,a=0;for(e=e.replace(/\\/g,"\\");t>n;){var o,s=0,l=0;do o=e.charCodeAt(n++)-63,l|=(31&o)<<s,s+=5;while(o>=32);var c=1&l?~(l>>1):l>>1;i+=c,s=0,l=0;do o=e.charCodeAt(n++)-63,l|=(31&o)<<s,s+=5;while(o>=32);var u=1&l?~(l>>1):l>>1;a+=u,r.push([1e-5*i,1e-5*a])}return r}}]),BCTAppServices.service("scrollingAlertsService",["all_alerts","scrolling_animation_constants","generalServiceUtilities",function(e,t,n){function r(e){var t=e;return e>I-1?t=0:0>e&&(t=I-1),t}function i(t,n){var r=n,i=e[t].length;return n>i?r=1:n>i-1?r=0:-3===n?r=i-3:-2===n?r=i-2:-1===n&&(r=i-1),r}function a(t,n){var r=1;"prev"===n&&(r*=-1);var a=m[t];m[t]+=r,m[t]=i(t,m[t]);var o=m[t];if(a!==o){var s=e[t][o],l=myride.dom_q.scrolling_alerts.global;l.innerHTML=s}}function o(e,t,n){var r;"global"===e&&(r=myride.dom_q.scrolling_alerts.global),n===!0?r.classList.add(t):n===!1&&r.classList.remove(t)}function s(e,t,n){var r=v[t];for(var i in r){var s=r[i],l=g[i];o("global",l,s)}"hidden_on_left"===_[e]&&"hidden_on_right_no_transition"===t?a(e,n):"hidden_on_right"===_[e]&&"hidden_on_left_no_transition"===t&&a(e,n),_[e]=t}function l(e){var t=this;this.module=e,this.step_forward=0,this.step_reverse=1,this.message_index=0,this.goToNextStep=function(){s(t.module,E[t.step_forward].keyframe_setup,"next"),t.step_forward++,t.step_forward=r(t.step_forward)},this.goToPrevStep=function(){s(t.module,R[t.step_reverse].keyframe_setup,"prev"),t.step_reverse++,t.step_reverse=r(t.step_reverse)}}function c(){B=setTimeout(function(){y.goToNextStep(),c()},b)}function u(){q=setTimeout(function(){y.goToPrevStep(),u()},b)}function d(e){var t;for(var n in e){var r=E[n].keyframe_setup;if("hidden_on_right_no_transition"===r||"hidden_on_left_no_transition"===r)return t=n}}function p(e){var t=e.filter(function(e){return"displayed_in_middle"!==e.keyframe_setup?e:void 0});return t}function f(e,t,n){for(var r=t[n],i=0;e.length>i;i++){var a=e[i][n];if(a===r)return i}return-1}function h(e,t){for(var n=[],r=0;t.length>r;r++){var i=f(e,t[r],"keyframe_setup");n.push(i)}return n}for(var m={global:0},_={global:""},g=t.keyframes,v=t.keyframe_setups,y=new l("global"),w=t.message_display_time,$=t.message_transition_out_time,b=$,S=t.animation_configs,k=0;S.length>k;k++)for(var C=0;S[k].length>C;C++){var T=S[k][C].duration/b;S[k][C].number_of_frames=T}for(var x,A,I=(2*$+w)/b,E=Array(I),R=Array(I),M=0,D=0,L=0;S.length>L;L++){0===L?(x=E,A=M):1===L&&(x=R,A=D);for(var F=0;S[L].length>F;F++)for(var P=S[L][F].number_of_frames,O=0;P>O;O++){var N={keyframe_setup:S[L][F].keyframe_setup_name};x[A]=N,A++}}var B,q,U,j,H=d(E),V=d(R),z=p(E),W=p(R),G=h(E,z),Y=h(R,W);this.goToGlobalAlertMessage=function(e){var t,r,i,a,o,s,l;if(j=e,"forward"===e)t=-1!==G.indexOf(y.step_forward),r=q,o="step_reverse",i=c,a="right",l=H-y.step_forward,s=y.goToNextStep;else{if("reverse"!==e)return console.log("Invalid direction specified: "+e),!1;t=-1!==Y.indexOf(y.step_reverse),r=B,o="step_forward",i=u,a="left",l=V-y.step_reverse,s=y.goToPrevStep}var d=j!==U;if(!d&&t)return!0;d&&(clearTimeout(r),i(),y[o]=0,n.top_level_scope_prop_refs.changeGlobalAlertsBarHighlighting(a));for(var p=0;l>p;p++)s();U=e},this.pauseGlobalAlertMessageScrolling=function(){clearTimeout(B),clearTimeout(q),n.top_level_scope_prop_refs.changeGlobalAlertsBarHighlighting("pause"),U="paused"}}]);var BCTAppDirectives=angular.module("BCTAppDirectives",[]);BCTAppDirectives.directive("iconLegendOverlay",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/icon_legend.html"}}]),BCTAppDirectives.directive("bctMyRideTopLevelOverlays",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/main.html"}}]),BCTAppDirectives.directive("scheduleMap",["googleMapsUtilities","marker_icon_options","base_marker_sizes","clusterer_options","$q",function(e,t,n,r,i){function a(a){function o(e,t){var r=n[e][t],i=myride.dom_q.map.inst.getZoom(),a=i/n.scaling_weight,o=a*r;return o}function s(){if(a.top_scope.show_schedule_result_top_bar){var e=myride.dom_q.map.overlays.points;for(var n in e)e[n].marker.setIcon(t.schedule_map.default);var r=myride.dom_q.map.overlays.open_info[0].marker_label;r&&e[r].marker.setIcon(t.schedule_map.mouseover)}else if(a.top_scope.show_nearest_map_stops_title){var i=myride.dom_q.map.overlays.nearest_map_points;for(var n in i)i[n].clicked||i[n].marker.setIcon(t.schedule_map.default)}}myride.dom_q.map.cont=document.getElementById("map-canvas"),e.mapMaker(myride.dom_q.map.cont),e.displayBikes(),a.top_scope.$evalAsync(function(){a.top_scope.schedule_map_zoom_out_listener=google.maps.event.addListener(myride.dom_q.map.inst,"zoom_changed",function(){if(!a.top_scope.nearest_map_stops_is_open&&!a.top_scope.schedule_map_is_open||a.top_scope.trip_planner_is_open)return!0;t.schedule_map.default.scale=o("default","scale"),t.schedule_map.mouseover.scale=o("mouseover","scale"),t.schedule_map.default.strokeWeight=o("default","strokeWeight"),t.schedule_map.mouseover.strokeWeight=o("mouseover","strokeWeight");var n=myride.dom_q.map.inst.getZoom(),l=i.defer();if(google.maps.event.addListenerOnce(myride.dom_q.map.inst,"idle",function(){(a.top_scope.nearest_map_stops_is_open||n>r.maxZoom)&&s(),l.resolve()}),a.top_scope.schedule_map_is_open&&myride.dom_q.map.overlays.open_info[0].hide){var c=myride.dom_q.map.overlays.open_info[0].isHidden_;r.maxZoom>=n?(myride.dom_q.map.overlays.open_info_hovered[0].is_dummy||l.promise.then(function(){myride.dom_q.map.overlays.open_info_hovered[0].close(),myride.dom_q.map.overlays.open_info_hovered.pop(),e.createDummyInfoWindow("points",!0)}),c||myride.dom_q.map.overlays.open_info[0].hide()):c&&myride.dom_q.map.overlays.open_info[0].show()}})})}return{link:a,restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/schedule_map.html"}}]),BCTAppDirectives.directive("mainLoadingModal",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/main_loading_modal.html"}}]),BCTAppDirectives.directive("routeAlertOverlay",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/route_alert_overlay.html"}}]),BCTAppDirectives.directive("scheduleMapOverlay",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/schedule_map_overlay.html"}}]),BCTAppDirectives.directive("tripPlanner",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/trip_planner.html"}}]),BCTAppDirectives.directive("tripPlannerItinerarySelector",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/trip_planner_itinerary_selector.html"}}]),BCTAppDirectives.directive("subPanelRoutes",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/sub_panel_routes.html"}}]),BCTAppDirectives.directive("subPanelStops",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/sub_panel_stops.html"}}]),BCTAppDirectives.directive("subPanelLandmarks",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/sub_panel_landmarks.html"}}]),BCTAppDirectives.directive("routeResultPanel",["linkFunctions",function(e){function t(t,n){var r="route";e.dynamicPanelContentsLoader(t,n,r)}return{link:t,restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/route_result_panel.html"}}]),BCTAppDirectives.directive("stopResultPanel",["linkFunctions",function(e){function t(t,n){var r="stop";e.dynamicPanelContentsLoader(t,n,r)}return{link:t,restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/stop_result_panel.html"}}]),BCTAppDirectives.directive("landmarkResultPanel",["linkFunctions",function(e){function t(t,n){var r="landmark";e.dynamicPanelContentsLoader(t,n,r)}return{link:t,restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/landmark_result_panel.html"}}]),BCTAppDirectives.directive("tripPlannerDialog",[function(){var e='<div id="trip-planner-dialog" ng-class="planner_dialog_styles">{{ geocoder_error_dialog_text }}<div>';return{restrict:"E",template:e}}]),BCTAppDirectives.directive("nearestStopsMapDialog",[function(){var e='<div id="nearest-stops-map-dialog" ng-class="nearest_stops_map_error_dialog_styles">{{ nearest_stops_map_error_dialog_text }}<div>';return{restrict:"E",template:e}}]),BCTAppDirectives.directive("scheduleMapErrorDialog",[function(){var e='<div id="schedule-map-error-dialog" ng-class="schedule_map_error_dialog_styles" {{ schedule_map_error_dialog_text }}<div>';return{restrict:"E",template:e}}]),BCTAppDirectives.directive("fullScheduleErrorDialog",[function(){var e='<div id="full-schedule-error-dialog" ng-class="full_schedule_error_dialog_styles" {{ full_schedule_error_dialog_text }}<div>';return{restrict:"E",template:e}}]),BCTAppDirectives.directive("plannerOptionBar",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/planner_option_bar.html"}}]),BCTAppDirectives.directive("nearestStops",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/nearest_stops.html"}}]),BCTAppDirectives.directive("mobileFilterIcons",["templateGenerators",function(e){var t=e.createFilterIconBarTemplate("mobile");return{restrict:"E",template:t}}]),BCTAppDirectives.directive("inlineFilterIcons",["templateGenerators",function(e){var t=e.createFilterIconBarTemplate("inline");return{restrict:"E",template:t}}]),BCTAppDirectives.directive("tripPlannerNavigationBar",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/trip_planner_navigation_bar.html"}}]),BCTAppDirectives.directive("scheduleMapNavigationBar",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/schedule_map_navigation_bar.html"}}]),BCTAppDirectives.directive("tripPlannerStep",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/trip_planner_step.html"}}]),BCTAppDirectives.directive("globalAlertsHeader",[function(){function e(e,t){t.ready(function(){myride.dom_q.scrolling_alerts.global=document.getElementById("global-alert-header-message"),e.global_alerts_ready_deferred.resolve()})}return{link:e,restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/global_alerts_header.html"}}]),BCTAppDirectives.directive("busSvg",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/svg/bus.html"}}]),BCTAppDirectives.directive("destSvg",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/svg/dest.html"}}]),BCTAppDirectives.directive("walkingSvg",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/svg/walking.html"}}]),BCTAppDirectives.directive("tripPlannerIcon",["$compile",function(e){function t(t,n){var r=t.leg.modeField,i="";switch(r){case"WALK":i="<walking-svg></walking-svg>";break;case"BUS":i="<bus-svg></bus-svg>";break;case"DEST":i="<dest-svg></dest-svg>"}n.append(e(i)(t))}return{restrict:"E",link:t}}]),BCTAppDirectives.directive("nearestMapStopsInfoContainer",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/nearest_map_stops_info_container.html"}}]),BCTAppDirectives.directive("fullSchedulePanel",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/full_schedule_panel.html"}}]),BCTAppDirectives.directive("fullSchedulePanelWithDatepicker",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/full_schedule_panel_with_datepicker.html"}}]),BCTAppDirectives.directive("recentlyViewedItems",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/recently_viewed_items.html"}}]),BCTAppDirectives.directive("subPanelRecentTrip",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/sub_panel_recent_trip.html"}}]),BCTAppDirectives.directive("subPanelRecentRouteStop",[function(){return{restrict:"E",templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/sub_panel_recent_route_stop.html"}}]),BCTAppDirectives.directive("topSearchBar",["$timeout",function(e){function t(t){var n=t.$parent.top_scope;"index_page"===t.module?(t.input_id="route-stop-search-index-input",t.submitRouteStopSearchWrapper=function(){t.top_scope.changeURLHash("routeschedules","schedule_search"),n.submitRouteStopSearch("click","index")},t.showAllRoutesWrapper=function(){n.showAllRoutes("index")},e(function(){myride.dom_q.inputs.elements.index_search_input=document.getElementById("route-stop-search-index-input")},0)):"search_results_page"===t.module&&(t.input_id="route-stop-search-input",t.submitRouteStopSearchWrapper=function(){n.submitRouteStopSearch("click","results")},t.showAllRoutesWrapper=function(){n.showAllRoutes("schedule_search")},e(function(){myride.dom_q.inputs.elements.rs_search_input=document.getElementById("route-stop-search-input"),myride.dom_q.inputs.elements.rs_search_input.value=n.query_data.schedule_search},0))}return{restrict:"E",scope:{module:"@"},link:t,templateUrl:window.myride.directories.site_roots.active+window.myride.directories.paths.active+"partials/top_search_bar.html"}}]);